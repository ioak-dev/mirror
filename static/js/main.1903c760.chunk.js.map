{"version":3,"sources":["images/mirror_white_small.svg","reducers/AuthReducer.ts","reducers/ProfileReducer.ts","reducers/UserReducer.ts","reducers/ArticleReducer.ts","reducers/RequestReducer.ts","reducers/StageReducer.ts","reducers/index.ts","actions/types.ts","store.ts","components/Home/index.tsx","components/Auth/Login.tsx","oakui/icons/SendIcon.tsx","oakui/icons/IoakIcon.tsx","oakui/OakIcon.tsx","oakui/OakButton.tsx","components/Landing/index.tsx","components/Lib/RestTemplate.ts","events/MessageService.ts","components/Constants.ts","actions/UserActions.ts","actions/ProfileActions.ts","oakui/OakSpinner.tsx","components/Notification/NotificationMessage.tsx","components/Notification/index.tsx","components/Navigation/Links.tsx","events/SearchEvent.ts","oakui/SearchBar.tsx","components/Navigation/Desktop.tsx","components/Navigation/Mobile.tsx","components/Navigation/index.tsx","oakui/OakText.tsx","components/Auth/AuthService.ts","components/Utils.ts","components/Tenant/index.tsx","oakui/OakViewResolver.tsx","oakui/OakView.tsx","oakui/OakSidebar.tsx","components/Settings/index.tsx","components/Tenant/TenantService.ts","components/Article/ArticleList/index.tsx","oakui/OakSelect.tsx","oakui/OakPagination.tsx","oakui/OakTable.tsx","oakui/OakDialog.tsx","actions/RequestActions.ts","components/Request/view.tsx","actions/StageActions.ts","components/Request/index.tsx","oakui/OakCheckbox.tsx","components/UserAdministration/view.tsx","components/UserAdministration/index.tsx","actions/AuthActions.ts","components/Auth/OakRoute.tsx","components/Auth/Unauthorized.tsx","oakui/OakEditor.tsx","components/Category/CategoryTree/index.tsx","oakui/OakChipGroup.tsx","components/Article/CreateArticle/CreateItem.tsx","components/Article/CreateArticle/index.tsx","components/Article/ArticleService.ts","oakui/OakModal.tsx","oakui/OakPrompt.tsx","components/Article/ViewArticle/ArticleItem.tsx","components/Article/ViewArticle/index.tsx","components/Article/EditArticle/EditItem.tsx","components/Article/EditArticle/index.tsx","components/App/Content.tsx","components/App/index.tsx","serviceWorker.js","index.tsx","images/mirror_white.svg","images/mirror_black.svg"],"names":["module","exports","initialState","isAuth","firstname","lastname","theme","textSize","themeColor","users","items","categories","logs","data","combineReducers","authorization","state","action","type","console","log","payload","profile","user","article","request","stage","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","Home","props","className","queryString","require","Login","useEffect","location","search","query","parse","cookies","set","space","authKey","history","push","SendIcon","version","id","x","y","viewBox","enableBackground","style","dimension","transform","d","IoakIcon","fill","points","accent","width","height","stroke","strokeWidth","strokeMiterlimit","cx","cy","r","OakIcon","getStyle","colorVar","chosenColor","color","getDimension","fontSize","size","svg","mat","fa","OakButton","useSelector","includes","variant","children","invert","small","align","onClick","icon","Landing","to","activeClassName","baseUrl","process","httpGet","endpoint","headers","url","axios","get","httpPost","post","httpPut","put","httpDelete","delete","subject","Subject","sendMessage","name","signal","next","receiveMessage","asObservable","httpHandleRequest","messageId","reference","message","httpHandleResponse","response","status","duration","outcome","httpHandleResponseSilent","httpHandleError","error","httpHandleErrorSilent","constants","API_URL_TENANT","API_URL_TENANT_BANNER","API_URL_TENANT_CREATE","API_TENANT_URL","API_URL_PRESIGNUP","API_URL_RESET","API_URL_CODE","API_URL_USER_DETAILS","API_URL_STAGE","API_URL_PREDICT","API_URL_CATEGORY","API_URL_FAQ","API_URL_SR","API_URL_USER","API_URL","API_SIGNIN","API_SIGNUP","API_KEYS","API_JWT","fetchAllUsers","tenant","dispatch","Authorization","token","then","getProfile","setProfile","OakSpinner","NotificationMessage","notification","handleRemove","Notification","useState","spinner","setSpinner","notificationList","setNotificationList","removeNotification","notificationData","filter","item","eventBus","subscribe","localCopy","unshift","setTimeout","addNotification","unsubscribe","length","slice","reverse","map","key","data-test","Links","searchTextChangedEvent$","BehaviorSubject","searchEvent$","SearchBar","searchText","setSearchText","searchTextChangedEventListener","method","onSubmit","event","preventDefault","noValidate","alt","spellCheck","autoComplete","autoFocus","placeholder","required","value","onChange","target","xmlns","Desktop","showSearchBar","setShowSearchBar","signin","login","transparent","src","mirrorBlack","mirrorWhite","toggleDarkMode","logout","Mobile","menu","setData","toggleMenu","mirrorWhiteSmall","connect","withCookies","withRouter","visible","mobilemenu","chooseTheme","showSettings","transparentNavBar","firstLoad","setSpace","removeAuth","remove","window","href","toggleSettings","OakText","multiline","disabled","errorFields","handleChange","onFocus","handleFocus","htmlFor","label","encrypt","password","salt","config","cipher","iter","ks","CryptoJS","enc","Base64","stringify","Utf8","sjcl","isEmptyOrSpaces","str","match","Tenant","email","repeatPassword","jwtPassword","pageNo","created","banner","setBanner","setErrorFields","currentTarget","setError","fieldName","createTenantAction","preSignupData","formData","FormData","append","tenantName","solution","Promise","resolve","createTenant","catch","e","accept","files","test","preSignup","OakViewResolver","mobileViewPort","setMobileViewPort","showSide","setShowSide","views","setViews","main","setMain","side","setSide","viewPort","matchMedia","matches","addListener","initializeViews","React","Children","toArray","forEach","node","toggleSideView","sideLabel","OakView","OakSidebar","show","setShow","elementList","setElementList","elements","undefined","number","animate","Settings","sidebarElements","chooseSection","myProfile","any","section","params","ownerEmail","LIST_ARTICLES","gql","CreateArticle","useQuery","loading","categoryid","setUrlParam","articles","title","description","OakSelect","changeSelection","newValue","objects","firstAction","OakPagination","rowsPerPage","pageChanged","onChangePage","totalRows","Math","ceil","OakTable","sortField","sortAsc","paginationPref","setPaginationPref","headerMap","setHeaderMap","header","element","sort","a","b","headerElement","dtype","compare","view","material","dense","row","column","dateText","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","formatDate","OakDialog","setVisible","documentWidth","document","documentElement","clientWidth","scrollBarWidth","innerWidth","setProperty","body","classList","add","addEventListener","escFunction","removeEventListener","keyCode","toggleVisibility","getDialogStyle","noheader","fullscreen","fetchRequest","fetchRequestLog","emptyRequest","_id","priority","requestLog","saveRequestLog","requestId","request_id","comments","nextStage","newLog","setNewLog","nextStageToAssign","roles","stages","some","indexOf","findNextStage","index","findIndex","previousStage","handleRequestChange","newLogSection","editDialogOpen","toggleEditDialog","lastModifiedByEmail","lastModifiedAt","saveRequest","updateTime","toLocaleString","assignedTo","role","fetchStage","deleteRequest","newDialogOpen","setNewDialogOpen","setEditDialogOpen","selectedRequest","setSelectedRequest","text","searchPref","setSearchPref","setItems","setView","stageList","findStage","list","statusView","openEditDialog","applySearch","result","toLowerCase","stageData","toggleNewDialog","requestInput","edit","requestToSave","OakCheckbox","checked","UserAdministrationView","administrativeRolesList","administrativeRoles","supportRoles","handleSupportRoleChange","handleAdministrativeRoleChange","isDialogOpen","toggleDialog","Object","keys","saveUser","dialogOpen","setDialogOpen","selectedUser","setSelectedUser","initializeRequest","roleList","findRole","addAuth","GET_SESSION","OakRoute","gqlClient","useApolloClient","useDispatch","runMidleware","middlewareName","readAuthenticationSpace","authenticateSpace","isAdmin","authenticate","redirect","cookieKey","variables","session","secret","firstName","lastName","redirectToLogin","redirectToUnauthorized","spaceId","middlewares","component","Unauthorized","OakEditor","blockApiChangeEvents","setBlockApiChangeEvents","bubble","delta","source","modules","toolbar","indent","background","font","formats","CategoryTree","pageid","OakChipGroup","uuidv4","searchOn","setSearchOn","criteria","setCriteria","dropdownFiltered","setDropdownFiltered","updateSearchResults","selected","handleAddition","searchCriteria","getElementById","contains","handleRemoval","handleSubmit","ADD_ARTICLE","CreateItem","useMutation","addArticle","tags","addTags","removeTags","validateEmptyText","categoryId","urlParam","goBack","saveArticle","random","fetchArticle","deleteArticle","OakModal","getmodalStyle","donotMobilize","OakPrompt","ArticleItem","confirmDelete","setConfirmDelete","deleteArticledata","dangerouslySetInnerHTML","__html","GET_ARTICLE","ViewArticle","EditItem","updateArticle","EditArticle","themes","themecolor1","getTheme","themecolor2","themecolor3","themecolor4","createMuiTheme","palette","primary","secondary","getUser","addUser","httpLink","createHttpLink","uri","authLink","setContext","_","client","ApolloClient","link","concat","cache","InMemoryCache","path","render","propsLocal","exact","ArticleList","ServiceRequests","UserAdministration","App","Boolean","hostname","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1903c760.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/mirror_white_small.7aed2e38.svg\";","import { GET_AUTH, ADD_AUTH, REMOVE_AUTH } from '../actions/types';\n\nconst initialState = {\n  isAuth: false,\n  firstname: '',\n  lastname: '',\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case GET_AUTH:\n      console.log('GET_AUTH reducer');\n      return {\n        ...state,\n      };\n    case ADD_AUTH:\n      console.log('ADD_AUTH reducer');\n      return {\n        ...state,\n        ...action.payload,\n      };\n\n    case REMOVE_AUTH:\n      console.log('REMOVE_AUTH reducer');\n      return {\n        ...state,\n        isAuth: false,\n        firstname: '',\n        lastname: '',\n      };\n    default:\n      return state;\n  }\n}\n","import { GET_PROFILE, SET_PROFILE } from '../actions/types';\n\nconst initialState = {\n  theme: 'theme_dark',\n  textSize: 'textsize_medium',\n  themeColor: 'themecolor1',\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case GET_PROFILE:\n      console.log('GET_PROFILE reducer');\n      return {\n        ...state,\n      };\n    case SET_PROFILE:\n      console.log('SET_PROFILE reducer');\n      return {\n        ...state,\n        ...action.payload,\n      };\n    default:\n      return state;\n  }\n}\n","import { GET_USER, ADD_USER, FETCH_ALL_USERS } from '../actions/types';\n\nconst initialState = {\n  users: [],\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case GET_USER:\n      console.log('GET_USER reducer');\n      return {\n        ...state,\n      };\n    case ADD_USER:\n      console.log('ADD_USER reducer');\n      return {\n        ...state,\n        ...action.payload,\n      };\n    case FETCH_ALL_USERS:\n      console.log('FETCH_ALL_USERS reducer');\n      return {\n        ...state,\n        ...action.payload,\n      };\n    default:\n      return state;\n  }\n}\n","import { FETCH_ARTICLE } from '../actions/types';\n\nconst initialState = {\n  items: [],\n  categories: [],\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_ARTICLE:\n      console.log('FETCH_ARTICLE reducer');\n      return {\n        ...state,\n        ...action.payload,\n      };\n    default:\n      return state;\n  }\n}\n","import { FETCH_REQUEST } from '../actions/types';\n\nconst initialState = {\n  items: [],\n  logs: [],\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_REQUEST:\n      console.log('FETCH_REQUEST reducer');\n      return {\n        ...state,\n        ...action.payload,\n      };\n    default:\n      return state;\n  }\n}\n","import { FETCH_STAGE } from '../actions/types';\n\nconst initialState = {\n  data: [],\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_STAGE:\n      console.log('FETCH_STAGE reducer');\n      return {\n        ...state,\n        ...action.payload,\n      };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport AuthReducer from './AuthReducer';\nimport ProfileReducer from './ProfileReducer';\nimport UserReducer from './UserReducer';\nimport ArticleReducer from './ArticleReducer';\nimport RequestReducer from './RequestReducer';\nimport StageReducer from './StageReducer';\n\nexport default combineReducers({\n  authorization: AuthReducer,\n  profile: ProfileReducer,\n  user: UserReducer,\n  article: ArticleReducer,\n  request: RequestReducer,\n  stage: StageReducer,\n});\n","export const GET_AUTH = 'GET_AUTH';\nexport const ADD_AUTH = 'ADD_AUTH';\nexport const REMOVE_AUTH = 'REMOVE_AUTH';\n\nexport const GET_PROFILE = 'GET_PROFILE';\nexport const SET_PROFILE = 'SET_PROFILE';\n\nexport const GET_USER = 'GET_USER';\nexport const ADD_USER = 'ADD_USER';\n\nexport const FETCH_ARTICLE = 'FETCH_ARTICLE';\nexport const FETCH_REQUEST = 'FETCH_REQUEST';\nexport const FETCH_STAGE = 'FETCH_STAGE';\nexport const FETCH_ALL_USERS = 'FETCH_ALL_USERS';\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  compose(\n    applyMiddleware(...middleware) // ,\n    // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n  )\n);\n\nexport default store;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport './style.scss';\nimport cover from '../../images/cover.jpg';\nimport SearchBar from '../../oakui/SearchBar';\nimport constants from '../Constants';\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\nimport {\n  searchTextChangedEvent$,\n  searchEvent$,\n} from '../../events/SearchEvent';\nimport { getBanner } from '../Tenant/TenantService';\nimport { httpGet, httpPost, httpPut } from '../Lib/RestTemplate';\nimport { Authorization } from '../Types/GeneralTypes';\nimport OakDialog from '../../oakui/OakDialog';\nimport { isEmptyOrSpaces } from '../Utils';\nimport OakPrompt from '../../oakui/OakPrompt';\nimport OakText from '../../oakui/OakText';\nimport OakButton from '../../oakui/OakButton';\n\nconst pageYOffsetCutoff = 10;\n\ninterface Props {\n  setProfile: Function;\n  profile: any;\n  match: any;\n  history: any;\n}\n\nconst Home = (props: Props) => {\n  return <div className=\"home full\">Home page</div>;\n};\n\nexport default Home;\n","import React, { useState, useEffect } from 'react';\nimport './Login.scss';\n\nconst queryString = require('query-string');\n\ninterface Props {\n  setProfile: Function;\n  cookies: any;\n  history: any;\n  profile: any;\n  match: any;\n  location: any;\n}\n\nconst Login = (props: Props) => {\n  useEffect(() => {\n    if (props.location.search) {\n      const query = queryString.parse(props.location.search);\n      props.cookies.set(`mirror_${query.space}`, query.authKey);\n      props.history.push(`/${query.space}/home`);\n    }\n  }, []);\n\n  return <></>;\n};\n\nexport default Login;\n","import React from 'react';\n\ninterface Props {\n  style: object;\n  accent: object;\n  dimension: object;\n}\nconst SendIcon = (props: Props) => {\n  return (\n    <svg\n      version=\"1.0\"\n      id=\"Layer_1\"\n      x=\"0px\"\n      y=\"0px\"\n      viewBox=\"0 0 57 56\"\n      enableBackground=\"new 0 0 57 56\"\n      style={props.dimension}\n    >\n      <g id=\"Chat-Fenster\">\n        <g\n          id=\"chat_FAQ_Accordion2-Copy-13\"\n          transform=\"translate(-1364.000000, -1001.000000)\"\n        >\n          <g id=\"Send-Message\" transform=\"translate(397.000000, 1008.000000)\">\n            <g id=\"Send-Button\" transform=\"translate(990.000000, 10.000000)\">\n              <g id=\"Send_1_\">\n                <path\n                  style={props.style}\n                  d=\"M16,0.5c-0.1-0.1-0.3-0.1-0.4-0.1L-7,10.8c-0.1,0.1-0.2,0.2-0.2,0.3s0.1,0.3,0.2,0.3l6.4,3.1\n\t\t\t\t\t\tc0.1,0.1,0.3,0,0.4,0L6,9.9l-4.9,4.9C1,14.9,1,15,1,15.1l0.5,6.2c0,0.1,0.1,0.3,0.2,0.3h0.1c0.1,0,0.2,0,0.3-0.1l3.4-3.9l4.2,2\n\t\t\t\t\t\tc0.1,0,0.2,0,0.3,0s0.2-0.1,0.2-0.2l5.9-18.6C16.1,0.7,16.1,0.6,16,0.5z\"\n                />\n              </g>\n            </g>\n          </g>\n        </g>\n      </g>\n    </svg>\n  );\n};\n\nexport default SendIcon;\n","import React from 'react';\n\ninterface Props {\n  style: object;\n  accent: object;\n  dimension: object;\n}\nconst IoakIcon = (props: Props) => {\n  return (\n    <svg viewBox=\"0 0 73 73\" style={props.dimension}>\n      <polygon\n        fill=\"#27AAE1\"\n        points=\"38.5,-3.8 37.9,-3.8 37.9,-3.8 38.5,-3.8 \"\n      />\n      <g>\n        <path\n          fill=\"#149ED9\"\n          d=\"M27.6,23c2.6-1.8,5.8-2.9,9.3-2.9c3.4,0,6.6,1.1,9.3,2.9l6.3-7.5c-4.3-3.2-9.7-5.2-15.6-5.2\n\t\tc-5.8,0-11.2,1.9-15.6,5.2L27.6,23z\"\n          style={props.accent}\n        />\n        <rect x=\"32\" y=\"37.4\" width=\"9.8\" height=\"25.6\" style={props.style} />\n        <circle\n          fill=\"none\"\n          stroke=\"#000000\"\n          strokeWidth=\"9.75\"\n          strokeMiterlimit=\"10\"\n          cx=\"36.9\"\n          cy=\"36.5\"\n          r=\"30.9\"\n          style={{ ...props.style, fill: 'none' }}\n        />\n        <polygon\n          fill=\"#27AAE1\"\n          points=\"37.2,-3.9 36.6,-3.9 36.6,-3.9 37.2,-3.9 \t\"\n        />\n        <circle cx=\"36.9\" cy=\"32.8\" r=\"7.8\" style={props.style} />\n      </g>\n    </svg>\n  );\n};\n\nexport default IoakIcon;\n","import React from 'react';\nimport './styles/oak-icon.scss';\nimport SendIcon from './icons/SendIcon';\nimport IoakIcon from './icons/IoakIcon';\n\ninterface Props {\n  // pass either mat or svg or fa\n  // mat for material icon names\n  mat?: string;\n  // svg for custom svg icon names\n  svg?: string;\n  fa?: string;\n  size?: string;\n  color?: string; // theme names and actual color codes or names or variables\n  accent?: string;\n}\nconst OakIcon = (props: Props) => {\n  const getStyle = colorVar => {\n    const style: any = {};\n    let chosenColor = '';\n    switch (colorVar) {\n      case 'primary':\n        chosenColor = 'var(--color-primary-1)';\n        break;\n      case 'secondary':\n        chosenColor = 'var(--color-secondary-1)';\n        break;\n      case 'tertiary':\n        chosenColor = 'var(--color-tertiary-1)';\n        break;\n      case 'success':\n        chosenColor = 'var(--color-success)';\n        break;\n      case 'failure':\n        chosenColor = 'var(--color-failure)';\n        break;\n      case 'warning':\n        chosenColor = 'var(--color-warning)';\n        break;\n      default:\n        chosenColor = colorVar || 'var(--color-foreground-1)';\n    }\n    style.fill = chosenColor;\n    style.color = chosenColor;\n    style.stroke = chosenColor;\n    return style;\n  };\n  const getDimension = () => {\n    const dimension: any = {};\n    dimension.fontSize = props.size ? props.size : '24px';\n    if (props.svg) {\n      dimension.height = props.size ? props.size : '24px';\n      dimension.width = 'auto';\n    }\n    return dimension;\n  };\n  return (\n    <div className=\"oak-icon\">\n      {props.mat && (\n        <i\n          className=\"material-icons\"\n          style={{ ...getStyle(props.color), ...getDimension() }}\n        >\n          {props.mat}\n        </i>\n      )}\n      {props.fa && (\n        <i\n          className={`fontawesome-icons ${props.fa}`}\n          style={{ ...getStyle(props.color), ...getDimension() }}\n        >\n          {props.mat}\n        </i>\n      )}\n      {props.svg && props.svg === 'send' && (\n        <SendIcon\n          style={getStyle(props.color)}\n          accent={props.accent && getStyle(props.accent)}\n          dimension={getDimension()}\n        />\n      )}\n      {props.svg && props.svg === 'ioak' && (\n        <IoakIcon\n          style={getStyle(props.color)}\n          accent={props.accent && getStyle(props.accent)}\n          dimension={getDimension()}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default OakIcon;\n","import React, { ReactNode } from 'react';\nimport { useSelector } from 'react-redux';\nimport './styles/oak-button.scss';\nimport OakIcon from './OakIcon';\n\ninterface Props {\n  icon?: string; // points to \"mat\" material icon\n  fa?: string;\n  svg?: string;\n  action?: any;\n  variant?:\n    | 'block'\n    | 'outline'\n    | 'appear'\n    | 'disappear'\n    | 'regular'\n    | 'disabled'\n    | 'drama';\n  theme?: 'primary' | 'secondary' | 'tertiary' | 'default';\n  align?: 'left' | 'right' | 'center';\n  small?: boolean;\n  invert?: boolean;\n  children?: ReactNode;\n  type?: 'button' | 'submit';\n}\n\nconst OakButton = (props: Props) => {\n  const profile = useSelector(state => state.profile);\n  const getStyle = () => {\n    let style = props.theme ? props.theme : '';\n    style += profile?.theme?.includes('theme_light') ? ' light' : '';\n    style += props.variant ? ` ${props.variant}` : '';\n\n    if (!props.children) {\n      style += ' icon';\n    }\n\n    style += props.invert ? ' invert' : '';\n\n    style += props.small ? ' small' : '';\n\n    style += props.align ? ` align-${props.align}` : '';\n\n    return style;\n  };\n\n  return (\n    // eslint-disable-next-line react/button-has-type\n    <button className={`oak-button ${getStyle()}`} onClick={props.action}>\n      <div className=\"button-label-container\">\n        {props.icon && <OakIcon mat={props.icon} size=\"1.2em\" />}\n        {props.fa && <OakIcon fa={props.fa} size=\"1.2em\" />}\n        {props.svg && <OakIcon svg={props.svg} size=\"1.2em\" />}\n        {props.children && props.children}\n      </div>\n    </button>\n  );\n};\n\nexport default OakButton;\n","import React, { useState } from 'react';\nimport './style.scss';\nimport { NavLink } from 'react-router-dom';\nimport OakButton from '../../oakui/OakButton';\n\nconst Landing = () => {\n  return (\n    <div className=\"landing\">\n      <div className=\"space-bottom-4\">\n        <h3>Mirror rorriM</h3>\n        <p>\n          <em>\n            <b>Queen</b>\n          </em>{' '}\n          Magic Mirror on the wall, who now is the fairest one of all?\n        </p>\n        <p>\n          <em>\n            <b>Magic Mirror</b>\n          </em>{' '}\n          Over the seven jewelled hills, beyond the seventh fall, in the cottage\n          of the seven dwarfs, dwells Snow White, fairest one of all.\n        </p>\n        <p>\n          <em>\n            <b>Queen</b>\n          </em>{' '}\n          Snow White lies dead in the forest. The huntsman has brought me proof.\n          [holds up her opened box] Behold, her heart.\n        </p>\n        <p>\n          <em>\n            <b>Magic Mirror</b>\n          </em>{' '}\n          Snow White still lives, the fairest in the land. Tis the heart of a\n          pig you hold in your hand.\n        </p>\n        <p>\n          <em>\n            <b>Queen</b>\n          </em>{' '}\n          [repulsed] The heart of a pig?! Then I&apos;ve been tricked!\n        </p>\n      </div>\n      <div className=\"action\">\n        <NavLink to=\"/tenant\" className=\"navitem\" activeClassName=\"active\">\n          <OakButton theme=\"primary\" variant=\"disappear\">\n            Create Tenant\n          </OakButton>\n        </NavLink>\n      </div>\n      {/* <OakSubMenu data = {this.state.data} variant=\"secondary\"/>\n      <div>\n        <OakButton align=\"left\" theme=\"primary\" variant=\"disappear\" icon=\"open_in_new\" action=\"\">disappear</OakButton>\n        <OakButton align=\"right\" theme=\"default\" variant=\"appear\" icon=\"open_in_new\" action=\"\">appear</OakButton>\n        <OakButton align=\"right\" theme=\"secondary\" variant=\"regular\" icon=\"open_in_new\" action=\"\">regular</OakButton>\n        <OakButton align=\"right\" theme=\"secondary\" variant=\"block\" icon=\"open_in_new\" action=\"\">block</OakButton>\n        <OakButton align=\"right\" theme=\"secondary\" variant=\"outline\" icon=\"open_in_new\" action=\"\">outline</OakButton>\n        <OakButton align=\"right\" theme=\"secondary\" variant=\"block\" icon=\"open_in_new\" action=\"\"></OakButton>\n      </div> */}\n    </div>\n  );\n};\n\nexport default Landing;\n","import axios from 'axios';\n\nconst baseUrl = process.env.REACT_APP_API_URL;\n\nexport function httpGet(endpoint: string, headers: any, url?: string) {\n  return axios.get((url || baseUrl) + endpoint, headers);\n  // .then(function(response) {\n  //     return Promise.resolve(response);\n  // }\n  // )\n}\n\nexport function httpPost(\n  endpoint: string,\n  payload: any,\n  headers: any,\n  url?: string\n) {\n  return axios.post((url || baseUrl) + endpoint, payload, headers);\n  //     .then(function(response) {\n  //         return Promise.resolve(response);\n  //     }\n  // )\n}\n\nexport function httpPut(\n  endpoint: string,\n  payload: any,\n  headers: any,\n  url?: string\n) {\n  return axios.put((url || baseUrl) + endpoint, payload, headers);\n  //     .then(function(response) {\n  //         return Promise.resolve(response);\n  //     }\n  // )\n}\n\nexport function httpDelete(endpoint: string, headers: any, url?: string) {\n  return axios.delete((url || baseUrl) + endpoint, headers);\n  //     .then(function(response) {\n  //         return Promise.resolve(response);\n  //     }\n  // )\n}\n","import { Subject, Observable } from 'rxjs';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Message } from '../components/Types/GeneralTypes';\n\nconst subject = new Subject<Message>();\n\nexport function sendMessage(name: string, signal = true, data?: {}) {\n  subject.next({\n    name,\n    signal,\n    data,\n  });\n}\n\nexport function clearMessages() {\n  subject.next();\n}\n\nexport function receiveMessage(): Observable<Message> {\n  return subject.asObservable();\n}\n\nexport function newMessageId() {\n  return Math.random();\n}\n\nexport function newId() {\n  return uuidv4();\n}\n\nexport function httpHandleRequest(\n  messageId: any,\n  action: string,\n  reference: string\n) {\n  sendMessage('notification', true, {\n    id: messageId,\n    type: 'running',\n    message: `${action} ${reference ? `(${reference})` : ''} - In progress`,\n  });\n}\n\nexport function httpHandleResponse(\n  messageId: any,\n  response: any,\n  action: string,\n  reference: string\n) {\n  if (response.status === 200) {\n    sendMessage('notification', true, {\n      id: messageId,\n      type: 'success',\n      message: `${action} ${reference ? `(${reference})` : ''} - Success`,\n      duration: 3000,\n    });\n    return { outcome: true };\n  }\n  sendMessage('notification', true, {\n    id: messageId,\n    type: 'failure',\n    message: `${action} ${\n      reference ? `(${reference})` : ''\n    } - Failed with error ${response.status}`,\n    duration: 3000,\n  });\n  return { outcome: false };\n}\n\nexport function httpHandleResponseSilent(response: any) {\n  if (response.status === 200) {\n    return { outcome: true, response };\n  }\n  return { outcome: false, response };\n}\n\nexport function httpHandleError(\n  messageId: any,\n  error: any,\n  action: string,\n  reference: string\n) {\n  sendMessage('notification', true, {\n    id: messageId,\n    type: 'failure',\n    message: `${action} ${\n      reference ? `(${reference})` : ''\n    } - Failed with ${error}`,\n  });\n  return { outcome: false };\n}\n\nexport function httpHandleErrorSilent(error: any) {\n  return { outcome: false, response: error };\n}\n","const constants = {\n  API_URL_TENANT: '/tenant',\n  API_URL_TENANT_BANNER: '/tenant/banner',\n  API_URL_TENANT_CREATE: '/tenant/create',\n  API_TENANT_URL: '/tenant/sendURL',\n\n  API_URL_PRESIGNUP: '/auth/keys',\n  API_URL_RESET: '/auth/reset',\n  API_URL_CODE: '/auth/sendResetCode',\n  API_URL_USER_DETAILS: '/user/details',\n\n  API_URL_STAGE: '/stage',\n  API_URL_PREDICT: '/model/predict',\n\n  API_URL_CATEGORY: '/category',\n  API_URL_FAQ: '/faq',\n  API_URL_SR: '/servicerequests',\n  API_URL_USER: '/user',\n  API_URL: '/auth/',\n  API_SIGNIN: '/signin',\n  API_SIGNUP: '/signup',\n  API_KEYS: '/keys',\n  API_JWT: '/signin/jwt',\n};\n\nexport default constants;\n","import { GET_USER, ADD_USER, FETCH_ALL_USERS } from './types';\nimport { httpGet, httpPut } from '../components/Lib/RestTemplate';\nimport { sendMessage } from '../events/MessageService';\nimport constants from '../components/Constants';\n\nconst domain = 'user';\n\nexport const getUser = () => dispatch => {\n  dispatch({\n    type: GET_USER,\n  });\n};\n\nexport const addUser = data => dispatch => {\n  dispatch({\n    type: ADD_USER,\n    payload: data,\n  });\n};\n\nexport const fetchAllUsers = (tenant, authorization) => dispatch => {\n  httpGet(`${constants.API_URL_USER}/${tenant}/all`, {\n    headers: {\n      Authorization: authorization.token,\n    },\n  }).then(response => {\n    dispatch({\n      type: FETCH_ALL_USERS,\n      payload: { users: response.data.data },\n    });\n  });\n};\n\nexport const saveUser = (tenant, authorization, payload) => dispatch => {\n  httpPut(`${constants.API_URL_USER}/${tenant}/`, payload, {\n    headers: {\n      Authorization: authorization.token,\n    },\n  })\n    .then(response => {\n      if (response.status === 200) {\n        sendMessage(domain, true, {\n          action: payload.id ? 'updated' : 'created',\n        });\n        dispatch(fetchAllUsers(tenant, authorization));\n      }\n    })\n    .catch(error => {\n      if (error.response.status === 401) {\n        sendMessage('session expired');\n      }\n    });\n};\n","import { GET_PROFILE, SET_PROFILE } from './types';\n\nexport const getProfile = () => dispatch => {\n  dispatch({\n    type: GET_PROFILE,\n  });\n};\n\nexport const setProfile = payload => dispatch => {\n  dispatch({\n    type: SET_PROFILE,\n    payload,\n  });\n};\n","import React, { useState, useEffect } from 'react';\nimport './styles/oak-spinner.scss';\n\nconst OakSpinner = () => {\n  return (\n    <div>\n      <div className=\"oak-spinner\">\n        <div className=\"spinner-wrapper\">\n          <span />\n          <span />\n          <span />\n          <span />\n          <span />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default OakSpinner;\n","import React from 'react';\nimport './style.scss';\n\ninterface Props {\n  notification: any;\n  handleRemove: any;\n}\n\nconst NotificationMessage = (props: Props) => {\n  return (\n    <div className={`message ${props.notification.type}`}>\n      {props.notification.type === 'running' && (\n        <div\n          className={`message-icon ${\n            props.notification.type === 'running' ? 'running' : ''\n          }`}\n        >\n          <i className=\"material-icons\">rotate_right</i>\n        </div>\n      )}\n      {props.notification.type === 'success' && (\n        <div className=\"message-icon\">\n          <i className=\"material-icons\">check_circle_outline</i>\n        </div>\n      )}\n      {props.notification.type === 'warning' && (\n        <div className=\"message-icon\">\n          <i className=\"material-icons\">warning</i>\n        </div>\n      )}\n      {props.notification.type === 'failure' && (\n        <div className=\"message-icon\">\n          <i className=\"material-icons\">error_outline</i>\n        </div>\n      )}\n      <div className=\"message-text\">{props.notification?.message}</div>\n      <div className=\"message-action\">\n        <i className=\"material-icons\" onClick={props.handleRemove}>\n          clear\n        </i>\n      </div>\n    </div>\n  );\n};\n\nexport default NotificationMessage;\n","import React, { useState, useEffect } from 'react';\nimport './style.scss';\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\nimport OakSpinner from '../../oakui/OakSpinner';\nimport NotificationMessage from './NotificationMessage';\n\nconst Notification = () => {\n  const [spinner, setSpinner] = useState(false);\n  const [notificationList, setNotificationList] = useState<any | undefined>([]);\n  const [data, setData] = useState<any>({ notificationList: [] });\n\n  const removeNotification = notificationData => {\n    setNotificationList(\n      notificationList.filter(item => {\n        return item.id !== notificationData.id;\n      })\n    );\n  };\n  const addNotification = notificationData => {\n    const localCopy = [...notificationList];\n    localCopy.unshift(notificationData);\n    // setNotificationList([notificationData].concat(notificationList));\n    setNotificationList(localCopy);\n    // console.log(localCopy);\n    if (notificationData.duration) {\n      setTimeout(() => {\n        removeNotification(notificationData);\n      }, notificationData.duration);\n    } else if (!notificationData.id) {\n      setTimeout(() => {\n        removeNotification(notificationData);\n      }, 5000);\n    }\n    // console.log(notificationList.splice(0, 100));\n  };\n\n  useEffect(() => {\n    const eventBus = receiveMessage().subscribe(message => {\n      if (message.name === 'notification') {\n        if (!message.signal) {\n          removeNotification(message.data);\n        } else {\n          removeNotification(message.data);\n          addNotification(message.data);\n          // turn off spinner when a notification arrives\n          setSpinner(false);\n\n          // if (message.data && message.data.duration) {\n          //   setTimeout(() => {\n          //     sendMessage('notification', false);\n          //   }, message.data.duration);\n          // }\n        }\n      }\n\n      if (message.name === 'spinner') {\n        setSpinner(message.signal);\n      }\n    });\n    return () => eventBus.unsubscribe();\n  }, []);\n\n  return (\n    <>\n      {notificationList && notificationList.length > 0 && (\n        <div className=\"notification\">\n          {notificationList\n            .slice(0, 5)\n            .reverse()\n            .map(notification => (\n              <div key={notification.id || notification.message}>\n                <NotificationMessage\n                  notification={notification}\n                  handleRemove={removeNotification}\n                />\n              </div>\n            ))}\n        </div>\n      )}\n      {/* {spinner && <div data-test=\"spinner\" className=\"lds-dual-ring\" />} */}\n      {spinner && <OakSpinner data-test=\"spinner\" />}\n    </>\n  );\n};\n\nexport default Notification;\n","import React from 'react';\n\nimport './style.scss';\nimport { NavLink } from 'react-router-dom';\nimport { Authorization, Profile } from '../Types/GeneralTypes';\n\ninterface Props {\n  authorization: Authorization;\n  space: string;\n}\n\nconst Links = (props: Props) => {\n  return (\n    <div className=\"links\">\n      {props.authorization.isAuth && (\n        <>\n          <NavLink\n            to={`/${props.space}/home`}\n            className=\"navitem\"\n            activeClassName=\"active\"\n          >\n            Home\n          </NavLink>\n          <NavLink\n            to={`/${props.space}/article`}\n            className=\"navitem\"\n            activeClassName=\"active\"\n          >\n            Articles\n          </NavLink>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Links;\n","import { BehaviorSubject, Subject } from 'rxjs';\n\nexport const searchTextChangedEvent$ = new BehaviorSubject<string>('');\nexport const searchEvent$ = new Subject<string>();\n","import React, { useEffect, useState } from 'react';\nimport './SearchBar.scss';\nimport { searchTextChangedEvent$, searchEvent$ } from '../events/SearchEvent';\n\ninterface Props {\n  alt?: boolean;\n}\n\nconst SearchBar = (props: Props) => {\n  const [searchText, setSearchText] = useState('');\n\n  useEffect(() => {\n    const searchTextChangedEventListener = searchTextChangedEvent$.subscribe(\n      data => {\n        setSearchText(data);\n      }\n    );\n    return () => searchTextChangedEventListener.unsubscribe();\n  }, []);\n\n  const onSubmit = event => {\n    event.preventDefault();\n    searchEvent$.next(searchText);\n  };\n\n  const handleChange = event => {\n    searchTextChangedEvent$.next(event.target.value);\n  };\n\n  return (\n    <form method=\"GET\" onSubmit={onSubmit} noValidate>\n      <div className={`search-bar${props.alt ? ' alt' : ''}`}>\n        <input\n          name=\"searchText\"\n          spellCheck={false}\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Mirror, mirror, on the wall, who's the fairest of them all?\"\n          required\n          value={searchText}\n          onChange={handleChange}\n        />\n        <button className=\"icon\">\n          <i>\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"24\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" />\n            </svg>\n          </i>\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default SearchBar;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport './style.scss';\nimport mirrorWhite from '../../images/mirror_white.svg';\nimport mirrorBlack from '../../images/mirror_black.svg';\nimport Links from './Links';\nimport { Authorization, Profile } from '../Types/GeneralTypes';\n// import SearchBar from '../Ux/SearchBar';\nimport { receiveMessage } from '../../events/MessageService';\nimport SearchBar from '../../oakui/SearchBar';\nimport OakButton from '../../oakui/OakButton';\n\ninterface Props {\n  sendEvent: Function;\n  getAuth: Function;\n  addAuth: Function;\n  removeAuth: Function;\n  getProfile: Function;\n  toggleDarkMode: Function;\n  profile: Profile;\n  space: string;\n  login: Function;\n  transparent: boolean;\n  logout: Function;\n  toggleSettings: any;\n}\n\nconst Desktop = (props: Props) => {\n  const [showSearchBar, setShowSearchBar] = useState(false);\n  const authorization = useSelector(state => state.authorization);\n\n  useEffect(() => {\n    props.getProfile();\n  }, []);\n\n  useEffect(() => {\n    receiveMessage().subscribe(message => {\n      if (message.name === 'show-navbar-element') {\n        setShowSearchBar(message.signal);\n      }\n    });\n  }, []);\n\n  const signin = type => {\n    props.login(type);\n  };\n\n  return (\n    <div\n      className={\n        props.transparent ? 'navbar desktop transparent' : 'navbar desktop'\n      }\n    >\n      <div className=\"left\">\n        {!props.transparent && props.profile.theme === 'theme_light' && (\n          <img className=\"logo\" src={mirrorBlack} alt=\"Mirror logo\" />\n        )}\n        {(props.transparent || props.profile.theme === 'theme_dark') && (\n          <img className=\"logo\" src={mirrorWhite} alt=\"Mirror logo\" />\n        )}\n        <Links authorization={authorization} space={props.space} />\n        {showSearchBar && <SearchBar alt />}\n      </div>\n      <div className=\"right\">\n        <div className=\"dark-mode\">\n          <i className=\"material-icons\" onClick={() => props.toggleDarkMode()}>\n            brightness_6\n          </i>\n        </div>\n        <div className=\"action\">\n          {authorization.isAuth && (\n            <OakButton\n              theme=\"primary\"\n              variant=\"disappear\"\n              small\n              action={props.logout}\n            >\n              <i className=\"material-icons\">power_settings_new</i>Logout\n            </OakButton>\n          )}\n          {!authorization.isAuth && (\n            <OakButton\n              theme=\"primary\"\n              variant=\"appear\"\n              align=\"left\"\n              small\n              action={() => signin('signin')}\n            >\n              <i className=\"material-icons\">person</i>Login\n            </OakButton>\n          )}\n          {!authorization.isAuth && (\n            <OakButton\n              theme=\"primary\"\n              variant=\"appear\"\n              align=\"right\"\n              small\n              action={() => signin('signup')}\n            >\n              <i className=\"material-icons\">person_add</i>Signup\n            </OakButton>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Desktop;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport './style.scss';\nimport mirrorWhite from '../../images/mirror_white.svg';\nimport mirrorWhiteSmall from '../../images/mirror_white_small.svg';\nimport mirrorBlack from '../../images/mirror_black.svg';\nimport Links from './Links';\nimport { Authorization, Profile } from '../Types/GeneralTypes';\nimport SearchBar from '../../oakui/SearchBar';\nimport { receiveMessage } from '../../events/MessageService';\nimport OakButton from '../../oakui/OakButton';\n// import SearchBar from '../Ux/SearchBar';\n\ninterface Props {\n  sendEvent: Function;\n  getAuth: Function;\n  addAuth: Function;\n  removeAuth: Function;\n  getProfile: Function;\n  toggleDarkMode: Function;\n  profile: Profile;\n  space: string;\n  login: Function;\n  transparent: boolean;\n  logout: Function;\n  toggleSettings: any;\n}\n\nconst Mobile = (props: Props) => {\n  const authorization = useSelector(state => state.authorization);\n  const [data, setData] = useState({\n    showSearchBar: false,\n    menu: false,\n  });\n\n  useEffect(() => {\n    props.getProfile();\n  }, []);\n\n  useEffect(() => {\n    receiveMessage().subscribe(message => {\n      if (message.name === 'show-navbar-element') {\n        setData({ ...data, showSearchBar: message.signal });\n      }\n    });\n  }, []);\n\n  const toggleMenu = () => {\n    setData({ ...data, menu: !data.menu });\n  };\n\n  const signin = type => {\n    props.login(type);\n  };\n\n  return (\n    <>\n      <div\n        className={\n          props.transparent ? 'navbar mobile transparent' : 'navbar mobile'\n        }\n      >\n        <div className=\"left\">\n          {!data.showSearchBar &&\n            !props.transparent &&\n            props.profile.theme === 'theme_light' && (\n              <img className=\"logo\" src={mirrorBlack} alt=\"Mirror logo\" />\n            )}\n          {!data.showSearchBar &&\n            (props.transparent || props.profile.theme === 'theme_dark') && (\n              <img className=\"logo\" src={mirrorWhite} alt=\"Mirror logo\" />\n            )}\n          {data.showSearchBar &&\n            !props.transparent &&\n            props.profile.theme === 'theme_light' && (\n              <img className=\"logo\" src={mirrorWhiteSmall} alt=\"Mirror logo\" />\n            )}\n          {data.showSearchBar &&\n            (props.transparent || props.profile.theme === 'theme_dark') && (\n              <img className=\"logo\" src={mirrorWhiteSmall} alt=\"Mirror logo\" />\n            )}\n          {data.showSearchBar && <SearchBar alt />}\n          {/* links */}\n        </div>\n        <div className=\"right\">\n          {/* <div className=\"settings-icon\" onClick={props.toggleSettings}><i className=\"material-icons\">settings</i></div> */}\n          <div\n            className={data.menu ? 'menu active' : 'menu'}\n            onClick={toggleMenu}\n          >\n            <div />\n          </div>\n          {/* action login */}\n        </div>\n      </div>\n      <div\n        className={data.menu ? 'slider show' : 'slider hide'}\n        onClick={toggleMenu}\n      >\n        <div\n          className={data.menu ? 'container' : 'container hidetext'}\n          onClick={toggleMenu}\n        >\n          <div className=\"action\">\n            {/* <div className=\"settings-icon\" onClick={props.toggleSettings}>\n                        {props.authorization.isAuth && <OakButton invert variant=\"appear\" small action={props.toggleSettings}><i className=\"material-icons\">brush</i>Action 1</OakButton>}\n                    </div> */}\n            <div className=\"buttons\">\n              {authorization.isAuth && (\n                <OakButton variant=\"appear\" small action={props.logout}>\n                  <i className=\"material-icons\">power_settings_new</i>Logout\n                </OakButton>\n              )}\n              {!authorization.isAuth && (\n                <OakButton\n                  variant=\"appear\"\n                  small\n                  action={() => signin('signin')}\n                >\n                  <i className=\"material-icons\">person</i>Login\n                </OakButton>\n              )}\n              {!authorization.isAuth && (\n                <OakButton\n                  variant=\"appear\"\n                  small\n                  action={() => signin('signup')}\n                >\n                  <i className=\"material-icons\">person_add</i>Signup\n                </OakButton>\n              )}\n            </div>\n          </div>\n          <Links authorization={authorization} space={props.space} />\n          <div className=\"dark-mode\">\n            <i\n              className=\"material-icons\"\n              onClick={() => props.toggleDarkMode()}\n            >\n              brightness_6\n            </i>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Mobile;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector, connect } from 'react-redux';\n\nimport { withRouter } from 'react-router';\nimport { withCookies } from 'react-cookie';\nimport { getProfile, setProfile } from '../../actions/ProfileActions';\n\nimport './style.scss';\nimport Desktop from './Desktop';\nimport Mobile from './Mobile';\n\nimport { Authorization, Profile } from '../Types/GeneralTypes';\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\n\ninterface Props {\n  sendEvent: Function;\n  getAuth: Function;\n  addAuth: Function;\n  removeAuth: Function;\n  getProfile: Function;\n  setProfile: Function;\n  profile: Profile;\n  login: Function;\n  transparent: boolean;\n  toggleSettings: any;\n  history: any;\n  cookies: any;\n  location: any;\n  match: any;\n}\n\nconst Navigation = (props: Props) => {\n  const [data, setData] = useState({\n    visible: false,\n    mobilemenu: 'hide',\n    chooseTheme: false,\n    showSettings: false,\n    transparentNavBar: false,\n    firstLoad: true,\n  });\n\n  const authorization = useSelector(state => state.authorization);\n\n  const [space, setSpace] = useState('');\n\n  useEffect(() => {\n    receiveMessage().subscribe(event => {\n      if (event.name === 'spaceChange') {\n        setSpace(event.data);\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    props.getProfile();\n  }, []);\n\n  useEffect(() => {\n    receiveMessage().subscribe(message => {\n      if (message.name === 'navbar-transparency') {\n        setData({ ...data, transparentNavBar: message.signal });\n      }\n      if (message.name === 'loggedin') {\n        // props.reloadProfile(nextProps.authorization);\n        setData({ ...data, firstLoad: false });\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    if (data.firstLoad && authorization && authorization.isAuth) {\n      setData({ ...data, firstLoad: false });\n    }\n  }, [authorization.isAuth]);\n\n  const logout = (\n    event: any,\n    type = 'success',\n    message = 'You have been logged out'\n  ) => {\n    props.removeAuth();\n    props.cookies.remove(`mirror_${space}`);\n    sendMessage('notification', true, {\n      type,\n      message,\n      duration: 3000,\n    });\n  };\n\n  const toggleDarkMode = () => {\n    if (props.profile.theme === 'theme_dark') {\n      props.setProfile({\n        ...props.profile,\n        theme: 'theme_light',\n      });\n    } else {\n      props.setProfile({\n        ...props.profile,\n        theme: 'theme_dark',\n      });\n    }\n  };\n\n  const login = type => {\n    // props.history.push(`/${props.profile.tenant}/login?type=${type}`);\n    // console.log(props.profile.tenant);\n    window.location.href = `${process.env.REACT_APP_ONEAUTH_URL}/#/space/${space}/login?type=${type}&appId=${process.env.REACT_APP_ONEAUTH_APP_ID}`;\n  };\n\n  const toggleSettings = () => {\n    setData({ ...data, showSettings: !data.showSettings });\n  };\n\n  return (\n    <div className=\"nav\">\n      <Desktop\n        {...props}\n        logout={logout}\n        login={login}\n        space={space}\n        toggleSettings={toggleSettings}\n        transparent={data.transparentNavBar}\n        toggleDarkMode={toggleDarkMode}\n      />\n      <Mobile\n        {...props}\n        logout={logout}\n        login={login}\n        space={space}\n        toggleSettings={toggleSettings}\n        transparent={data.transparentNavBar}\n        toggleDarkMode={toggleDarkMode}\n      />\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  profile: state.profile,\n});\n\nexport default connect(mapStateToProps, { getProfile, setProfile })(\n  withCookies(withRouter(Navigation))\n);\n","import React from 'react';\nimport './styles/oak-text-slide.scss';\n\ninterface Props {\n  label?: string;\n  id: string;\n  data: any;\n  type?: string;\n  handleChange: any;\n  errorFields?: any;\n  disabled?: boolean;\n  rows?: number;\n  multiline?: boolean;\n  handleFocus?: Function;\n  placeholder?: string;\n}\nconst OakText = (props: Props) => {\n  const handleFocus = () => {\n    if (props.handleFocus) {\n      props.handleFocus();\n    }\n  };\n  return (\n    <div className=\"oak-text\">\n      {!props.multiline && (\n        <input\n          disabled={props.disabled}\n          autoComplete=\"off\"\n          className={\n            (props.errorFields && props.errorFields[props.id] ? 'error' : '') +\n            (props.disabled ? ' disabled' : '')\n          }\n          type={props.type ? props.type : 'text'}\n          name={props.id}\n          id={props.id}\n          value={props.data[props.id]}\n          onChange={props.handleChange}\n          onFocus={handleFocus}\n        />\n      )}\n      {props.multiline && (\n        <textarea\n          disabled={props.disabled}\n          className={\n            (props.errorFields && props.errorFields[props.id] ? 'error' : '') +\n            (props.disabled ? ' disabled' : '')\n          }\n          id={props.id}\n          name={props.id}\n          value={props.data[props.id]}\n          onChange={props.handleChange}\n        />\n      )}\n      <label\n        htmlFor={props.id}\n        className={props.data[props.id] ? 'active' : ''}\n      >\n        {props.label}\n      </label>\n    </div>\n  );\n};\n\nexport default OakText;\n","import sjcl from 'ioak-sjcl';\nimport CryptoJS from 'crypto-js';\nimport { httpGet, httpPost, httpPut } from '../Lib/RestTemplate';\nimport constants from '../Constants';\n\nexport function preSignup(data) {\n  return httpGet(constants.API_URL + data.name + constants.API_KEYS, null).then(\n    function(response) {\n      return Promise.resolve(response);\n    }\n  );\n}\n\nexport function signup(data) {\n  return httpPost(\n    constants.API_URL + data.tenantName + constants.API_SIGNUP,\n    {\n      email: data.email,\n      problem: encrypt(data.password, data.solution, data.salt),\n      solution: data.solution,\n      roles: [],\n    },\n    null\n  ).then(function(response) {\n    return Promise.resolve(response.status);\n  });\n}\n\nexport function createTenant(data) {\n  const formData = new FormData();\n  formData.append('tenantName', data.tenantName);\n  formData.append('email', data.email);\n  formData.append('jwtPassword', data.jwtPassword);\n  formData.append('problem', encrypt(data.password, data.solution, data.salt));\n  formData.append('solution', data.solution);\n  if (data.banner) {\n    formData.append('banner', data.banner, 'banner.jpg');\n  }\n  return httpPost(constants.API_URL_TENANT_CREATE, formData, {\n    'Content-Type': 'multipart/form-data',\n  }).then(function(response) {\n    return Promise.resolve(response);\n  });\n}\n\nexport function preSignin(data) {\n  return httpGet(\n    `${constants.API_URL + data.name + constants.API_KEYS}/${data.email}`,\n    null\n  )\n    .then(response => Promise.resolve(response))\n    .catch(error => Promise.resolve(error.response));\n}\n\nexport function signin(data, problem) {\n  try {\n    const solution = decrypt(data.password, JSON.stringify(problem));\n    return httpPost(\n      constants.API_URL + data.name + constants.API_SIGNIN,\n      {\n        email: data.email,\n        solution,\n      },\n      null\n    ).then(function(response) {\n      return Promise.resolve(response);\n    });\n  } catch (error) {\n    if (error.message === \"ccm: tag doesn't match\") {\n      return Promise.resolve({\n        status: 401,\n      });\n    }\n    return Promise.resolve(error);\n  }\n}\n\nexport function signinWithJwt(data) {\n  return httpPost(\n    constants.API_URL + data.tenantName + constants.API_JWT,\n    {\n      jwtToken: data.jwt,\n    },\n    null\n  ).then(function(response) {\n    return Promise.resolve(response);\n  });\n}\n\nexport function sentPasswordChangeEmail(data, type) {\n  return httpPost(constants.API_URL_CODE, data, null).then(function(response) {\n    return Promise.resolve(response.status);\n  });\n}\n\nexport function resetPassword(data, type) {\n  return httpGet(constants.API_URL_PRESIGNUP, null).then(function(response) {\n    if (response.status === 200) {\n      let newData = {};\n      if (type && type === 'password') {\n        newData = {\n          problem: encrypt(\n            data.password,\n            response.data.solution,\n            response.data.salt\n          ),\n          solution: response.data.solution,\n          resetCode: data.resetCode,\n        };\n      }\n\n      return httpPost(constants.API_URL_RESET, newData, null).then(function(\n        response\n      ) {\n        return Promise.resolve(response.status);\n      });\n    }\n  });\n}\n\nfunction encrypt(password, message, salt) {\n  const config = {\n    cipher: 'aes',\n    iter: '12000',\n    ks: 256,\n    salt: CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(salt)),\n  };\n  return sjcl.encrypt(password, message, config);\n}\n\nfunction decrypt(password, ciphertext) {\n  return sjcl.decrypt(password, ciphertext);\n}\n","export function isEmptyOrSpaces(str) {\n  return str === null || str.match(/^ *$/) !== null;\n}\n\nexport function match(text, words) {\n  let found = false;\n  if (words) {\n    words.split(' ').forEach(word => {\n      if (text.match(new RegExp(`(\\\\w*${word}\\\\w*)`, 'gi'))) {\n        found = true;\n      }\n    });\n  }\n  return found;\n}\n\nexport function sort(array, property, isReverseOrder) {\n  const result = array.sort(function(o1, o2) {\n    if (isReverseOrder) {\n      return o1[property] > o2[property]\n        ? -1\n        : o1[property] < o2[property]\n        ? 1\n        : 0;\n    }\n    return o1[property] < o2[property]\n      ? -1\n      : o1[property] > o2[property]\n      ? 1\n      : 0;\n  });\n\n  return result;\n}\n","import React, { useEffect, useState } from 'react';\nimport './style.scss';\nimport OakText from '../../oakui/OakText';\nimport { sendMessage } from '../../events/MessageService';\nimport { sentTenantUrl } from './TenantService';\nimport { preSignup, createTenant } from '../Auth/AuthService';\nimport { Profile } from '../Types/GeneralTypes';\nimport { isEmptyOrSpaces } from '../Utils';\nimport OakButton from '../../oakui/OakButton';\n\ninterface Props {\n  getProfile: Function;\n  profile: Profile;\n  history: any;\n}\ninterface State {\n  name: string;\n  email: string;\n  pageNo: number;\n  password: string;\n  repeatPassword: string;\n  jwtPassword: string;\n  banner: any;\n  created: boolean;\n  errorFields: {\n    name: boolean;\n    email: boolean;\n    password: boolean;\n    repeatPassword: boolean;\n    jwtPassword: boolean;\n  };\n}\n\nconst Tenant = (props: Props) => {\n  const [data, setData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    repeatPassword: '',\n    jwtPassword: '',\n    pageNo: 1,\n    created: false,\n  });\n\n  const [banner, setBanner] = useState<null | { name: any }>(null);\n\n  const [errorFields, setErrorFields] = useState({\n    name: false,\n    email: false,\n    password: false,\n    repeatPassword: false,\n    jwtPassword: false,\n  });\n\n  useEffect(() => {\n    props.getProfile();\n  }, []);\n\n  const handleChange = event => {\n    setData({ ...data, [event.currentTarget.name]: event.currentTarget.value });\n  };\n\n  const sentTenantUrlAction = () => {\n    sentTenantUrl({\n      name: data.name,\n    })\n      .then((response: any) => {\n        if (response === 200) {\n          sendMessage('notification', true, {\n            message: 'Password sent successfully',\n            type: 'success',\n            duration: 3000,\n          });\n        } else {\n          sendMessage('notification', true, {\n            type: 'failure',\n            message: 'Invalid Email error',\n            duration: 3000,\n          });\n        }\n      })\n      .catch(error => {\n        sendMessage('notification', true, {\n          type: 'failure',\n          message: 'Bad request',\n          duration: 3000,\n        });\n      });\n  };\n\n  const clearError = () => {\n    setErrorFields({\n      name: false,\n      email: false,\n      password: false,\n      repeatPassword: false,\n      jwtPassword: false,\n    });\n  };\n\n  const setError = fieldName => {\n    setErrorFields({ ...errorFields, [fieldName]: true });\n  };\n\n  const validate = () => {\n    if (isEmptyOrSpaces(data.name)) {\n      setError('name');\n      sendMessage('notification', true, {\n        type: 'failure',\n        message: 'Tenant name cannot be empty',\n        duration: 3000,\n      });\n      return false;\n    }\n    if (!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(data.email)) {\n      setError('email');\n      sendMessage('notification', true, {\n        type: 'failure',\n        message: 'Email ID is invalid',\n        duration: 3000,\n      });\n      return false;\n    }\n\n    if (isEmptyOrSpaces(data.password)) {\n      setError('password');\n      sendMessage('notification', true, {\n        type: 'failure',\n        message: 'Password cannot be empty',\n        duration: 3000,\n      });\n      return false;\n    }\n\n    if (data.password !== data.repeatPassword) {\n      setError('repeatPassword');\n      sendMessage('notification', true, {\n        type: 'failure',\n        message: 'Password and repeat password should be same',\n        duration: 3000,\n      });\n      return false;\n    }\n\n    return true;\n  };\n\n  const submit = event => {\n    event.preventDefault();\n    sendMessage('spinner');\n    clearError();\n\n    if (!validate()) {\n      return;\n    }\n\n    preSignup({ name: data.name }).then(response => {\n      if (response.status === 200) {\n        createTenantAction(response.data);\n      }\n    });\n  };\n\n  const handleImageChange = e => {\n    setBanner(e.target.files[0]);\n  };\n\n  const createTenantAction = preSignupData => {\n    createTenant({\n      tenantName: data.name,\n      email: data.email,\n      password: data.password,\n      jwtPassword: data.jwtPassword,\n      solution: preSignupData.solution,\n      salt: preSignupData.salt,\n      banner,\n    })\n      .then(response => {\n        if (response.status === 200) {\n          sendMessage('notification', true, {\n            type: 'success',\n            message: 'Tenant has been created. You can proceed now',\n            duration: 3000,\n          });\n          setData({ ...data, pageNo: data.pageNo + 1, created: true });\n        } else {\n          sendMessage('notification', true, {\n            message: 'We are facing some problem, please try after sometime',\n            duration: 3000,\n          });\n        }\n      })\n      .catch(error => {\n        sendMessage('notification', true, {\n          type: 'failure',\n          message: 'Unknown error. Please try again or at a later time',\n          duration: 3000,\n        });\n      });\n  };\n\n  const gotoTenantPage = () => {\n    props.history.push(`/${data.name}/home`);\n  };\n\n  return (\n    <div className=\"tenant boxed\">\n      {!data.created && (\n        <div className=\"typography-3 space-bottom-4\">Tenant creation</div>\n      )}\n      {data.created && (\n        <div className=\"typography-3 space-bottom-4\">\n          Tenant [{data.name}] available now\n        </div>\n      )}\n      {data.pageNo === 1 && (\n        <div className=\"form\">\n          <OakText\n            id=\"name\"\n            data={data}\n            label=\"Tenant Name\"\n            handleChange={e => handleChange(e)}\n            errorFields={errorFields}\n          />\n          <OakText\n            id=\"email\"\n            data={data}\n            label=\"Administrator Email\"\n            handleChange={e => handleChange(e)}\n            errorFields={errorFields}\n          />\n          <OakText\n            id=\"password\"\n            type=\"password\"\n            data={data}\n            label=\"Administrator Password\"\n            handleChange={e => handleChange(e)}\n            errorFields={errorFields}\n          />\n          <OakText\n            id=\"repeatPassword\"\n            type=\"password\"\n            data={data}\n            label=\"Repeat Password\"\n            handleChange={e => handleChange(e)}\n            errorFields={errorFields}\n          />\n          <OakText\n            id=\"jwtPassword\"\n            type=\"password\"\n            data={data}\n            label=\"JWT Password\"\n            handleChange={e => handleChange(e)}\n            errorFields={errorFields}\n          />\n          <label className=\"file-upload space-top-1 space-bottom-4\">\n            <input\n              type=\"file\"\n              accept=\"image/png, image/jpeg\"\n              onChange={handleImageChange}\n              required\n            />\n            <i className=\"material-icons\">add_photo_alternate</i>\n            {!banner && 'Choose Banner/Cover Image'}\n            {banner && banner.name}\n          </label>\n          <div className=\"action\">\n            <OakButton theme=\"primary\" variant=\"appear\" action={submit}>\n              Create Tenant\n            </OakButton>\n          </div>\n        </div>\n      )}\n      {data.created && (\n        <OakButton theme=\"primary\" variant=\"disappear\" action={gotoTenantPage}>\n          Take me to my tenant\n        </OakButton>\n      )}\n    </div>\n  );\n};\n\nexport default Tenant;\n","import React, { useEffect, useState } from 'react';\nimport './styles/oak-view-resolver.scss';\nimport { sendMessage, receiveMessage } from '../events/MessageService';\nimport OakButton from './OakButton';\n\ninterface Props {\n  sideLabel?: string;\n  children: any;\n}\n\nconst OakViewResolver = (props: Props) => {\n  const [mobileViewPort, setMobileViewPort] = useState(false);\n\n  const [showSide, setShowSide] = useState(false);\n\n  const [views, setViews] = useState();\n\n  const [main, setMain] = useState();\n  const [side, setSide] = useState();\n\n  const viewPort = window.matchMedia('(max-width: 767px)');\n\n  useEffect(() => {\n    setMobileViewPort(viewPort.matches);\n    viewPort.addListener(() => setMobileViewPort(viewPort.matches));\n    setViews(props.children);\n\n    const eventBus = receiveMessage().subscribe(message => {\n      if (message.name === 'sidebar') {\n        setShowSide(message.signal);\n      }\n    });\n    return () => eventBus.unsubscribe();\n  }, []);\n\n  useEffect(() => {\n    setViews(props.children);\n  }, [props.children]);\n\n  useEffect(() => {\n    initializeViews();\n  }, [views]);\n\n  const initializeViews = () => {\n    React.Children.toArray(props.children).forEach((node: any) => {\n      // node.type.name is minified after build and so static build result has different alphabet\n      // if (node.type.name === 'View') {\n      if (node.props.main) {\n        setMain(node);\n      } else if (node.props.side) {\n        setSide(node);\n      }\n      // }\n    });\n  };\n\n  const toggleSideView = () => {\n    sendMessage('sidebar', !showSide);\n  };\n\n  return (\n    <>\n      {!mobileViewPort && (\n        <div className=\"view-desktop\">\n          {side && <div className=\"view-side\">{side}</div>}\n          <div className={`view-content${side ? ' side-present' : ''}`}>\n            {main}\n          </div>\n        </div>\n      )}\n\n      {mobileViewPort && (\n        <div className=\"view-mobile\">\n          <div className={showSide ? 'slider show' : 'slider hide'}>\n            <div className=\"topbar\" onClick={toggleSideView}>\n              <div>\n                <OakButton\n                  theme=\"default\"\n                  variant=\"block\"\n                  action={toggleSideView}\n                >\n                  {!showSide && (\n                    <>\n                      <i className=\"material-icons\">expand_more</i>\n                      {props.sideLabel ? props.sideLabel : 'Menu'}\n                    </>\n                  )}\n                  {showSide && (\n                    <>\n                      <i className=\"material-icons\">expand_less</i>Collapse\n                    </>\n                  )}\n                </OakButton>\n              </div>\n            </div>\n            <div className=\"view-side\">{showSide && side}</div>\n          </div>\n          {!showSide && <div className=\"view-main\">{main}</div>}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default OakViewResolver;\n","import React from 'react';\n\ninterface Props {\n  main?: any;\n  side?: any;\n  children?: any;\n}\n\nconst OakView = (props: Props) => {\n  return <div data-test=\"oak-view-root\">{props.children}</div>;\n};\n\nexport default OakView;\n","import React, { useState, useEffect } from 'react';\nimport './styles/oak-sidebar.scss';\nimport { sendMessage, receiveMessage } from '../events/MessageService';\n\ninterface Props {\n  show?: boolean;\n  elements?: Array<any>;\n  label: string;\n  icon: string;\n  number?: number;\n  animate?: boolean;\n  children?: any;\n}\n\nconst OakSidebar = (props: Props) => {\n  const [show, setShow] = useState(false);\n  const [elementList, setElementList] = useState([{}]);\n\n  useEffect(() => {\n    sendMessage('sidebarExpanded', show, { label: props.label });\n  }, [show]);\n\n  useEffect(() => {\n    setShow(!!props.show);\n    setElementList(props.elements ? props.elements : []);\n    const eventBus = receiveMessage().subscribe(message => {\n      if (\n        message.name === 'sidebarExpanded' &&\n        message.signal &&\n        message.data &&\n        message.data.label !== props.label\n      ) {\n        setShow(false);\n      }\n    });\n    return () => eventBus.unsubscribe();\n  }, []);\n\n  let key = 0;\n  const elements = elementList.map((item: any) => (\n    <div key={(key += 1)} className=\"element\" onClick={item.action}>\n      <i className=\"material-icons\">{item.icon}</i>\n      {item.label}\n    </div>\n  ));\n  return (\n    <div className=\"oak-sidebar\">\n      <div\n        className={show ? 'header active' : 'header'}\n        onClick={() => setShow(!show)}\n      >\n        <div className=\"label\">\n          <i className=\"material-icons\">{props.icon}</i>\n          {props.label}\n          {props.number !== undefined && (\n            <div className=\"number\">{props.number}</div>\n          )}\n        </div>\n        {/* <div className=\"aria\"><i className=\"material-icons\">{this.state.show ? 'expand_less' : 'expand_more'}</i></div> */}\n        <div className=\"aria\">\n          <i className={show ? 'material-icons collapse' : 'material-icons'}>\n            keyboard_arrow_left\n          </i>\n        </div>\n      </div>\n      <div\n        data-test=\"content-holder\"\n        className={\n          show\n            ? `content show ${props.animate ? 'appear' : 'static'}`\n            : `content hide ${props.animate ? 'appear' : 'static'}`\n        }\n      >\n        {elements}\n        {props.children}\n      </div>\n    </div>\n  );\n};\n\nexport default OakSidebar;\n","import React, { useState, useEffect } from 'react';\nimport './style.scss';\nimport { any } from 'prop-types';\nimport { sendMessage } from '../../events/MessageService';\nimport OakText from '../../oakui/OakText';\nimport { getTenant } from '../Tenant/TenantService';\nimport { Authorization } from '../Types/GeneralTypes';\nimport OakViewResolver from '../../oakui/OakViewResolver';\nimport OakView from '../../oakui/OakView';\nimport OakSidebar from '../../oakui/OakSidebar';\n\ninterface Props {\n  match: any;\n  setProfile: Function;\n  profile: any;\n  authorization: Authorization;\n}\n\nconst Settings = (props: Props) => {\n  const sidebarElements = {\n    tenant: [\n      {\n        label: 'Profile',\n        action: () => chooseSection('tenantProfile'),\n        icon: 'home',\n      },\n      {\n        label: 'Support levels',\n        action: () => chooseSection('stage'),\n        icon: 'fast_forward',\n      },\n      {\n        label: 'Training dataset',\n        action: () => chooseSection('trainingDataset'),\n        icon: 'bubble_chart',\n      },\n      {\n        label: 'Article categories',\n        action: () => chooseSection('articleCategories'),\n        icon: 'compare',\n      },\n    ],\n    myProfile: [\n      {\n        label: 'Profile',\n        action: () => chooseSection('userProfile'),\n        icon: 'person',\n      },\n      {\n        label: 'Password',\n        action: () => chooseSection('userPassword'),\n        icon: 'security',\n      },\n    ],\n  };\n\n  const [data, setData] = useState({\n    name: '',\n    email: '',\n    jwtPassword: '',\n    banner: any,\n    errorFields: {\n      name: false,\n      email: false,\n      jwtPassword: false,\n    },\n    section: 'tenantProfile',\n  });\n\n  useEffect(() => {\n    if (props.authorization.isAuth) {\n      getTenant(props.match.params.tenant, {\n        headers: {\n          Authorization: props.authorization.token,\n        },\n      }).then(response => {\n        setData({\n          ...data,\n          name: response.data.name,\n          email: response.data.ownerEmail,\n          jwtPassword: response.data.jwtPassword,\n        });\n      });\n    }\n\n    props.setProfile({ ...props.profile, tenant: props.match.params.tenant });\n  }, []);\n\n  const chooseSection = section => {\n    setData({ ...data, section });\n    sendMessage('sidebar', false);\n  };\n\n  const handleImageChange = e => {\n    setData({ ...data, banner: e.target.files[0] });\n  };\n\n  const handleChange = event => {\n    setData({ ...data, [event.currentTarget.name]: event.currentTarget.value });\n  };\n\n  return (\n    <div className=\"settings\">\n      <OakViewResolver sideLabel=\"More options\">\n        <OakView main>\n          {data.section === 'tenantProfile' && (\n            <>\n              <div className=\"typography-3 space-bottom-2\">Tenant Profile</div>\n              <div className=\"form\">\n                <OakText\n                  id=\"email\"\n                  data={data}\n                  label=\"Administrator Email\"\n                  handleChange={e => handleChange(e)}\n                  errorFields={data.errorFields}\n                />\n                <OakText\n                  id=\"jwtPassword\"\n                  type=\"password\"\n                  data={data}\n                  label=\"JWT Password\"\n                  handleChange={e => handleChange(e)}\n                  errorFields={data.errorFields}\n                />\n                <label className=\"file-upload space-top-1 space-bottom-4\">\n                  <input\n                    type=\"file\"\n                    accept=\"image/png, image/jpeg\"\n                    onChange={handleImageChange}\n                    required\n                  />\n                  <i className=\"material-icons\">add_photo_alternate</i>\n                  {!data.banner && 'Choose Banner/Cover Image'}\n                  {data.banner && data.banner.name}\n                </label>\n              </div>\n            </>\n          )}\n\n          {data.section === 'userProfile' && (\n            <>\n              <div className=\"typography-3 space-bottom-2\">User Profile</div>\n            </>\n          )}\n\n          {data.section === 'userPassword' && (\n            <>\n              <div className=\"typography-3 space-bottom-2\">\n                Change Login Password\n              </div>\n            </>\n          )}\n        </OakView>\n        <OakView side>\n          <div className=\"filter-container\">\n            <div className=\"section-main\">\n              <OakSidebar\n                label=\"Tenant\"\n                elements={sidebarElements.tenant}\n                icon=\"home\"\n                animate\n              />\n              <OakSidebar\n                label=\"My Profile\"\n                elements={sidebarElements.myProfile}\n                icon=\"account_circle\"\n                animate\n              />\n            </div>\n          </div>\n        </OakView>\n      </OakViewResolver>\n    </div>\n  );\n};\n\nexport default Settings;\n","import { httpGet, httpPost, httpPut } from '../Lib/RestTemplate';\nimport constants from '../Constants';\n\nexport function createTenant(data) {\n  return httpPost(constants.API_URL_TENANT_CREATE, data, null).then(function(\n    response\n  ) {\n    return Promise.resolve(response);\n  });\n}\n\nexport function sentTenantUrl(data) {\n  return httpPost(constants.API_TENANT_URL, data, null).then(function(\n    response\n  ) {\n    return Promise.resolve(response.status);\n  });\n}\n\nexport function getTenant(tenantName, headers) {\n  return httpGet(`${constants.API_URL_TENANT}/${tenantName}`, headers).then(\n    function(response) {\n      return Promise.resolve(response);\n    }\n  );\n}\n\nexport function getBanner(tenantName, headers) {\n  return httpGet(\n    `${constants.API_URL_TENANT_BANNER}/${tenantName}`,\n    headers\n  ).then(function(response) {\n    return Promise.resolve(response);\n  });\n}\n","import React, { useEffect, useState } from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { gql } from 'apollo-boost';\nimport './style.scss';\nimport OakButton from '../../../oakui/OakButton';\nimport { Article } from '../../../types/graphql';\n\ninterface Props {\n  setProfile: Function;\n  profile: any;\n  match: any;\n  location: any;\n  history: any;\n  space: string;\n}\n\nconst queryString = require('query-string');\n\nconst LIST_ARTICLES = gql`\n  {\n    articles {\n      id\n      title\n      description\n    }\n  }\n`;\n\nconst CreateArticle = (props: Props) => {\n  const { loading, error, data } = useQuery(LIST_ARTICLES);\n  const [urlParam, setUrlParam] = useState({\n    categoryid: '',\n  });\n\n  useEffect(() => {\n    props.setProfile({\n      ...props.profile,\n      tenant: props.match.params.tenant,\n    });\n    setUrlParam(queryString.parse(props.location.search));\n  }, []);\n\n  const createArticleLink = event => {\n    props.history.push(`/${props.space}/article/create`);\n  };\n\n  const viewArticleLink = event => {\n    props.history.push(`/${props.space}/article/view`);\n  };\n\n  return (\n    <div className=\"app-page\">\n      <div className=\"app-content\">\n        <div className=\"app-text\">\n          <div className=\"action-header\">\n            <OakButton\n              theme=\"primary\"\n              variant=\"regular\"\n              action={createArticleLink}\n            >\n              Create\n            </OakButton>\n            <OakButton\n              theme=\"primary\"\n              variant=\"regular\"\n              action={viewArticleLink}\n            >\n              Simulate click of an article from list\n            </OakButton>\n          </div>\n          <div className=\"separate-as-new-component\">\n            {data?.articles.map((item: Article) => (\n              <>\n                <div className=\"typography-8\">{item.title}</div>\n                <div className=\"typography-5 space-bottom-2\">\n                  {item.description}\n                </div>\n              </>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CreateArticle;\n","import React, { useState } from 'react';\nimport './styles/oak-select.scss';\n\ninterface Props {\n  id: string;\n  label?: string;\n  handleChange: any;\n  error?: boolean;\n  data: any;\n  elements?: string[];\n  objects?: Array<any>;\n  first?: string;\n  firstAction?: string;\n  variant?: 'outline' | 'no-outline' | 'block' | 'normal';\n  theme?: 'primary' | 'secondary' | 'tertiary' | 'default';\n  width?: 'width-25' | 'width-50' | 'width-75' | 'width-100';\n}\n\nconst OakSelect = (props: Props) => {\n  const [show, setShow] = useState(false);\n\n  const changeSelection = (e, newValue) => {\n    e.target.name = props.id;\n    e.target.value = newValue;\n    props.handleChange(e);\n    setShow(!show);\n  };\n\n  const getStyle = () => {\n    let style = props.theme ? props.theme : '';\n    style += props.variant ? ` ${props.variant}` : '';\n    style += props.width ? ` ${props.width}` : '';\n\n    return style;\n  };\n\n  let dropdownList: Array<any> = [];\n\n  if (props.elements) {\n    dropdownList = props.elements.map(item => (\n      <div\n        className=\"option\"\n        key={item}\n        onClick={e => changeSelection(e, item)}\n      >\n        {item}\n      </div>\n    ));\n  } else if (props.objects) {\n    dropdownList = props.objects.map(item => (\n      <div\n        className=\"option\"\n        key={item.key}\n        onClick={e => changeSelection(e, item.key)}\n      >\n        {item.value}\n      </div>\n    ));\n  }\n\n  return (\n    <div className=\"oak-select\">\n      <select\n        onChange={props.handleChange}\n        name={props.id}\n        className=\"select\"\n        value={props.data[props.id]}\n      >\n        <option value=\"\"> </option>\n        {props.firstAction && (\n          <option value={props.firstAction}>{props.firstAction}</option>\n        )}\n        {props.elements?.map(item => (\n          <option value={item} key={item}>\n            {item}\n          </option>\n        ))}\n        {props.objects?.map(item => (\n          <option value={item.key} key={item.key}>\n            {item.value}\n          </option>\n        ))}\n      </select>\n      {props.label && (\n        <label\n          htmlFor={props.id}\n          className={props.data[props.id] ? 'active' : ''}\n        >\n          {props.label}\n        </label>\n      )}\n    </div>\n  );\n};\n\nexport default OakSelect;\n","import React, { useState, useEffect } from 'react';\nimport './styles/oak-pagination.scss';\nimport OakSelect from './OakSelect';\n\ninterface Props {\n  onChangePage: any;\n  totalRows: number;\n  label?: string;\n}\n\nconst OakPagination = (props: Props) => {\n  const [data, setData] = useState({\n    rowsPerPage: 6,\n    pageNo: 1,\n  });\n\n  useEffect(() => {\n    pageChanged();\n  }, [data]);\n\n  const previousPage = () => {\n    if (data.pageNo !== 1) {\n      setData({ ...data, pageNo: data.pageNo - 1 });\n    }\n  };\n\n  const pageChanged = () => {\n    props.onChangePage(data.pageNo, data.rowsPerPage);\n  };\n\n  const nextPage = () => {\n    if (Math.ceil(props.totalRows / data.rowsPerPage) !== data.pageNo) {\n      setData({ ...data, pageNo: data.pageNo + 1 });\n    }\n  };\n\n  const handleChange = event => {\n    setData({ ...data, [event.target.name]: event.target.value });\n  };\n\n  return (\n    <div className=\"oak-pagination\">\n      <div className=\"space-right-3\">\n        {props.label ? props.label : 'Rows per page'}\n      </div>\n      <div className=\"space-right-3\">\n        <OakSelect\n          data={data}\n          id=\"rowsPerPage\"\n          handleChange={e => handleChange(e)}\n          elements={['6', '10', '20', '50']}\n        />\n      </div>\n      <div className=\"page-number space-right-3\">\n        <div>\n          {(data.pageNo - 1) * data.rowsPerPage + 1}-{' '}\n          {data.pageNo * data.rowsPerPage < props.totalRows\n            ? data.pageNo * data.rowsPerPage\n            : props.totalRows}\n          &nbsp;of&nbsp; {props.totalRows}{' '}\n        </div>\n      </div>\n      <div className=\"page-nav\">\n        <div className=\"space-right-2\">\n          <i\n            data-test=\"action-page-previous\"\n            className={\n              data.pageNo === 1 ? 'material-icons disabled' : 'material-icons'\n            }\n            onClick={previousPage}\n          >\n            keyboard_arrow_left\n          </i>\n        </div>\n        <div>\n          <i\n            data-test=\"action-page-next\"\n            className={\n              Math.ceil(props.totalRows / data.rowsPerPage) === data.pageNo\n                ? 'material-icons disabled'\n                : 'material-icons'\n            }\n            onClick={nextPage}\n          >\n            keyboard_arrow_right\n          </i>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default OakPagination;\n","import React, { useState, useEffect } from 'react';\nimport './styles/oak-table.scss';\nimport OakPagination from './OakPagination';\n\ninterface Props {\n  header: {\n    key: string;\n    label: string;\n    dtype?: string;\n  }[];\n  data: any;\n  dense?: boolean;\n  onChangePage?: any;\n  totalRows?: number;\n  material?: boolean;\n}\n\nconst OakTable = (props: Props) => {\n  const [data, setData] = useState([]);\n  const [paginationPref, setPaginationPref] = useState({\n    pageNo: 1,\n    rowsPerPage: 6,\n    sortField: '',\n    sortAsc: true,\n  });\n\n  const [headerMap, setHeaderMap] = useState({});\n\n  useEffect(() => {\n    setData(props.data);\n    const headerMap = {};\n    props.header.forEach(element => {\n      headerMap[element.key] = element;\n    });\n    setHeaderMap(headerMap);\n  }, []);\n\n  useEffect(() => {\n    setData(props.data);\n  }, [props.data]);\n\n  useEffect(() => {\n    pageChanged();\n  }, [paginationPref]);\n\n  const pageChanged = () => {\n    if (props.onChangePage) {\n      props.onChangePage(\n        paginationPref.pageNo,\n        paginationPref.rowsPerPage,\n        paginationPref.sortField,\n        paginationPref.sortAsc\n      );\n    } else if (paginationPref.sortField) {\n      setData(data.sort((a: any, b: any) => compare(a, b)));\n    }\n  };\n\n  function compare(a: any, b: any): number {\n    const { sortField } = paginationPref;\n    const { sortAsc } = paginationPref;\n    const headerElement = headerMap[sortField];\n    if (!headerElement?.dtype || headerElement?.dtype === 'string') {\n      if (sortAsc) {\n        return a[paginationPref.sortField] > b[paginationPref.sortField]\n          ? 1\n          : a[paginationPref.sortField] < b[paginationPref.sortField]\n          ? -1\n          : 0;\n      }\n      return a[paginationPref.sortField] < b[paginationPref.sortField]\n        ? 1\n        : a[paginationPref.sortField] > b[paginationPref.sortField]\n        ? -1\n        : 0;\n\n      // } else if (headerElement.dtype === 'number') {\n    }\n    if (sortAsc) {\n      return a[paginationPref.sortField] - b[paginationPref.sortField] > 0\n        ? 1\n        : a[paginationPref.sortField] - b[paginationPref.sortField] < 0\n        ? -1\n        : 0;\n    }\n    return a[paginationPref.sortField] - b[paginationPref.sortField] < 0\n      ? 1\n      : a[paginationPref.sortField] - b[paginationPref.sortField] > 0\n      ? -1\n      : 0;\n  }\n\n  const onChangePage = (pageNo: number, rowsPerPage: number) => {\n    setPaginationPref({\n      ...paginationPref,\n      pageNo,\n      rowsPerPage,\n    });\n  };\n\n  const sort = fieldName => {\n    setPaginationPref({\n      ...paginationPref,\n      sortField: fieldName,\n      sortAsc:\n        paginationPref.sortField === fieldName ? !paginationPref.sortAsc : true,\n    });\n  };\n\n  const formatDate = dateText => {\n    if (!dateText || /^\\s*$/.test(dateText)) {\n      return '';\n    }\n    const date = new Date(dateText);\n    return `${date.getFullYear()}-${date.getMonth() +\n      1}-${date.getDate()} ${date.getHours()}:${date.getMinutes()}`;\n  };\n\n  let view: any[] = [];\n  if (props.data && props.totalRows) {\n    view = props.data;\n  } else if (props.data && !props.totalRows) {\n    view = props.data.slice(\n      (paginationPref.pageNo - 1) * paginationPref.rowsPerPage,\n      paginationPref.pageNo * paginationPref.rowsPerPage\n    );\n  }\n  let key = 0;\n\n  return (\n    <div className={props.material ? 'oak-table material' : 'oak-table'}>\n      <div className=\"desktop-view\">\n        <div className=\"table-container\">\n          <table className={props.dense ? 'dense' : ''}>\n            <thead>\n              <tr>\n                {props.header &&\n                  props.header.map(item => (\n                    <th key={item.key}>\n                      <div className=\"label\" onClick={() => sort(item.key)}>\n                        {item.label}\n                        {paginationPref.sortField === item.key &&\n                          paginationPref.sortAsc && (\n                            <i className=\"material-icons\">keyboard_arrow_up</i>\n                          )}\n                        {paginationPref.sortField === item.key &&\n                          !paginationPref.sortAsc && (\n                            <i className=\"material-icons\">\n                              keyboard_arrow_down\n                            </i>\n                          )}\n                      </div>\n                    </th>\n                  ))}\n              </tr>\n            </thead>\n            <tbody>\n              {props.data &&\n                view.map(row => (\n                  <tr key={(key += 1)}>\n                    {props.header &&\n                      props.header.map(column => (\n                        <td\n                          key={(key += 1)}\n                          className={\n                            headerMap[column.key]?.dtype\n                              ? headerMap[column.key]?.dtype\n                              : ''\n                          }\n                        >\n                          {headerMap[column.key]?.dtype === 'date'\n                            ? formatDate(row[column.key])\n                            : row[column.key]}\n                        </td>\n                      ))}\n                  </tr>\n                ))}\n            </tbody>\n          </table>\n        </div>\n        <OakPagination\n          onChangePage={onChangePage}\n          totalRows={props.totalRows ? props.totalRows : props.data.length}\n        />\n      </div>\n\n      <div className=\"mobile-view\">\n        <div className=\"card-container\">\n          {props.data &&\n            view.map(row => (\n              <div className=\"card\" key={(key += 1)}>\n                {props.header &&\n                  props.header.map(column => (\n                    <div key={(key += 1)}>\n                      <b>{column.label}</b>: {row[column.key]}\n                    </div>\n                  ))}\n              </div>\n            ))}\n        </div>\n        <OakPagination\n          onChangePage={onChangePage}\n          totalRows={props.totalRows ? props.totalRows : props.data.length}\n          label=\"Rows\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default OakTable;\n","import React, { useEffect, ReactNode, useState } from 'react';\nimport './styles/oak-dialog.scss';\nimport { sendMessage } from '../events/MessageService';\n\ninterface Props {\n  visible: boolean;\n  toggleVisibility: any;\n  small?: boolean;\n  noheader?: boolean;\n  fullscreen?: boolean;\n  children?: ReactNode;\n}\n\nconst OakDialog = (props: Props) => {\n  const [visible, setVisible] = useState(false);\n  useEffect(() => {\n    sendMessage('modal', props.visible);\n    if (visible !== props.visible) {\n      if (props.visible) {\n        setVisible(props.visible);\n      } else {\n        setTimeout(() => setVisible(props.visible), 200);\n      }\n    }\n  }, [props.visible]);\n\n  useEffect(() => {\n    const documentWidth = document.documentElement.clientWidth;\n    const windowWidth = window.innerWidth;\n    const scrollBarWidth = windowWidth - documentWidth;\n    document.documentElement.style.setProperty(\n      '--scrollbar-width',\n      `${scrollBarWidth}px`\n    );\n    setVisible(props.visible);\n  }, []);\n\n  useEffect(() => {\n    sendMessage('dialog', props.visible);\n    if (props.visible) {\n      document.body.classList.add('oak-dialog-open');\n    } else {\n      document.body.classList.remove('oak-dialog-open');\n    }\n    document.addEventListener('keydown', escFunction, false);\n    return () => document.removeEventListener('keydown', escFunction, false);\n  }, [visible]);\n\n  const escFunction = event => {\n    if (event.keyCode === 27) {\n      if (props.visible) {\n        props.toggleVisibility();\n      }\n    }\n  };\n\n  const getDialogStyle = () => {\n    let style = '';\n    style += props.small ? ' small' : '';\n    style += props.noheader ? ' noheader' : '';\n    style += props.fullscreen ? ' fullscreen' : '';\n    return style;\n  };\n\n  return (\n    <div className={`oak-dialog ${getDialogStyle()}`}>\n      {visible && (\n        <div\n          className={\n            props.visible\n              ? `dialog show ${getDialogStyle()}`\n              : `dialog hide ${getDialogStyle()}`\n          }\n        >\n          <div className={props.visible ? 'container' : 'container hidetext'}>\n            <div className=\"dialog-header\">\n              <div\n                className=\"container\"\n                data-test=\"toggle-visibility\"\n                onClick={props.toggleVisibility}\n              >\n                <i className=\"material-icons\">close</i>\n                <div className=\"text-esc\">esc</div>\n              </div>\n            </div>\n            {props.children}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default OakDialog;\n","import { httpGet, httpPut, httpDelete } from '../components/Lib/RestTemplate';\nimport constants from '../components/Constants';\nimport { FETCH_REQUEST } from './types';\nimport { sendMessage } from '../events/MessageService';\n\nconst domain = 'servicerequests';\nconst domainLog = 'servicerequests log';\n\nexport const fetchRequest = (tenant, authorization) => dispatch => {\n  httpGet(`${constants.API_URL_SR}/${tenant}/main`, {\n    headers: {\n      Authorization: authorization.token,\n    },\n  }).then(response => {\n    dispatch({\n      type: FETCH_REQUEST,\n      payload: { items: response.data.data },\n    });\n  });\n};\n\nexport const saveRequest = (tenant, authorization, payload) => dispatch => {\n  httpPut(`${constants.API_URL_SR}/${tenant}/main`, payload, {\n    headers: {\n      Authorization: authorization.token,\n    },\n  })\n    .then(response => {\n      if (response.status === 200) {\n        sendMessage(domain, true, {\n          action: payload.id ? 'updated' : 'created',\n        });\n        dispatch(fetchRequest(tenant, authorization));\n      }\n    })\n    .catch(error => {\n      if (error.response.status === 401) {\n        sendMessage('session expired');\n      }\n    });\n};\n\nexport const deleteRequest = (tenant, authorization, id) => dispatch => {\n  httpDelete(`${constants.API_URL_FAQ}/${tenant}/${id}`, {\n    headers: {\n      Authorization: authorization.token,\n    },\n  })\n    .then(response => {\n      if (response.status === 200) {\n        // sendMessage('notification', true, {type: 'success', message: 'FAQ deleted', duration: 5000});\n        sendMessage(domain, true, { action: 'deleted' });\n        dispatch(fetchRequest(tenant, authorization));\n      }\n    })\n    .catch(error => {\n      if (error.response.status === 401) {\n        sendMessage('session expired');\n      }\n    });\n};\n\nexport const fetchRequestLog = (tenant, authorization, id) => dispatch => {\n  httpGet(`${constants.API_URL_SR}/${tenant}/log/${id}`, {\n    headers: {\n      Authorization: authorization.token,\n    },\n  }).then(response => {\n    dispatch({\n      type: FETCH_REQUEST,\n      payload: { logs: response.data.data },\n    });\n  });\n};\n\nexport const saveRequestLog = (tenant, authorization, payload) => dispatch => {\n  httpPut(\n    `${constants.API_URL_SR}/${tenant}/log` + `/${payload.requestId}`,\n    {\n      // eslint-disable-next-line @typescript-eslint/camelcase\n      request_id: payload.requestId,\n      comments: payload.comments,\n    },\n    {\n      headers: {\n        Authorization: authorization.token,\n      },\n    }\n  )\n    .then(function(response) {\n      if (response.status === 200) {\n        sendMessage(domainLog, true, {\n          action: payload.id ? 'updated' : 'created',\n        });\n        dispatch(fetchRequestLog(tenant, authorization, payload.requestId));\n        // sendMessage('notification', true, {type: 'success', message: 'Comments Added  Successfully', duration: 5000});\n      }\n    })\n    .catch(error => {\n      if (error.response.status === 401) {\n        sendMessage('session expired');\n      }\n    });\n};\n","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Authorization } from '../Types/GeneralTypes';\nimport './style.scss';\nimport OakDialog from '../../oakui/OakDialog';\nimport OakText from '../../oakui/OakText';\nimport OakButton from '../../oakui/OakButton';\nimport OakSelect from '../../oakui/OakSelect';\nimport { fetchRequestLog, saveRequestLog } from '../../actions/RequestActions';\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\nimport { isEmptyOrSpaces } from '../Utils';\n\ninterface Props {\n  match: any;\n  setProfile: Function;\n  profile: any;\n  authorization: Authorization;\n  request: any;\n  stages: any;\n  saveRequest: Function;\n  user: any;\n  toggleEditDialog: Function;\n  editDialogOpen: boolean;\n  requestLog: any;\n  fetchRequestLog: Function;\n  saveRequestLog: Function;\n}\n\ninterface State {\n  request: any;\n  isDialogOpen: boolean;\n  nextStage?: string;\n  previousStage?: any;\n  logs: any;\n  log: any;\n  newLog: any;\n  editDialogLabel: string;\n}\n\nconst domainLog = 'servicerequests log';\n\nconst emptyRequest = {\n  _id: '',\n  title: '',\n  description: '',\n  priority: '',\n};\n\nconst ServiceRequestView = (props: Props) => {\n  const [data, setData] = useState({\n    request: emptyRequest,\n    log: '',\n    nextStage: '',\n  });\n  const [newLog, setNewLog] = useState(false);\n\n  useEffect(() => {\n    const eventBus = receiveMessage().subscribe(message => {\n      if (message.name === domainLog && message.signal) {\n        sendMessage('notification', true, {\n          type: 'success',\n          message: `${domainLog} ${message.data.action}`,\n          duration: 5000,\n        });\n        if (message.data.action !== 'deleted') {\n          setNewLog(false);\n          setData({ ...data, log: '' });\n        }\n      }\n    });\n    return () => eventBus.unsubscribe();\n  });\n\n  useEffect(() => {\n    if (props.request._id) {\n      props.fetchRequestLog(\n        props.match.params.tenant,\n        props.authorization,\n        props.request._id\n      );\n    }\n  }, [props.request?._id]);\n\n  useEffect(() => {\n    let nextStageToAssign = '';\n    if (\n      props.user &&\n      props.user.roles &&\n      props.stages.some(r => props.user.roles.indexOf(r._id) >= 0)\n    ) {\n      nextStageToAssign = findNextStage();\n    } else if (\n      props.user &&\n      props.user.roles &&\n      props.stages.some(r => props.user.roles.indexOf(r._id) >= 0)\n    ) {\n      nextStageToAssign = findNextStage();\n    }\n    setData({ ...data, request: props.request, nextStage: nextStageToAssign });\n  }, [props.request]);\n\n  const findNextStage = () => {\n    if (\n      props.request &&\n      props.request.stage &&\n      props.stages &&\n      props.stages.length > 0\n    ) {\n      const index = props.stages.findIndex(x => x._id === props.request.stage);\n      if (props.stages.length > index + 1) {\n        return props.stages[index + 1].name;\n      }\n      return '';\n    }\n    if (!props.request.stage) {\n      const index = props.stages.findIndex(\n        x => x._id === props.request.previousStage\n      );\n      if (props.stages[index]) {\n        return props.stages[index].name;\n      }\n    }\n    return '';\n  };\n\n  const addLog = () => {\n    const log = {\n      requestId: data.request._id,\n      comments: data.log,\n    };\n    if (isEmptyOrSpaces(log.comments[0])) {\n      sendMessage('notification', true, {\n        type: 'failure',\n        message: 'Nothing to add',\n        duration: 5000,\n      });\n      return;\n    }\n    props.saveRequestLog(props.match.params.tenant, props.authorization, log);\n  };\n\n  const handleRequestChange = event => {\n    setData({\n      ...data,\n      request: {\n        ...data.request,\n        [event.target.name]: event.target.value,\n      },\n    });\n  };\n\n  const handleChange = event => {\n    setData({ ...data, [event.target.name]: event.target.value });\n  };\n\n  const reOpenRequest = () => {\n    props.saveRequest(\n      {\n        id: data.request._id,\n        title: data.request.title,\n        description: data.request.description,\n        priority: data.request.priority,\n        assignedTo: props.match.params.tenant,\n        previousStage: '',\n        status: 'assigned',\n      },\n      true\n    );\n  };\n\n  const saveRequest = () => {\n    props.saveRequest(\n      {\n        id: data.request._id,\n        title: data.request.title,\n        description: data.request.description,\n        priority: data.request.priority,\n        assignedTo: props.match.params.tenant,\n        stage: props.request.stage,\n        previousStage: props.request.previousStage,\n      },\n      true\n    );\n  };\n\n  const nextStage = stage => {\n    const index = props.stages.findIndex(x => x.name === stage);\n    let previousStage;\n    let status;\n    if (index > 0) {\n      previousStage = props.stages[index - 1]._id;\n    } else {\n      previousStage = '';\n      status = 'assigned';\n    }\n    if (props.stages.length > index) {\n      props.saveRequest(\n        {\n          id: data.request._id,\n          title: data.request.title,\n          description: data.request.description,\n          priority: data.request.priority,\n          updateTime: new Date().toLocaleString(),\n          stage: props.stages[index]._id,\n          previousStage,\n          status,\n          assignedTo: props.match.params.tenant,\n        },\n        true\n      );\n    }\n  };\n\n  const resolveRequest = () => {\n    props.saveRequest(\n      {\n        id: data.request._id,\n        title: data.request.title,\n        description: data.request.description,\n        priority: data.request.priority,\n        updateTime: new Date().toLocaleString(),\n        status: 'resolved',\n        assignedTo: props.match.params.tenant,\n      },\n      true\n    );\n  };\n\n  const assignToUser = () => {\n    props.saveRequest(\n      {\n        id: data.request._id,\n        title: data.request.title,\n        description: data.request.description,\n        priority: data.request.priority,\n        updateTime: new Date().toLocaleString(),\n        stage: '',\n        previousStage: props.request.stage,\n        assignedTo: props.match.params.tenant,\n      },\n      true\n    );\n  };\n\n  const newLogSection = (\n    <>\n      {!newLog &&\n        !(props.request.status === 'resolved' && props.request.stage) && (\n          <>\n            <OakButton\n              theme=\"secondary\"\n              variant=\"regular\"\n              align=\"right\"\n              icon=\"forum\"\n              small\n              action={() => setNewLog(!newLog)}\n            >\n              Add Comment\n            </OakButton>\n          </>\n        )}\n      {newLog && (\n        <>\n          <OakText\n            label=\"Comments\"\n            multiline\n            data={data}\n            id=\"log\"\n            handleChange={e => handleChange(e)}\n          />\n          <OakButton\n            theme=\"secondary\"\n            variant=\"disappear\"\n            small\n            align=\"right\"\n            icon=\"done\"\n            action={addLog}\n          >\n            Save Comment\n          </OakButton>\n          <OakButton\n            theme=\"default\"\n            variant=\"appear\"\n            small\n            align=\"right\"\n            icon=\"close\"\n            action={() => setNewLog(!newLog)}\n          >\n            Cancel\n          </OakButton>\n        </>\n      )}\n      <div className=\"space-bottom-3\" />\n    </>\n  );\n  return (\n    <div className=\"view-request\">\n      <OakDialog\n        fullscreen\n        visible={props.editDialogOpen}\n        toggleVisibility={props.toggleEditDialog}\n      >\n        <div className=\"dialog-body\">\n          <div className=\"typography-3 space-bottom-3\">Request Details</div>\n          <div>\n            <OakText\n              label=\"Request Id\"\n              data={data.request}\n              disabled\n              id=\"_id\"\n              handleChange={e => handleRequestChange(e)}\n            />\n            <OakText\n              label=\"Title\"\n              data={data.request}\n              id=\"title\"\n              handleChange={e => handleRequestChange(e)}\n            />\n            <OakText\n              label=\"Description\"\n              data={data.request}\n              id=\"description\"\n              handleChange={e => handleRequestChange(e)}\n            />\n            <OakSelect\n              label=\"Priority\"\n              data={data.request}\n              id=\"priority\"\n              handleChange={e => handleRequestChange(e)}\n              elements={['Low', 'Medium', 'High']}\n            />\n          </div>\n\n          <div className=\"typography-3 space-bottom-3 space-top-5\">\n            Comments and work log\n          </div>\n          {newLogSection}\n          {props.requestLog.logs &&\n            props.requestLog.logs.length > 0 &&\n            props.requestLog.logs.map(item => (\n              <div className=\"comment space-bottom-2\" key={item._id}>\n                <div className=\"comment-author typography-4 space-bottom-1\">\n                  {/* <i className=\"material-icons\">person</i> */}\n                  {item.lastModifiedByEmail}\n                </div>\n                <div className=\"comment-text space-bottom-1\">\n                  {item.comments}\n                </div>\n                <div className=\"comment-date typography-6\">\n                  {/* <i className=\"material-icons\">access_time</i> */}\n                  {item.lastModifiedAt}\n                </div>\n              </div>\n            ))}\n          {props.requestLog.logs.length > 10 && newLogSection}\n        </div>\n        {!(props.request.status === 'resolved') && (\n          <div className=\"dialog-footer\">\n            {data.nextStage && (\n              <OakButton\n                theme=\"primary\"\n                variant=\"outline\"\n                align=\"left\"\n                icon=\"person_add\"\n                action={() => nextStage(data.nextStage)}\n              >\n                Assign to {data.nextStage}\n              </OakButton>\n            )}\n            {props.request.stage && props.user.role === '' && (\n              <OakButton\n                theme=\"primary\"\n                variant=\"outline\"\n                align=\"right\"\n                icon=\"person_add\"\n                action={() => assignToUser()}\n              >\n                Assign to User\n              </OakButton>\n            )}\n            <OakButton\n              theme=\"primary\"\n              variant=\"outline\"\n              align=\"right\"\n              icon=\"save\"\n              action={saveRequest}\n            >\n              Save Changes\n            </OakButton>\n            <OakButton\n              theme=\"primary\"\n              variant=\"outline\"\n              align=\"right\"\n              icon=\"save\"\n              action={resolveRequest}\n            >\n              Resolve Request\n            </OakButton>\n          </div>\n        )}\n        {props.user.roles}\n        {props.request.status === 'resolved' && !props.user.roles.length && (\n          <OakButton\n            theme=\"primary\"\n            variant=\"outline\"\n            align=\"left\"\n            icon=\"person_add\"\n            action={() => reOpenRequest()}\n          >\n            Reopen the request\n          </OakButton>\n        )}\n      </OakDialog>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  requestLog: state.request,\n});\n\nexport default connect(mapStateToProps, {\n  fetchRequestLog,\n  saveRequestLog,\n})(ServiceRequestView);\n","import { httpGet, httpPut, httpDelete } from '../components/Lib/RestTemplate';\nimport constants from '../components/Constants';\nimport { FETCH_STAGE } from './types';\nimport { sendMessage } from '../events/MessageService';\n\nconst domain = 'stage';\n\nexport const fetchStage = (tenant, authorization) => dispatch => {\n  httpGet(`${constants.API_URL_STAGE}/${tenant}/`, {\n    headers: {\n      Authorization: authorization.token,\n    },\n  }).then(response => {\n    dispatch({\n      type: FETCH_STAGE,\n      payload: { data: response.data.stage },\n    });\n  });\n};\n\nexport const saveStage = (tenant, authorization, payload) => dispatch => {\n  return httpPut(`${constants.API_URL_STAGE}/${tenant}/`, payload, {\n    headers: {\n      Authorization: authorization.token,\n    },\n  })\n    .then(response => {\n      if (response.status === 200) {\n        // sendMessage('notification', true, {type: 'success', message: 'FAQ created', duration: 5000});\n        sendMessage(domain, true, { action: 'updated' });\n        dispatch(fetchStage(tenant, authorization));\n      }\n    })\n    .catch(error => {\n      if (error.response.status === 401) {\n        sendMessage('session expired');\n      }\n    });\n};\n\nexport const deleteStage = (tenant, authorization, id) => dispatch => {\n  httpDelete(`${constants.API_URL_STAGE}/${tenant}/${id}`, {\n    headers: {\n      Authorization: authorization.token,\n    },\n  })\n    .then(response => {\n      if (response.status === 200) {\n        // sendMessage('notification', true, {type: 'success', message: 'FAQ deleted', duration: 5000});\n        sendMessage(domain, true, { action: 'deleted' });\n        dispatch(fetchStage(tenant, authorization));\n      }\n    })\n    .catch(error => {\n      if (error.response.status === 401) {\n        sendMessage('session expired');\n      }\n    });\n};\n","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport OakTable from '../../oakui/OakTable';\nimport { Authorization } from '../Types/GeneralTypes';\nimport './style.scss';\nimport OakViewResolver from '../../oakui/OakViewResolver';\nimport OakView from '../../oakui/OakView';\nimport OakDialog from '../../oakui/OakDialog';\nimport { isEmptyOrSpaces } from '../Utils';\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\nimport ServiceRequestView from './view';\nimport OakText from '../../oakui/OakText';\nimport OakButton from '../../oakui/OakButton';\nimport {\n  fetchRequest,\n  saveRequest,\n  deleteRequest,\n} from '../../actions/RequestActions';\nimport { fetchStage } from '../../actions/StageActions';\n\ninterface Props {\n  match: any;\n  setProfile: Function;\n  profile: any;\n  authorization: Authorization;\n  user: any;\n  request: any;\n  fetchRequest: Function;\n  saveRequest: Function;\n  deleteRequest: Function;\n  stage: any;\n  fetchStage: Function;\n}\n\nconst domain = 'servicerequests';\n\nconst Request = (props: Props) => {\n  const emptyRequest = {\n    title: '',\n    description: '',\n    priority: 'Low',\n    status: 'assigned',\n  };\n\n  const [newDialogOpen, setNewDialogOpen] = useState(false);\n  const [editDialogOpen, setEditDialogOpen] = useState(false);\n  const [selectedRequest, setSelectedRequest] = useState({});\n  const [searchPref, setSearchPref] = useState({ text: '' });\n  const [items, setItems] = useState<undefined | any[]>([{}]);\n  const [data, setData] = useState({\n    title: '',\n    description: '',\n  });\n  const [view, setView] = useState<undefined | any[]>([{}]);\n\n  useEffect(() => {\n    const eventBus = receiveMessage().subscribe(message => {\n      if (message.name === domain && message.signal) {\n        sendMessage('notification', true, {\n          type: 'success',\n          message: `${domain} ${message.data.action}`,\n          duration: 5000,\n        });\n        if (message.data.action === 'created') {\n          setNewDialogOpen(false);\n        } else if (message.data.action === 'updated') {\n          setEditDialogOpen(false);\n        }\n      }\n    });\n    return () => eventBus.unsubscribe();\n  });\n\n  useEffect(() => {\n    if (props.authorization.isAuth) {\n      props.fetchRequest(props.match.params.tenant, props.authorization);\n    }\n    props.fetchStage(props.match.params.tenant, props.authorization);\n    props.setProfile({ ...props.profile, tenant: props.match.params.tenant });\n  }, []);\n\n  useEffect(() => {\n    if (props.authorization.isAuth) {\n      props.fetchRequest(props.match.params.tenant, props.authorization);\n      props.fetchStage(props.match.params.tenant, props.authorization);\n    }\n  }, [props.authorization.isAuth]);\n\n  useEffect(() => {\n    const stageList = findStage();\n    const list: any[] = [];\n    props.request.items.forEach(item => {\n      if (item.status === 'assigned' && item.stage) {\n        const index = props.stage.data.findIndex(x => x._id === item.stage);\n        item.statusView = (\n          <div className=\"tag-2\">\n            <span>{`Assigned_to_${stageList[index]}`}</span>\n          </div>\n        );\n      } else if (item.status === 'assigned' && !item.stage) {\n        item.statusView = (\n          <div className=\"tag-4\">\n            <span>Assigned_to_user</span>\n          </div>\n        );\n      } else if (item.status === 'resolved') {\n        item.statusView = (\n          <div className=\"tag-5\">\n            <span>Resolved</span>\n          </div>\n        );\n      }\n      list.push({\n        ...item,\n        action: (\n          <>\n            <OakButton\n              theme=\"primary\"\n              variant=\"block\"\n              align=\"left\"\n              action={() => openEditDialog(item)}\n              icon=\"open_in_new\"\n            />\n          </>\n        ),\n      });\n    });\n    setItems(list);\n  }, [props.request.items, props.stage.data]);\n\n  useEffect(() => {\n    applySearch();\n  }, [searchPref, items]);\n\n  const applySearch = () => {\n    const result = searchPref.text\n      ? view?.filter(\n          item =>\n            item.title.toLowerCase().includes(searchPref.text) ||\n            item.description.toLowerCase().includes(searchPref.text)\n        )\n      : items;\n    setView(result);\n  };\n\n  const findStage = () => {\n    const stageList: any[] = [];\n    props.stage?.data.forEach(stageData => {\n      stageList.push(stageData.name);\n    });\n    return stageList;\n  };\n\n  const toggleNewDialog = () => {\n    setNewDialogOpen(!newDialogOpen);\n    setSelectedRequest(emptyRequest);\n  };\n\n  const toggleEditDialog = () => {\n    setEditDialogOpen(!editDialogOpen);\n  };\n\n  const openEditDialog = requestInput => {\n    setEditDialogOpen(true);\n    setSelectedRequest(requestInput);\n  };\n\n  const saveRequest = (request, edit = false) => {\n    if (!request) {\n      sendMessage('notification', true, {\n        type: 'failure',\n        message: 'Unknown error',\n        duration: 5000,\n      });\n      return;\n    }\n\n    if (isEmptyOrSpaces(request.title)) {\n      sendMessage('notification', true, {\n        type: 'failure',\n        message: 'Title is missing',\n        duration: 5000,\n      });\n      return;\n    }\n\n    if (isEmptyOrSpaces(request.description)) {\n      sendMessage('notification', true, {\n        type: 'failure',\n        message: 'Description is missing',\n        duration: 5000,\n      });\n      return;\n    }\n    const requestToSave = edit\n      ? request\n      : { ...request, stage: props.stage?.data[0]['_id'] };\n    props.saveRequest(\n      props.match.params.tenant,\n      props.authorization,\n      requestToSave\n    );\n    setSelectedRequest(requestToSave);\n  };\n\n  const handleChange = event => {\n    setData({ ...data, [event.target.name]: event.target.value });\n  };\n\n  const handleSearchPrefChange = event => {\n    setSearchPref({ ...searchPref, [event.target.name]: event.target.value });\n  };\n\n  return (\n    <div className=\"requests\">\n      <OakDialog\n        visible={newDialogOpen}\n        toggleVisibility={() => toggleNewDialog()}\n      >\n        <div className=\"dialog-body\">\n          <OakText\n            label=\"Title\"\n            data={data}\n            id=\"title\"\n            handleChange={e => handleChange(e)}\n          />\n          <OakText\n            label=\"Description\"\n            data={data}\n            id=\"description\"\n            handleChange={e => handleChange(e)}\n          />\n        </div>\n        <div className=\"dialog-footer\">\n          <OakButton\n            action={() => toggleNewDialog()}\n            theme=\"default\"\n            variant=\"appear\"\n            align=\"left\"\n          >\n            <i className=\"material-icons\">close</i>Cancel\n          </OakButton>\n          <OakButton\n            action={() =>\n              saveRequest(\n                {\n                  ...emptyRequest,\n                  title: data.title,\n                  description: data.description,\n                },\n                false\n              )\n            }\n            theme=\"primary\"\n            variant=\"disappear\"\n            align=\"right\"\n          >\n            <i className=\"material-icons\">double_arrow</i>Save\n          </OakButton>\n        </div>\n      </OakDialog>\n      <ServiceRequestView\n        {...props}\n        editDialogOpen={editDialogOpen}\n        toggleEditDialog={toggleEditDialog}\n        saveRequest={saveRequest}\n        request={selectedRequest}\n        stages={props.stage?.data}\n      />\n      <OakViewResolver sideLabel=\"More options\">\n        <OakView main>\n          <div className=\"search-bar-container\">\n            <div className=\"search-bar\">\n              <OakText\n                label=\"Search\"\n                data={searchPref}\n                handleChange={handleSearchPrefChange}\n                id=\"text\"\n              />\n              {/* </div>\n            <div className=\"clear\"> */}\n              <OakButton\n                action={() => setSearchPref({ ...searchPref, text: '' })}\n                theme=\"default\"\n                variant=\"block\"\n                icon=\"clear\"\n              />\n            </div>\n            <div>\n              <OakButton\n                action={() => toggleNewDialog()}\n                theme=\"primary\"\n                variant=\"disappear\"\n                align=\"right\"\n              >\n                <i className=\"material-icons\">double_arrow</i>New Request\n              </OakButton>\n            </div>\n          </div>\n          <OakTable\n            material\n            data={view}\n            header={[\n              { key: '_id', label: 'Request Number' },\n              { key: 'title', label: 'Title' },\n              { key: 'description', label: 'Description' },\n              { key: 'statusView', label: 'Status' },\n              { key: 'category', label: 'Category' },\n              { key: 'priority', label: 'Priority' },\n              { key: 'createdAt', label: 'Opened On', dtype: 'date' },\n              { key: 'action', label: 'Action' },\n            ]}\n          />\n        </OakView>\n      </OakViewResolver>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  request: state.request,\n  stage: state.stage,\n});\n\nexport default connect(mapStateToProps, {\n  fetchRequest,\n  saveRequest,\n  deleteRequest,\n  fetchStage,\n})(Request);\n","import React from 'react';\nimport './styles/oak-checkbox.scss';\n\ninterface Props {\n  label?: string;\n  id: string;\n  data: any;\n  handleChange: any;\n  labelPosition?: 'left' | 'right';\n  variant?: 'circle' | 'square';\n  theme?: 'primary' | 'secondary' | 'tertiary' | 'default';\n  disabled?: boolean;\n}\nfunction OakCheckbox(props: Props) {\n  function handleChange(event) {\n    props.handleChange(event);\n  }\n\n  function getStyle() {\n    let style = props.theme ? props.theme : '';\n    style += props.variant ? ` ${props.variant}` : '';\n    return style;\n  }\n\n  return (\n    <div className={`oak-check-box ${getStyle()}`}>\n      <div className=\"checkbox-container\">\n        {/* {props.label && props.labelPosition === 'left' && <div>\n                    {props.label}\n                </div>} */}\n        {/* <input type=\"checkbox\" name={props.id} value={props.data[props.id]} />\n                <span className=\"checkbox-style\"></span> */}\n        <label className=\"checkbox\">\n          <input\n            type=\"checkbox\"\n            name={props.id}\n            checked={props.data[props.id]}\n            id={props.id}\n            onChange={e => handleChange(e)}\n            disabled={props.disabled}\n          />\n          <label className=\"typography-5\" htmlFor={props.id}>\n            {props.label}\n          </label>\n        </label>\n        {/* {props.label && (!props.labelPosition || props.labelPosition === 'right') && <div>\n                    {props.label}\n                </div>} */}\n      </div>\n    </div>\n  );\n}\n\nOakCheckbox.propTypes = {};\n\nexport default OakCheckbox;\n","import React, { useState, useEffect } from 'react';\nimport { Authorization } from '../Types/GeneralTypes';\nimport './style.scss';\nimport OakDialog from '../../oakui/OakDialog';\nimport OakButton from '../../oakui/OakButton';\nimport OakCheckbox from '../../oakui/OakCheckbox';\n\ninterface Props {\n  match: any;\n  setProfile: Function;\n  profile: any;\n  authorization: Authorization;\n  user: any;\n  stages: any;\n  saveUser: Function;\n  isDialogOpen: boolean;\n  toggleDialog: any;\n}\n\nconst UserAdministrationView = (props: Props) => {\n  const administrativeRolesList = ['tenantAdministrator', 'userAdministrator'];\n\n  const [data, setData] = useState({\n    administrativeRoles: {},\n    supportRoles: {},\n  });\n\n  useEffect(() => {\n    props.setProfile({ ...props.profile, tenant: props.match.params.tenant });\n  }, []);\n\n  useEffect(() => {\n    if (props.user && props.stages) {\n      const administrativeRoles = {};\n      const supportRoles = {};\n      administrativeRolesList.forEach(item => {\n        administrativeRoles[item] = !!(\n          props.user.roles && props.user.roles.indexOf(item) >= 0\n        );\n      });\n      props.stages.forEach(item => {\n        supportRoles[item.name] = !!(\n          props.user.roles && props.user.roles.indexOf(item.name) >= 0\n        );\n      });\n      setData({\n        ...data,\n        administrativeRoles,\n        supportRoles,\n      });\n    }\n  }, [props.user, props.stages]);\n\n  const saveRequest = () => {\n    const roles: string[] = [];\n    Object.keys(data.administrativeRoles).forEach(item => {\n      if (data.administrativeRoles[item]) {\n        roles.push(item);\n      }\n    });\n    Object.keys(data.supportRoles).forEach(item => {\n      if (data.supportRoles[item]) {\n        const index = props.stages.findIndex(x => x.name === item);\n        roles.push(props.stages[index]._id);\n      }\n    });\n\n    props.saveUser(\n      {\n        id: props.user._id,\n        roles,\n      },\n      true\n    );\n    props.toggleDialog();\n  };\n\n  const handleSupportRoleChange = event => {\n    setData({\n      ...data,\n      supportRoles: {\n        ...data.supportRoles,\n        [event.target.name]: event.target.value,\n      },\n    });\n  };\n\n  const handleAdministrativeRoleChange = event => {\n    setData({\n      ...data,\n      administrativeRoles: {\n        ...data.administrativeRoles,\n        [event.target.name]: event.target.value,\n      },\n    });\n  };\n\n  return (\n    <div className=\"view-user\">\n      <OakDialog\n        visible={props.isDialogOpen}\n        toggleVisibility={props.toggleDialog}\n      >\n        <div className=\"dialog-body\">\n          {props.user && (\n            <>\n              <div className=\"typography-4\">User Data</div>\n              <div className=\"basic-data\">\n                <div className=\"label\">Email</div>\n                <div className=\"value\">{props.user.email}</div>\n                <div className=\"label\">Full Name</div>\n                <div className=\"value\">John Doe</div>\n              </div>\n              <div className=\"typography-4 space-top-3\">\n                Administrative Roles\n              </div>\n              <div className=\"role-container\">\n                <OakCheckbox\n                  data={data.administrativeRoles}\n                  id=\"tenantAdministrator\"\n                  label=\"Tenant Administrator\"\n                  handleChange={handleAdministrativeRoleChange}\n                  theme=\"primary\"\n                />\n                <OakCheckbox\n                  data={data.administrativeRoles}\n                  id=\"userAdministrator\"\n                  label=\"User Administrator\"\n                  handleChange={handleAdministrativeRoleChange}\n                  theme=\"primary\"\n                />\n              </div>\n              <div className=\"typography-4 space-top-3\">Support Roles</div>\n              <div className=\"role-container\">\n                {props.stages.map(stage => (\n                  <OakCheckbox\n                    key={stage.name}\n                    data={data.supportRoles}\n                    id={stage.name}\n                    label={stage.name}\n                    handleChange={handleSupportRoleChange}\n                    theme=\"primary\"\n                  />\n                ))}\n              </div>\n            </>\n          )}\n        </div>\n        <div className=\"dialog-footer\">\n          <OakButton\n            theme=\"primary\"\n            variant=\"outline\"\n            align=\"right\"\n            icon=\"save\"\n            action={saveRequest}\n          >\n            Save Changes\n          </OakButton>\n        </div>\n      </OakDialog>\n    </div>\n  );\n};\n\nexport default UserAdministrationView;\n","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport OakTable from '../../oakui/OakTable';\nimport { Authorization } from '../Types/GeneralTypes';\nimport './style.scss';\nimport OakViewResolver from '../../oakui/OakViewResolver';\nimport OakView from '../../oakui/OakView';\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\nimport UserAdministrationView from './view';\nimport OakText from '../../oakui/OakText';\nimport OakButton from '../../oakui/OakButton';\nimport { fetchAllUsers, saveUser } from '../../actions/UserActions';\nimport { fetchStage } from '../../actions/StageActions';\n\ninterface Props {\n  match: any;\n  setProfile: Function;\n  profile: any;\n  authorization: Authorization;\n  user: any;\n  fetchAllUsers: Function;\n  saveUser: Function;\n  stage: any;\n  fetchStage: Function;\n}\n\nconst domain = 'user';\n\nconst UserAdministration = (props: Props) => {\n  const [paginationPref, setPaginationPref] = useState({\n    pageNo: 1,\n    rowsPerPage: 6,\n  });\n\n  const [searchPref, setSearchPref] = useState({ text: '' });\n  const [items, setItems] = useState<undefined | any[]>([{}]);\n  const [view, setView] = useState<undefined | any[]>([{}]);\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [selectedUser, setSelectedUser] = useState<null | {}>(null);\n\n  useEffect(() => {\n    const eventBus = receiveMessage().subscribe(message => {\n      if (message.name === domain && message.signal) {\n        sendMessage('notification', true, {\n          type: 'success',\n          message: `${domain} ${message.data.action}`,\n          duration: 5000,\n        });\n      }\n    });\n    return () => eventBus.unsubscribe();\n  });\n\n  useEffect(() => {\n    if (props.authorization.isAuth) {\n      initializeRequest();\n    }\n\n    props.setProfile({ ...props.profile, tenant: props.match.params.tenant });\n  }, []);\n\n  useEffect(() => {\n    if (props.authorization.isAuth) {\n      initializeRequest();\n    }\n  }, [props.authorization.isAuth]);\n\n  const openUser = user => {\n    setSelectedUser(user);\n    setDialogOpen(true);\n  };\n\n  useEffect(() => {\n    const list: any[] = [];\n    props.user.users.forEach(item => {\n      const roleList = findRole(item.roles);\n      item.roles = roleList;\n      list.push({\n        ...item,\n        action: (\n          <>\n            <OakButton\n              theme=\"primary\"\n              variant=\"block\"\n              align=\"left\"\n              action={() => openUser(item)}\n              icon=\"open_in_new\"\n            />\n          </>\n        ),\n      });\n    });\n    setItems(list);\n    setView(list);\n  }, [props.user.users]);\n\n  useEffect(() => {\n    applySearch();\n  }, [searchPref, items]);\n\n  const applySearch = () => {\n    const result = searchPref.text\n      ? view?.filter(item => item.email.toLowerCase().includes(searchPref.text))\n      : items;\n    setView(result);\n  };\n\n  const findRole = roles => {\n    const stageList: any[] = [];\n    const roleList: any[] = [];\n    let index = 0;\n    props.stage?.data.forEach(stageData => {\n      stageList.push(stageData.name);\n    });\n    roles.forEach(item => {\n      index = props.stage?.data.findIndex(x => x._id === item);\n      roleList.push(index >= 0 ? stageList[index] : item);\n    });\n    return roleList;\n  };\n\n  const initializeRequest = () => {\n    props.fetchAllUsers(props.match.params.tenant, props.authorization);\n    props.fetchStage(props.match.params.tenant, props.authorization);\n  };\n\n  const saveUser = (user, edit = false) => {\n    if (!user) {\n      sendMessage('notification', true, {\n        type: 'failure',\n        message: 'Unknown error',\n        duration: 5000,\n      });\n      return;\n    }\n\n    props.saveUser(props.match.params.tenant, props.authorization, user);\n  };\n\n  const handleSearchPref = event => {\n    setSearchPref({ ...searchPref, [event.target.name]: event.target.value });\n  };\n\n  return (\n    <div className=\"user-administration\">\n      <UserAdministrationView\n        {...props}\n        isDialogOpen={dialogOpen}\n        toggleDialog={() => setDialogOpen(!dialogOpen)}\n        saveUser={saveUser}\n        user={selectedUser}\n        stages={props.stage.data}\n      />\n      <OakViewResolver>\n        <OakView main>\n          <div className=\"search-bar\">\n            <div />\n            <div>\n              <OakText\n                label=\"Search\"\n                data={searchPref}\n                handleChange={handleSearchPref}\n                id=\"text\"\n              />\n            </div>\n            <div className=\"clear\">\n              <OakButton\n                action={() => setSearchPref({ ...searchPref, text: '' })}\n                theme=\"default\"\n                variant=\"block\"\n                icon=\"clear\"\n              />\n            </div>\n          </div>\n          <OakTable\n            material\n            data={view}\n            header={[\n              { key: '_id', label: 'User Id' },\n              { key: 'title', label: 'Full Name' },\n              { key: 'email', label: 'Email' },\n              { key: 'status', label: 'Status' },\n              { key: 'roles', label: 'Roles' },\n              { key: 'action', label: 'Action' },\n            ]}\n          />\n        </OakView>\n      </OakViewResolver>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  user: state.user,\n  stage: state.stage,\n});\n\nexport default connect(mapStateToProps, {\n  fetchAllUsers,\n  saveUser,\n  fetchStage,\n})(UserAdministration);\n","import { GET_AUTH, REMOVE_AUTH, ADD_AUTH } from './types';\n\nexport const getAuth = () => dispatch => {\n  dispatch({\n    type: GET_AUTH,\n  });\n};\n\nexport const addAuth = data => dispatch => {\n  dispatch({\n    type: ADD_AUTH,\n    payload: data,\n  });\n};\n\nexport const removeAuth = () => dispatch => {\n  dispatch({\n    type: REMOVE_AUTH,\n  });\n};\n","import React, { useEffect } from 'react';\nimport { useQuery, useLazyQuery, useApolloClient } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport { connect, useSelector, useDispatch } from 'react-redux';\nimport { getAuth, addAuth } from '../../actions/AuthActions';\nimport { Authorization } from '../Types/GeneralTypes';\nimport { httpGet } from '../Lib/RestTemplate';\nimport { sendMessage } from '../../events/MessageService';\n\ninterface Props {\n  authorization: Authorization;\n  path?: string;\n  render?: any;\n  component: any;\n  match: any;\n  history: any;\n  middleware?: string[];\n  cookies: any;\n}\n\nconst GET_SESSION = gql`\n  query Session($key: ID!) {\n    session(key: $key) {\n      id\n      firstName\n      lastName\n      email\n      token\n    }\n  }\n`;\n\nconst OakRoute = (props: Props) => {\n  const gqlClient = useApolloClient();\n  const authorization = useSelector(state => state.authorization);\n  const profile = useSelector(state => state.profile);\n  const dispatch = useDispatch();\n\n  const middlewares = () => {\n    props.middleware?.forEach(middlewareName => {\n      if (!runMidleware(middlewareName)) {\n        return false;\n      }\n    });\n    return true;\n  };\n\n  const runMidleware = middlewareName => {\n    sendMessage('spaceChange', true, '');\n    switch (middlewareName) {\n      case 'readAuthentication':\n        return readAuthenticationSpace();\n      case 'authenticate':\n        return authenticateSpace();\n      case 'isAdmin':\n        return isAdmin();\n      default:\n        return true;\n    }\n  };\n\n  const authenticateSpace = () => {\n    return authenticate('space');\n  };\n  const readAuthenticationSpace = () => {\n    return authenticate('space', false);\n  };\n\n  const authenticate = async (type, redirect = true) => {\n    sendMessage('spaceChange', true, props.match.params.tenant);\n    if (authorization.isAuth) {\n      return true;\n    }\n    const cookieKey = `mirror_${props.match.params.tenant}`;\n    const authKey = props.cookies.get(cookieKey);\n    const baseAuthUrl = `/auth/${props.match.params.tenant}`;\n    if (authKey) {\n      const { data } = await gqlClient.query({\n        query: GET_SESSION,\n        variables: { key: authKey },\n      });\n\n      if (data?.session) {\n        dispatch(\n          addAuth({\n            isAuth: true,\n            token: data.session.token,\n            secret: '',\n            firstName: data.session.firstName,\n            lastName: data.session.lastName,\n            email: data.session.email,\n          })\n        );\n      } else {\n        props.cookies.remove(cookieKey);\n        if (redirect) {\n          sendMessage('notification', true, {\n            type: 'failure',\n            message: 'Invalid session token',\n            duration: 3000,\n          });\n          redirectToLogin(props.match.params.tenant);\n        }\n      }\n    } else if (redirect) {\n      redirectToLogin(props.match.params.tenant);\n    } else {\n      return true;\n    }\n  };\n\n  const isAdmin = () => {\n    redirectToUnauthorized();\n    return false;\n  };\n\n  const redirectToLogin = spaceId => {\n    window.location.href = `${process.env.REACT_APP_ONEAUTH_URL}/#/space/${spaceId}/login?type=signin&appId=${process.env.REACT_APP_ONEAUTH_APP_ID}`;\n  };\n\n  const redirectToUnauthorized = () => {\n    props.history.push(`/${profile.tenant}/unauthorized`);\n  };\n\n  return (\n    <>\n      {middlewares() && (\n        <props.component\n          {...props}\n          profile={profile}\n          space={props.match.params.tenant}\n          // getProfile={getProfile}\n          // setProfile={props.setProfile}\n        />\n      )}\n    </>\n  );\n};\n\nexport default OakRoute;\n","import React, { useState, useEffect } from 'react';\n\nconst Unauthorized = () => {\n  return (\n    <div>\n      <br />\n      <br />\n      <br />\n      <br />\n      <br />\n      <br />\n      Unauthorized\n    </div>\n  );\n};\n\nexport default Unauthorized;\n","import React, { useState } from 'react';\nimport ReactQuill from 'react-quill';\nimport './styles/oak-editor.scss';\nimport 'react-quill/dist/quill.snow.css';\nimport 'react-quill/dist/quill.bubble.css';\n\ninterface Props {\n  id: string;\n  data: any;\n  handleChange: any;\n  bubble?: boolean;\n  label?: string;\n}\nconst OakEditor = (props: Props) => {\n  const [blockApiChangeEvents, setBlockApiChangeEvents] = useState(true);\n  const modules = {\n    toolbar: [\n      [\n        'bold',\n        'italic',\n        'underline',\n        'strike',\n        { align: 'left' },\n        { align: 'center' },\n        { align: 'right' },\n        { align: 'justify' },\n        // { header: 1 },\n        // { header: 2 },\n        { list: 'ordered' },\n        { list: 'bullet' },\n        { indent: '-1' },\n        { indent: '+1' },\n        { color: [] },\n        { background: [] },\n        // 'blockquote',\n        'code-block',\n        { header: [1, 2, 3, 4, 5, 6, false] },\n        { font: [] },\n        // 'clean',\n      ],\n    ],\n  };\n  // toolbarBkp: [\n  //   ['bold', 'italic', 'underline', 'strike'], // toggled buttons\n  //   ['blockquote', 'code-block'],\n\n  //   [{ header: 1 }, { header: 2 }], // custom button values\n  //   [{ list: 'ordered' }, { list: 'bullet' }],\n  //   [{ indent: '-1' }, { indent: '+1' }], // outdent/indent\n  //   [{ direction: 'rtl' }], // text direction\n\n  //   [{ header: [1, 2, 3, 4, 5, 6, false] }],\n\n  //   [{ color: [] }, { background: [] }], // dropdown with defaults from theme\n  //   [{ font: [] }],\n  //   [{ align: [] }],\n\n  //   ['clean'], // remove formatting button\n  // ],\n\n  const formats = [\n    'header',\n    'bold',\n    'italic',\n    'underline',\n    'strike',\n    'blockquote',\n    'list',\n    'bullet',\n    'indent',\n    'color',\n    'font',\n    'code-block',\n    'link',\n    'image',\n    'background',\n    'align',\n  ];\n  const handleChange = (value, delta, source) => {\n    if (source === 'api' && blockApiChangeEvents) {\n      setBlockApiChangeEvents(false);\n    } else {\n      props.handleChange({\n        target: {\n          name: props.id,\n          value,\n        },\n      });\n    }\n  };\n  return (\n    <div className={props.bubble ? 'oak-editor bubble' : 'oak-editor'}>\n      <label>{props.label}</label>\n      <ReactQuill\n        value={props.data[props.id]}\n        onChange={handleChange}\n        theme={props.bubble ? 'bubble' : 'snow'}\n        modules={modules}\n        formats={formats}\n      />\n    </div>\n  );\n};\n\nexport default OakEditor;\n","import React from 'react';\nimport './style.scss';\n\ninterface Props {\n  id: any;\n  pageid?: string;\n}\nconst CategoryTree = (props: Props) => {\n  return (\n    <div className=\"category-tree\">\n      <div className=\"category-name typography-4\">lorem ipsum</div>\n      <div className=\"category-relation\">\n        <i className=\"material-icons\">keyboard_arrow_right</i>\n      </div>\n      <div className=\"category-name typography-4\">dolor sit</div>\n      {props.pageid !== 'leafNode' && (\n        <div className=\"action typography-4\">change</div>\n      )}\n    </div>\n  );\n};\n\nexport default CategoryTree;\n","import React, { ReactNode, useState, useEffect } from 'react';\nimport './styles/oak-chip-group.scss';\nimport OakText from './OakText';\nimport { newId } from '../events/MessageService';\nimport { isEmptyOrSpaces } from '../components/Utils';\n\ninterface Props {\n  label?: string;\n  placeholder?: string;\n  objects?: any;\n  elements?: any;\n  data: any;\n  id: string;\n  handleAddition: Function;\n  handleRemoval: Function;\n}\n\nconst OakChipGroup = (props: Props) => {\n  const [id, setId] = useState(newId());\n  const [searchOn, setSearchOn] = useState(false);\n  const [criteria, setCriteria] = useState({\n    [id]: '',\n  });\n  const [dropdownFiltered, setDropdownFiltered] = useState<any>(undefined);\n\n  useEffect(() => {\n    updateSearchResults(criteria[id]);\n  }, [props.objects]);\n\n  const selected = key => {\n    setSearchOn(false);\n    props.handleAddition(key);\n    setCriteria({ [id]: '' });\n  };\n\n  const handleFocus = () => {\n    setSearchOn(true);\n  };\n\n  const handleChange = event => {\n    setSearchOn(true);\n    setCriteria({ [event.target.name]: event.target.value });\n    updateSearchResults(event.target.value);\n  };\n  const updateSearchResults = searchCriteria => {\n    if (props.elements) {\n      setDropdownFiltered(\n        props.elements.filter(item =>\n          item.toLowerCase().includes(searchCriteria.toLowerCase())\n        )\n      );\n    } else {\n      setDropdownFiltered(\n        props.objects.filter(item =>\n          item.value?.toLowerCase().includes(searchCriteria.toLowerCase())\n        )\n      );\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('click', (e: any) => {\n      if (!document.getElementById(id)?.contains(e.target)) {\n        setSearchOn(false);\n      }\n    });\n  }, []);\n\n  const handleSubmit = (event, key) => {\n    event.preventDefault();\n    if (!isEmptyOrSpaces(key)) {\n      selected(key);\n    }\n  };\n\n  return (\n    <div className=\"oak-chip-group\" id={id}>\n      <div\n        className={`search-bar ${\n          props.data[props.id]?.length > 0 ? 'hide-label' : ''\n        }`}\n      >\n        <div className=\"chip-group\">\n          {props.data[props.id].map(item => (\n            <div className=\"chip\">\n              {item}\n              <i\n                className=\"material-icons\"\n                onClick={() => props.handleRemoval(item)}\n              >\n                close\n              </i>\n            </div>\n          ))}\n        </div>\n        <form\n          method=\"GET\"\n          onSubmit={event => handleSubmit(event, criteria[id])}\n          noValidate\n        >\n          <OakText\n            id={id}\n            data={criteria}\n            label={props.label}\n            handleFocus={handleFocus}\n            handleChange={handleChange}\n            placeholder={props.placeholder}\n          />\n        </form>\n      </div>\n      {searchOn && dropdownFiltered && dropdownFiltered.length > 0 && (\n        <div className=\"results\">\n          {props.elements &&\n            dropdownFiltered?.map(item => (\n              <div\n                className=\"element\"\n                key={item}\n                onClick={() => selected(item)}\n              >\n                {props.elements ? item : item.value}\n              </div>\n            ))}\n          {props.objects &&\n            dropdownFiltered?.map(item => (\n              <div\n                className=\"element\"\n                key={item.key}\n                onClick={() => selected(item.key)}\n              >\n                {props.elements ? item : item.value}\n              </div>\n            ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default OakChipGroup;\n","import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { gql } from 'apollo-boost';\nimport { useMutation } from '@apollo/react-hooks';\nimport OakText from '../../../oakui/OakText';\nimport OakEditor from '../../../oakui/OakEditor';\nimport OakButton from '../../../oakui/OakButton';\nimport { isEmptyOrSpaces } from '../../Utils';\nimport { sendMessage, receiveMessage } from '../../../events/MessageService';\nimport { saveArticle } from '../ArticleService';\nimport CategoryTree from '../../Category/CategoryTree';\nimport OakChipGroup from '../../../oakui/OakChipGroup';\nimport { ArticlePayload } from '../../../types/graphql';\n\nconst domain = 'article';\n\ninterface Props {\n  urlParam: any;\n  history: any;\n  space: any;\n}\n\nconst ADD_ARTICLE = gql`\n  mutation AddArticle($payload: ArticlePayload!) {\n    addArticle(payload: $payload) {\n      id\n      title\n    }\n  }\n`;\n\nconst CreateItem = (props: Props) => {\n  const [addArticle, { data: savedArticle }] = useMutation(ADD_ARTICLE);\n  const authorization = useSelector(state => state.authorization);\n  const [data, setData] = useState<any>({\n    title: '',\n    description: '',\n    tags: [],\n    addTags: [],\n    removeTags: [],\n  });\n  const [view, setView] = useState<any>({\n    tags: [],\n  });\n\n  const globalTags = [\n    'int',\n    'lorem',\n    'ipsum',\n    'dolor',\n    'wrsedfdsf',\n    'fgfdgyy',\n    'ujku',\n    'fre546',\n    'yudsf',\n    'uiasedas',\n    'y78sd',\n  ];\n\n  const globalTagsObjects = [\n    {\n      key: 'internet',\n      value: 'Internet',\n    },\n    {\n      key: 'web',\n      value: 'Web',\n    },\n    {\n      key: 'lorem',\n      value: 'Lorem ipsum',\n    },\n    {\n      key: 'dolor',\n      value: 'Dolor sit',\n    },\n    {\n      key: 'loremdolor',\n      value: 'Lorem ipsum, dolor sit',\n    },\n  ];\n\n  useEffect(() => {\n    setData({\n      title: '',\n      description: '',\n      tags: [],\n      addTags: [],\n      removeTags: [],\n    });\n  }, []);\n\n  useEffect(\n    () =>\n      setView({\n        ...view,\n        tags: [...data.tags, ...data.addTags].filter(\n          item => !data.removeTags.includes(item)\n        ),\n      }),\n    [data.addTags, data.tags, data.removeTags]\n  );\n\n  const handleChange = event => {\n    setData({\n      ...data,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleTagAddition = key => {\n    if (!data.tags.includes(key)) {\n      setData({\n        ...data,\n        addTags: [...data.addTags, key],\n        removeTags: data.removeTags.filter(item => item !== key),\n      });\n    } else {\n      setData({\n        ...data,\n        removeTags: data.removeTags.filter(item => item !== key),\n      });\n    }\n  };\n\n  const handleTagRemoval = key => {\n    if (data.tags.includes(key)) {\n      setData({\n        ...data,\n        removeTags: [...data.removeTags, key],\n        addTags: data.addTags.filter(item => item !== key),\n      });\n    } else {\n      setData({\n        ...data,\n        addTags: data.addTags.filter(item => item !== key),\n      });\n    }\n  };\n\n  const validateEmptyText = (text, message) => {\n    if (isEmptyOrSpaces(text)) {\n      sendMessage('notification', true, {\n        type: 'failure',\n        message,\n        duration: 5000,\n      });\n      return false;\n    }\n    return true;\n  };\n\n  const submit = () => {\n    if (\n      validateEmptyText(data.title, 'Title is not provided') &&\n      validateEmptyText(\n        data.description,\n        'Provide details for the mentioned title'\n      )\n    ) {\n      const payload: ArticlePayload = {\n        title: data.title,\n        categoryId: props.urlParam.categoryid,\n        description: data.description,\n        addTags: data.addTags,\n        removeTags: data.removeTags,\n      };\n      addArticle({\n        variables: {\n          payload,\n        },\n      }).then(response => props.history.goBack());\n    }\n  };\n\n  const cancelCreation = () => {\n    props.history.goBack();\n  };\n\n  return (\n    <div className=\"create-article-item\">\n      <div className=\"action-header position-right\">\n        <OakButton action={submit} theme=\"primary\" variant=\"appear\">\n          <i className=\"material-icons\">double_arrow</i>Save\n        </OakButton>\n        {props.history.length > 2 && (\n          <OakButton\n            action={() => cancelCreation()}\n            theme=\"default\"\n            variant=\"appear\"\n          >\n            <i className=\"material-icons\">close</i>Cancel\n          </OakButton>\n        )}\n      </div>\n      <div className=\"user-form\">\n        <CategoryTree id={props.urlParam.categoryid} />\n        <OakText\n          label=\"Title\"\n          data={data}\n          id=\"title\"\n          handleChange={e => handleChange(e)}\n        />\n        <OakEditor\n          label=\"Description\"\n          data={data}\n          id=\"description\"\n          handleChange={e => handleChange(e)}\n        />\n        <OakChipGroup\n          handleAddition={handleTagAddition}\n          handleRemoval={handleTagRemoval}\n          // objects={globalTagsObjects}\n          elements={globalTags}\n          data={view}\n          id=\"tags\"\n          label=\"Tags\"\n        />\n      </div>\n    </div>\n  );\n};\nexport default CreateItem;\n","import React, { useEffect, useState } from 'react';\nimport './style.scss';\nimport CreateItem from './CreateItem';\n\ninterface Props {\n  setProfile: Function;\n  profile: any;\n  match: any;\n  location: any;\n  history: any;\n  space: string;\n}\n\nconst queryString = require('query-string');\n\nconst CreateArticle = (props: Props) => {\n  const [urlParam, setUrlParam] = useState({\n    categoryid: '',\n  });\n\n  useEffect(() => {\n    props.setProfile({\n      ...props.profile,\n      tenant: props.match.params.tenant,\n    });\n    setUrlParam(queryString.parse(props.location.search));\n  }, []);\n\n  return (\n    <div className=\"app-page\">\n      <div className=\"app-content\">\n        <div className=\"app-text\">\n          <CreateItem {...props} urlParam={urlParam} space={props.space} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CreateArticle;\n","import axios from 'axios';\nimport { httpGet, httpPut, httpDelete } from '../Lib/RestTemplate';\n\nimport {\n  sendMessage,\n  newMessageId,\n  httpHandleRequest,\n  httpHandleResponse,\n  httpHandleError,\n  httpHandleResponseSilent,\n  httpHandleErrorSilent,\n} from '../../events/MessageService';\n\nconst domain = 'article';\nconst baseUrl = process.env.REACT_APP_API_URL;\n\nexport const saveArticle = async (space, payload, authorization) => {\n  const action = 'Save article';\n  const messageId = newMessageId();\n  httpHandleRequest(messageId, action, payload.title);\n  try {\n    const response = await axios.put(`${baseUrl}/article/${space}/`, payload, {\n      headers: {\n        Authorization: authorization.token,\n      },\n    });\n    return httpHandleResponse(messageId, response, action, payload.title);\n  } catch (error) {\n    return httpHandleError(messageId, error, action, payload.title);\n  }\n};\n\nexport const fetchArticle = async (space, id, authorization) => {\n  try {\n    const response = await axios.get(`${baseUrl}/article/${space}/${id}`, {\n      headers: {\n        Authorization: authorization.token,\n      },\n    });\n    return httpHandleResponseSilent(response);\n  } catch (error) {\n    return httpHandleErrorSilent(error);\n  }\n};\n\nexport const deleteArticle = async (space, id, authorization) => {\n  try {\n    const response = await axios.get(`${baseUrl}/article/${space}/${id}`, {\n      headers: {\n        Authorization: authorization.token,\n      },\n    });\n    return httpHandleResponseSilent(response);\n  } catch (error) {\n    return httpHandleErrorSilent(error);\n  }\n};\n","import React, { useEffect, ReactNode, useState } from 'react';\nimport './styles/oak-modal.scss';\nimport OakIcon from './OakIcon';\n\ninterface Props {\n  visible: boolean;\n  toggleVisibility: any;\n  label?: string;\n  children?: ReactNode;\n  fullscreen?: boolean;\n  noheader?: boolean;\n  donotMobilize?: boolean;\n}\n\nconst OakModal = (props: Props) => {\n  const [visible, setVisible] = useState(false);\n  useEffect(() => {\n    if (visible !== props.visible) {\n      if (props.visible) {\n        setVisible(props.visible);\n      } else {\n        setTimeout(() => setVisible(props.visible), 250);\n      }\n    }\n  }, [props.visible]);\n\n  useEffect(() => {\n    // if (visible) {\n    //   document.body.classList.add('oak-modal-open');\n    // } else {\n    //   document.body.classList.remove('oak-modal-open');\n    // }\n    document.addEventListener('keydown', escFunction, false);\n    return () => document.removeEventListener('keydown', escFunction, false);\n  }, [visible]);\n\n  const escFunction = event => {\n    if (event.keyCode === 27) {\n      if (visible) {\n        props.toggleVisibility();\n      }\n    }\n  };\n\n  const getmodalStyle = () => {\n    let style = '';\n    style += props.noheader ? ' noheader' : '';\n    style += props.fullscreen ? ' fullscreen' : '';\n    style += props.donotMobilize ? '' : ' mobilize';\n    return style;\n  };\n\n  return (\n    <>\n      {visible && (\n        <div\n          className={\n            props.visible\n              ? `modal-root show ${getmodalStyle()}`\n              : `modal-root hide ${getmodalStyle()}`\n          }\n        >\n          <div className=\"backdrop-fade\" onClick={props.toggleVisibility} />\n          <div className=\"oak-modal\">\n            {/* {visible && ( */}\n            <div className=\"modal\">\n              <div\n                className={props.visible ? 'container' : 'container hidetext'}\n              >\n                <div className=\"modal-header\">\n                  {/* <div className=\"container\" data-test=\"toggle-visibility\"> */}\n\n                  <div className=\"left\">\n                    <div className=\"icon\">\n                      {/* <i className=\"material-icons\">blur_on</i> */}N\n                    </div>\n                    <div className=\"label one-liner\">{props.label}</div>\n                  </div>\n                  <div className=\"right\">\n                    <div onClick={props.toggleVisibility}>\n                      <i className=\"material-icons modal-close-icon\">close</i>\n                      {/* <div className=\"text-esc\">esc</div> */}\n                    </div>\n                  </div>\n                  {/* </div> */}\n                </div>\n                {props.children}\n              </div>\n            </div>\n            {/* )} */}\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default OakModal;\n","import React from 'react';\nimport './styles/oak-prompt.scss';\nimport OakButton from './OakButton';\nimport OakModal from './OakModal';\n\ninterface Props {\n  visible: boolean;\n  toggleVisibility: any;\n  action: any;\n  text?: string;\n  children?: any;\n}\n\nconst OakPrompt = (props: Props) => {\n  // useEffect(() => {\n  //     document.addEventListener(\"keydown\", escFunction, false);\n  //     return () => document.removeEventListener(\"keydown\", escFunction, false);\n  // }, []);\n\n  // const escFunction = (event) => {\n  //     if(event.keyCode === 27) {\n  //       if (props.visible) {\n  //         props.toggleVisibility();\n  //       }\n  //     }\n  // }\n\n  const action = () => {\n    console.log('triggered action');\n    props.toggleVisibility();\n    console.log('before action');\n    props.action();\n    console.log('after action');\n  };\n\n  return (\n    <OakModal\n      visible={props.visible}\n      toggleVisibility={props.toggleVisibility}\n      noheader\n    >\n      <div className=\"modal-body typography-8 space-top-4 space-bottom-4 confirmation-text\">\n        {props.text ? props.text : 'Are you sure you want to continue?'}\n      </div>\n      <div className=\"modal-footer\">\n        {props.children && props.children}\n        {!props.children && (\n          <>\n            <OakButton\n              data-test=\"action-close\"\n              action={props.toggleVisibility}\n              theme=\"default\"\n              variant=\"appear\"\n              align=\"left\"\n              fa=\"fas fa-times\"\n            >\n              No\n            </OakButton>\n            <OakButton\n              data-test=\"action-proceed\"\n              action={action}\n              theme=\"primary\"\n              variant=\"disappear\"\n              align=\"right\"\n              fa=\"fas fa-check\"\n            >\n              Yes\n            </OakButton>\n          </>\n        )}\n      </div>\n    </OakModal>\n  );\n};\n\nexport default OakPrompt;\n","import React, { useState, useEffect } from 'react';\nimport gql from 'graphql-tag';\nimport OakButton from '../../../oakui/OakButton';\nimport CategoryTree from '../../Category/CategoryTree';\nimport { fetchArticle, deleteArticle } from '../ArticleService';\nimport OakPrompt from '../../../oakui/OakPrompt';\nimport { Article } from '../../../types/graphql';\n\nconst domain = 'Article';\n\ninterface Props {\n  id: string;\n  history?: any;\n  // tenant: any;\n  authorization: any;\n  location: any;\n  article: Article;\n  space: string;\n}\n\nconst ArticleItem = (props: Props) => {\n  const [confirmDelete, setConfirmDelete] = useState(false);\n\n  const editArticle = () => {\n    props.history.push(`/${props.space}/article/edit?id=${props.id}`);\n  };\n\n  const cancelCreation = () => {\n    props.history.goBack();\n  };\n\n  const deleteArticlePrompt = () => {\n    setConfirmDelete(true);\n  };\n  const deleteArticledata = async () => {\n    const { outcome } = await deleteArticle(\n      props.space,\n      props.id,\n      props.authorization\n    );\n\n    if (outcome) {\n      setConfirmDelete(false);\n    }\n  };\n\n  return (\n    <div className=\"create-article-item\">\n      <div className=\"action-header position-right\">\n        <OakButton\n          action={() => {\n            editArticle();\n          }}\n          theme=\"primary\"\n          variant=\"appear\"\n        >\n          <i className=\"material-icons\">double_arrow</i>Edit\n        </OakButton>\n\n        {props.history.length > 2 && (\n          <>\n            <OakButton\n              action={() => cancelCreation()}\n              theme=\"default\"\n              variant=\"appear\"\n            >\n              <i className=\"material-icons\">close</i>Close\n            </OakButton>\n          </>\n        )}\n        <OakButton\n          action={() => deleteArticlePrompt()}\n          theme=\"secondary\"\n          variant=\"block\"\n        >\n          <i className=\"material-icons\">delete</i>Delete\n        </OakButton>\n        {confirmDelete}\n        <OakPrompt\n          action={() => deleteArticledata()}\n          visible={confirmDelete}\n          toggleVisibility={() => setConfirmDelete(!confirmDelete)}\n        />\n      </div>\n      <CategoryTree id={props.id} pageid=\"leafNode\" />\n\n      <div className=\"typography-7\">{props.article.title}</div>\n      <div\n        className=\"typography-4\"\n        dangerouslySetInnerHTML={{ __html: props.article.description || '' }}\n      />\n      {/* {props.article.tags && (\n        <div className=\"typography-4\">{props.article.tags}</div>\n      )} */}\n    </div>\n  );\n};\n\nexport default ArticleItem;\n","import React, { useEffect, useState } from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport { useSelector } from 'react-redux';\nimport './style.scss';\nimport ArticleItem from './ArticleItem';\n\ninterface Props {\n  setProfile: Function;\n  profile: any;\n  match: any;\n  location: any;\n  history: any;\n  space: string;\n}\n\nconst queryString = require('query-string');\n\nconst GET_ARTICLE = gql`\n  query Article($id: ID!) {\n    article(id: $id) {\n      id\n      title\n      description\n    }\n  }\n`;\n\nconst ViewArticle = (props: Props) => {\n  const [urlParam, setUrlParam] = useState({\n    id: '',\n  });\n  const { loading, error, data } = useQuery(GET_ARTICLE, {\n    variables: { id: urlParam.id },\n  });\n  const authorization = useSelector(state => state.authorization);\n\n  useEffect(() => {\n    props.setProfile({\n      ...props.profile,\n      tenant: props.match.params.tenant,\n    });\n  }, []);\n\n  useEffect(() => {\n    setUrlParam(queryString.parse(props.location.search));\n  }, [props.location.search]);\n\n  return (\n    <div className=\"app-page\">\n      <div className=\"app-content\">\n        <div className=\"app-text\">\n          {!loading && !error && (\n            <ArticleItem\n              {...props}\n              authorization={authorization}\n              id={urlParam.id}\n              space={props.space}\n              article={data.article}\n            />\n          )}\n          {error && <div className=\"typography-6\">Article does not exist</div>}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ViewArticle;\n","import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport OakText from '../../../oakui/OakText';\nimport OakEditor from '../../../oakui/OakEditor';\nimport OakButton from '../../../oakui/OakButton';\nimport { isEmptyOrSpaces } from '../../Utils';\nimport { sendMessage, receiveMessage } from '../../../events/MessageService';\nimport { saveArticle, fetchArticle } from '../ArticleService';\nimport CategoryTree from '../../Category/CategoryTree';\n\nconst domain = 'article';\n\ninterface Props {\n  id: string;\n  categoryId: string;\n  history: any;\n  space: any;\n  authorization: any;\n}\nconst EditItem = (props: Props) => {\n  const authorization = useSelector(state => state.authorization);\n  const [data, setData] = useState({\n    title: '',\n    description: '',\n    tags: '',\n    categoryId: '',\n    _id: '',\n  });\n\n  useEffect(() => {\n    (async function anonymous() {\n      if (props.authorization.token && props.id) {\n        const { outcome, response } = await fetchArticle(\n          props.space,\n          props.id,\n          props.authorization\n        );\n\n        if (outcome) {\n          setData(response.data.data);\n        }\n      }\n    })();\n  }, [props.id, props.authorization]);\n\n  const handleChange = event => {\n    setData({\n      ...data,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const validateEmptyText = (text, message) => {\n    if (isEmptyOrSpaces(text)) {\n      sendMessage('notification', true, {\n        type: 'failure',\n        message,\n        duration: 5000,\n      });\n      return false;\n    }\n    return true;\n  };\n\n  const updateArticle = async () => {\n    if (\n      validateEmptyText(data.title, 'Title is not provided') &&\n      validateEmptyText(\n        data.description,\n        'Provide details for the mentioned title'\n      )\n    ) {\n      const { outcome } = await saveArticle(\n        props.space,\n        {\n          _id: data._id,\n          categoryId: data.categoryId,\n          title: data.title,\n          description: data.description,\n          tags: data.tags,\n        },\n        authorization\n      );\n\n      if (outcome) {\n        props.history.goBack();\n      }\n    }\n  };\n\n  const cancelCreation = () => {\n    props.history.goBack();\n  };\n\n  return (\n    <div className=\"create-article-item\">\n      <div className=\"action-header position-right\">\n        <OakButton\n          action={() => updateArticle()}\n          theme=\"primary\"\n          variant=\"appear\"\n        >\n          <i className=\"material-icons\">double_arrow</i>Save\n        </OakButton>\n        {props.history.length > 2 && (\n          <OakButton\n            action={() => cancelCreation()}\n            theme=\"default\"\n            variant=\"appear\"\n          >\n            <i className=\"material-icons\">close</i>Cancel\n          </OakButton>\n        )}\n      </div>\n      <div className=\"user-form\">\n        <CategoryTree id={props.categoryId} />\n        <OakText\n          label=\"Title\"\n          data={data}\n          id=\"title\"\n          handleChange={e => handleChange(e)}\n        />\n        <OakEditor\n          label=\"Description\"\n          data={data}\n          id=\"description\"\n          handleChange={handleChange}\n        />\n        <OakText\n          label=\"Tags (comma separated list)\"\n          data={data}\n          id=\"tags\"\n          handleChange={e => handleChange(e)}\n        />\n      </div>\n    </div>\n  );\n};\nexport default EditItem;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport './style.scss';\nimport EditItem from './EditItem';\n\ninterface Props {\n  setProfile: Function;\n  profile: any;\n  space: string;\n  match: any;\n  location: any;\n  history?: any;\n}\n\nconst queryString = require('query-string');\n\nconst EditArticle = (props: Props) => {\n  const authorization = useSelector(state => state.authorization);\n  const [urlParam, setUrlParam] = useState({\n    id: '',\n    categoryId: '',\n  });\n\n  useEffect(() => {\n    props.setProfile({\n      ...props.profile,\n      tenant: props.match.params.tenant,\n    });\n  }, []);\n\n  useEffect(() => {\n    setUrlParam(queryString.parse(props.location.search));\n  }, [props.location.search]);\n\n  return (\n    <div className=\"app-page\">\n      <div className=\"app-content\">\n        <div className=\"app-text\">\n          <EditItem\n            history={props.history}\n            id={urlParam.id}\n            categoryId={urlParam.categoryId}\n            space={props.space}\n            authorization={authorization}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EditArticle;\n","import React, { useEffect } from 'react';\nimport { useSelector, connect } from 'react-redux';\n\nimport { InMemoryCache } from 'apollo-boost';\nimport ApolloClient from 'apollo-client';\nimport { createHttpLink } from 'apollo-link-http';\nimport { setContext } from 'apollo-link-context';\nimport { ApolloProvider } from '@apollo/react-hooks';\nimport { Route } from 'react-router-dom';\nimport './style.scss';\nimport { HashRouter } from 'react-router-dom/cjs/react-router-dom.min';\nimport { withCookies } from 'react-cookie';\n\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport Home from '../Home';\nimport Login from '../Auth/Login';\nimport Landing from '../Landing';\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\nimport { getUser, addUser } from '../../actions/UserActions';\nimport { getProfile, setProfile } from '../../actions/ProfileActions';\n\nimport Notification from '../Notification';\nimport Navigation from '../Navigation';\nimport { httpGet } from '../Lib/RestTemplate';\nimport { Authorization } from '../Types/GeneralTypes';\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\nimport Tenant from '../Tenant';\nimport Settings from '../Settings';\nimport ArticleList from '../Article/ArticleList';\nimport ServiceRequests from '../Request';\nimport UserAdministration from '../UserAdministration';\nimport constants from '../Constants';\nimport OakRoute from '../Auth/OakRoute';\nimport Unauthorized from '../Auth/Unauthorized';\nimport CreateArticle from '../Article/CreateArticle';\nimport ViewArticle from '../Article/ViewArticle';\nimport EditArticle from '../Article/EditArticle';\n\nconst themes = {\n  themecolor1: getTheme('#69A7BF'),\n  themecolor2: getTheme('#99587B'),\n  themecolor3: getTheme('#A66C26'),\n  themecolor4: getTheme('#37AE82'),\n};\n\nfunction getTheme(color: string) {\n  return createMuiTheme({\n    palette: {\n      primary: {\n        main: color,\n      },\n      secondary: {\n        main: color,\n      },\n    },\n  });\n}\n\ninterface Props {\n  getProfile: Function;\n  setProfile: Function;\n  getAuth: Function;\n  addAuth: Function;\n  removeAuth: Function;\n  getUser: Function;\n  addUser: Function;\n  cookies: any;\n\n  // event: PropTypes.object,\n  profile: any;\n  authorization: Authorization;\n}\n\nconst Content = (props: Props) => {\n  const authorization = useSelector(state => state.authorization);\n\n  const httpLink = createHttpLink({\n    uri: process.env.REACT_APP_GRAPHQL_URL,\n  });\n\n  const authLink = setContext((_, { headers }) => {\n    return {\n      headers: {\n        ...headers,\n        authorization: authorization?.token || '',\n      },\n    };\n  });\n\n  const client = new ApolloClient({\n    link: authLink.concat(httpLink),\n    cache: new InMemoryCache(),\n  });\n\n  useEffect(() => {\n    props.getProfile();\n  }, []);\n\n  return (\n    <ApolloProvider client={client}>\n      <div\n        className={`App ${props.profile.theme} ${props.profile.textSize} ${props.profile.themeColor}`}\n      >\n        <HashRouter>\n          <div className=\"body\">\n            <div className=\"body-content\">\n              <Notification />\n              <MuiThemeProvider theme={themes.themecolor1}>\n                <Navigation {...props} />\n                <Route\n                  path=\"/login\"\n                  render={propsLocal => (\n                    <OakRoute {...propsLocal} {...props} component={Login} />\n                  )}\n                />\n                <Route\n                  path=\"/:tenant/unauthorized\"\n                  render={propsLocal => (\n                    <OakRoute\n                      {...propsLocal}\n                      {...props}\n                      component={Unauthorized}\n                      middleware={['isAuthenticated']}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/\"\n                  exact\n                  render={propsLocal => (\n                    <OakRoute {...propsLocal} {...props} component={Landing} />\n                  )}\n                />\n                <Route\n                  path=\"/home\"\n                  exact\n                  render={propsLocal => (\n                    <OakRoute {...propsLocal} {...props} component={Landing} />\n                  )}\n                />\n                <Route\n                  path=\"/tenant\"\n                  exact\n                  render={propsLocal => (\n                    <OakRoute {...propsLocal} {...props} component={Tenant} />\n                  )}\n                />\n                <Route\n                  path=\"/:tenant/home\"\n                  render={propsLocal => (\n                    <OakRoute\n                      {...propsLocal}\n                      {...props}\n                      component={Home}\n                      middleware={['readAuthentication']}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/:tenant/article\"\n                  exact\n                  render={propsLocal => (\n                    <OakRoute\n                      {...propsLocal}\n                      {...props}\n                      component={ArticleList}\n                      middleware={['authenticate']}\n                    />\n                  )}\n                />\n\n                <Route\n                  path=\"/:tenant/article/view\"\n                  exact\n                  render={propsLocal => (\n                    <OakRoute\n                      {...propsLocal}\n                      {...props}\n                      component={ViewArticle}\n                      middleware={['authenticate']}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/:tenant/article/create\"\n                  exact\n                  render={propsLocal => (\n                    <OakRoute\n                      {...propsLocal}\n                      {...props}\n                      component={CreateArticle}\n                      middleware={['authenticate']}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/:tenant/article/edit\"\n                  exact\n                  render={propsLocal => (\n                    <OakRoute\n                      {...propsLocal}\n                      {...props}\n                      component={EditArticle}\n                      middleware={['authenticate']}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/:tenant/settings\"\n                  exact\n                  render={propsLocal => (\n                    <OakRoute\n                      {...propsLocal}\n                      {...props}\n                      component={Settings}\n                      middleware={['authenticate']}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/:tenant/request\"\n                  exact\n                  render={propsLocal => (\n                    <OakRoute\n                      {...propsLocal}\n                      {...props}\n                      component={ServiceRequests}\n                      middleware={['authenticate']}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/:tenant/useradministration\"\n                  exact\n                  render={propsLocal => (\n                    <OakRoute\n                      {...propsLocal}\n                      {...props}\n                      component={UserAdministration}\n                      middleware={['authenticate', 'isAdmin']}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/:tenant\"\n                  exact\n                  render={propsLocal => (\n                    <OakRoute\n                      {...propsLocal}\n                      {...props}\n                      component={Home}\n                      middleware={['readAuthentication']}\n                    />\n                  )}\n                />\n              </MuiThemeProvider>\n            </div>\n          </div>\n        </HashRouter>\n      </div>\n    </ApolloProvider>\n  );\n};\n\nconst mapStateToProps = (state: any) => ({\n  user: state.user,\n  profile: state.profile, // ,\n  //   event: state.event\n});\n\nexport default connect(mapStateToProps, {\n  getProfile,\n  setProfile,\n  getUser,\n  addUser,\n})(withCookies(Content));\n","import React from 'react';\nimport cookie from 'react-cookie';\nimport { Provider } from 'react-redux';\nimport store from '../../store';\nimport './style.scss';\nimport './button-square-animated.scss';\nimport './metric.scss';\nimport Content from './Content';\n\nconst App = props => {\n  return (\n    <Provider store={store}>\n      <Content {...props} />\n    </Provider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { CookiesProvider } from 'react-cookie';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <CookiesProvider>\n    <App />\n  </CookiesProvider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/mirror_white.b852a14c.svg\";","module.exports = __webpack_public_path__ + \"static/media/mirror_black.14bccd72.svg\";"],"sourceRoot":""}