(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,a){e.exports=a.p+"static/media/cover.b89312c7.jpg"},114:function(e,t,a){e.exports=a.p+"static/media/mirror_white_small.7aed2e38.svg"},118:function(e,t,a){},127:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},183:function(e,t,a){e.exports=a(337)},188:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},220:function(e,t){},222:function(e,t){},258:function(e,t){},259:function(e,t){},326:function(e,t,a){},328:function(e,t,a){},329:function(e,t,a){},330:function(e,t,a){},331:function(e,t,a){},332:function(e,t,a){},333:function(e,t,a){},334:function(e,t,a){},335:function(e,t,a){},336:function(e,t,a){},337:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(15),s=a.n(i),o=(a(188),a(3)),l=a(4),c=a(6),u=a(5),m=a(7),p=a(30),h=a(49),d=a(167),g=a(12);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach(function(t){Object(g.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var v={isAuth:!1,firstname:"",lastname:""};function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach(function(t){Object(g.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var O={theme:"theme_light",tenant:""},w=Object(h.c)({authorization:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_AUTH":return console.log("GET_AUTH reducer"),b({},e);case"ADD_AUTH":return console.log("ADD_AUTH reducer"),b({},e,{},t.payload);case"REMOVE_AUTH":return console.log("REMOVE_AUTH reducer"),b({},e,{isAuth:!1,firstname:"",lastname:""});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROFILE":return console.log("GET_PROFILE reducer"),y({},e);case"SET_PROFILE":return console.log("SET_PROFILE reducer"),y({},e,{},t.payload);default:return e}}}),j=[d.a],P=Object(h.e)(w,{},Object(h.d)(h.a.apply(void 0,j))),N=(a(118),a(193),a(194),a(33)),k=a(25),C=(a(195),a(109)),S=a.n(C),D=(a(196),a(364)),A=a(171),_=new D.a(""),R=new A.a,T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e)))._isMounted=!1,a.onSubmit=function(e){e.preventDefault(),R.next(a.state.searchText)},a.handleChange=function(e){_.next(e.target.value)},a.state={searchText:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,_.subscribe(function(t){e._isMounted&&e.setState({searchText:t})})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return r.a.createElement("form",{method:"GET",onSubmit:this.onSubmit,noValidate:!0},r.a.createElement("div",{className:"search-bar"+(this.props.alt?" alt":"")},r.a.createElement("input",{name:"searchText",spellCheck:!1,autoComplete:"off",autoFocus:!0,placeholder:"Mirror, mirror, on the wall, who's the fairest of them all?",required:!0,value:this.state.searchText,onChange:this.handleChange}),r.a.createElement("button",{className:"icon"},r.a.createElement("i",null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}))))))}}]),t}(n.Component),q={API_URL_TENANT:"/tenant",API_URL_TENANT_BANNER:"/tenant/banner",API_URL_TENANT_CREATE:"/tenant/create",API_TENANT_URL:"/tenant/sendURL",API_URL_PRESIGNUP:"/auth/keys",API_URL_RESET:"/auth/reset",API_URL_CODE:"/auth/sendResetCode",API_URL_USER_DETAILS:"/user/details",API_URL_STAGE:"/stage",API_URL_PREDICT:"/model/predict",API_URL_ARTICLE:"/article",API_URL_CATEGORY:"/category",API_URL_FAQ:"/faq",API_URL_SR:"/servicerequests",API_URL:"/auth/",API_SIGNIN:"/signin",API_SIGNUP:"/signup",API_KEYS:"/keys",API_JWT:"/signin/jwt"},I=new A.a;function L(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0;I.next({name:e,signal:t,data:a})}function z(){return I.asObservable()}var F=a(74),U=a.n(F),M="https://mirror-service.herokuapp.com";function x(e,t){return U.a.get(M+e,t)}function W(e,t,a){return U.a.post(M+e,t,a)}function B(e,t,a){return U.a.put(M+e,t,a)}a(127);var V=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).escFunction=function(e){27===e.keyCode&&a.props.visible&&a.props.toggleVisibility()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.visible!==e.visible&&(e.visible?(L("dialog"),window.scrollTo(500,0)):L("dialog",!1))}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.escFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1)}},{key:"render",value:function(){return r.a.createElement("div",{className:this.props.small?"oak-dialog small":"oak-dialog"},r.a.createElement("div",{className:this.props.visible?"dialog show":"dialog hide"},r.a.createElement("div",{className:this.props.visible?"container":"container hidetext"},r.a.createElement("div",{className:"dialog-header",onClick:this.props.toggleVisibility},r.a.createElement("i",{className:"material-icons"},"close"),r.a.createElement("div",{className:"text-esc"},"esc")),this.props.children)))}}]),t}(n.Component),G=a(174),H=a(376);var Q=function(e){var t=e.id,a=e.label,n=e.handleChange,i=e.error,s=e.rows,o=e.multiline,l=e.data,c=e.type,u=Object(G.a)(e,["id","label","handleChange","error","rows","multiline","data","type"]);return r.a.createElement(H.a,Object.assign({id:t,label:a,name:t,value:l[t],onChange:function(e){return n(e)},margin:"normal",variant:"standard",fullWidth:!0,error:i,multiline:o,rows:s,type:c},u))};function Y(e){return null===e||null!==e.match(/^ *$/)}var J=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).escFunction=function(e){27===e.keyCode&&a.props.visible&&a.props.toggleVisibility()},a.action=function(){a.props.action(),a.props.toggleVisibility()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.escFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1)}},{key:"render",value:function(){return r.a.createElement(V,{small:!0,visible:this.props.visible,toggleVisibility:this.props.toggleVisibility},r.a.createElement("div",{className:"dialog-body typography-4 space-top-4 space-bottom-4"},this.props.text?this.props.text:"Are you sure you want to continue?"),r.a.createElement("div",{className:"dialog-footer"},this.props.children&&this.props.children,!this.props.children&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:this.props.toggleVisibility,className:"default animate in right align-left"},r.a.createElement("i",{className:"material-icons"},"close"),"No"),r.a.createElement("button",{onClick:this.action,className:"primary animate out right align-right"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Yes"))))}}]),t}(n.Component);function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(a,!0).forEach(function(t){Object(g.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var X=10,Z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).search=function(e){a.setState({searchTitle:e,requestId:void 0}),W("/deeplearning/"+a.props.match.params.tenant+q.API_URL_PREDICT,e,{headers:{Authorization:a.props.authorization.token}}).then(function(e){var t={};e.data.prediction.forEach(function(e){t[e.rank]=e.label}),x(q.API_URL_FAQ+"/"+a.props.match.params.tenant+"/category/"+t[e.data.prediction.length-1],{headers:{Authorization:a.props.authorization.token}}).then(function(e){a.setState({searchResults:e.data.data})})}).catch(function(){})},a.handleScroll=function(){var e=window.pageYOffset,t=e<X;a.state.showMainSearchBar!==t&&L("show-navbar-element",!t),a.setState({prevScrollpos:e,showMainSearchBar:t})},a.notHelpful=function(){console.log(a.props.authorization),a.props.authorization&&a.props.authorization.token?a.toggleEditDialog():a.toggleNotLoggedInPrompt()},a.toggleEditDialog=function(){a.setState({isCreateRequestDialogOpen:!a.state.isCreateRequestDialogOpen})},a.toggleNotLoggedInPrompt=function(){a.setState({isNotLoggedInPromptOpen:!a.state.isNotLoggedInPromptOpen})},a.redirectToLogin=function(){a.props.history.push("/"+a.props.match.params.tenant+"/login")},a.handleChange=function(e){a.setState(K({},a.state,Object(g.a)({},e.target.name,e.target.value)))},a.addRequest=function(){Object(k.a)(a);var e={title:a.state.searchTitle,description:a.state.searchDescription};Y(e.title)?L("notification",!0,{type:"failure",message:"Title is missing",duration:5e3}):Y(e.description)?L("notification",!0,{type:"failure",message:"Description is missing",duration:5e3}):B(q.API_URL_SR+"/"+a.props.match.params.tenant+"/",e,{headers:{Authorization:a.props.authorization.token}}).then(function(e){200===e.status&&(L("notification",!0,{type:"success",message:"Request created ["+e.data._id+"]",duration:1e4}),a.toggleEditDialog(),a.setState({requestId:e.data._id}))})},a.state={banner:null,prevScrollpos:window.pageYOffset,showMainSearchBar:!0,searchTitle:"",searchDescription:"",isCreateRequestDialogOpen:!1,isNotLoggedInPromptOpen:!1,searchResults:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",this.handleScroll),this.props.setProfile(K({},this.props.profile,{tenant:this.props.match.params.tenant})),R.subscribe(function(t){return e.search(t)})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll),L("show-navbar-element",!1),_.next("")}},{key:"componentWillReceiveProps",value:function(e){var t,a,n=this;e.authorization&&(t=this.props.match.params.tenant,a={headers:{Authorization:e.authorization.token}},x(q.API_URL_TENANT_BANNER+"/"+t,a).then(function(e){return Promise.resolve(e)})).then(function(e){200===e.status&&e.data?n.setState({banner:"data:image/jpeg;base64,"+e.data}):n.setState({banner:S.a})}).catch(function(){n.setState({banner:S.a})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"home full"},r.a.createElement(V,{visible:this.state.isCreateRequestDialogOpen,toggleVisibility:this.toggleEditDialog},r.a.createElement("div",{className:"dialog-body"},r.a.createElement(Q,{label:"Title",data:this.state,id:"searchTitle",handleChange:function(t){return e.handleChange(t)}}),r.a.createElement(Q,{label:"Description",data:this.state,id:"searchDescription",handleChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"dialog-footer"},r.a.createElement("button",{onClick:this.toggleEditDialog,className:"default animate in right align-left"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"),r.a.createElement("button",{onClick:this.addRequest,className:"primary animate out right align-right"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Create Service Request"))),r.a.createElement(J,{action:this.redirectToLogin,visible:this.state.isNotLoggedInPromptOpen,toggleVisibility:this.toggleNotLoggedInPrompt,text:"You are not logged in. Do you want to login to submit a service request?"}),r.a.createElement("div",{className:"cover"},r.a.createElement("img",{src:this.state.banner,alt:"Red dot"})),this.state.showMainSearchBar&&r.a.createElement(T,null),r.a.createElement("div",{className:"search-results"},r.a.createElement("div",{className:"action-bar"},r.a.createElement("button",{className:"primary animate in right align-left"},"Helpful"),r.a.createElement("button",{className:"primary animate in right align-right",onClick:this.notHelpful},"Not Helpful")),this.state.searchResults&&this.state.searchResults.map(function(e){return r.a.createElement("div",{key:e.question,className:"result-record"},r.a.createElement("div",{className:"question typography-4 space-bottom-2"},e.question),r.a.createElement("div",{className:"answer typography-5"},e.answer))}),this.state.requestId&&r.a.createElement("div",{className:"request-created"},r.a.createElement("div",{className:"request-icon"},r.a.createElement("i",{className:"material-icons"},"file_copy")),r.a.createElement("div",{className:"request-id typography-4"},this.state.requestId),r.a.createElement("div",{className:"request-message typography-5"},"Your request has been created and an email has been sent to your inbox with details"))))}}]),t}(r.a.Component),ee=a(170),te=function(){return function(e){e({type:"GET_AUTH"})}},ae=function(e){return function(t){t({type:"ADD_AUTH",payload:e})}},ne=function(){return function(e){e({type:"REMOVE_AUTH"})}},re=a(37);a(213),a(214);var ie=function(e){return r.a.createElement("div",{className:"oak-text-field"},r.a.createElement("label",null,e.label),r.a.createElement("input",{disabled:e.disabled,autoComplete:"off",className:(e.errorFields&&e.errorFields[e.id]?"error":"")+(e.disabled?" disabled":""),type:e.type?e.type:"text",name:e.id,value:e.data[e.id],onChange:e.handleChange}))},se=a(110),oe=a.n(se),le=a(111),ce=a.n(le);function ue(e){return x(q.API_URL+e.name+q.API_KEYS,null).then(function(e){return Promise.resolve(e)})}function me(e,t){try{var a=(n=e.password,r=JSON.stringify(t),oe.a.decrypt(n,r));return W(q.API_URL+e.name+q.API_SIGNIN,{email:e.email,solution:a},null).then(function(e){return Promise.resolve(e)})}catch(i){return"ccm: tag doesn't match"===i.message?Promise.resolve({status:401}):Promise.resolve(i)}var n,r}function pe(e,t,a){var n={cipher:"aes",iter:"12000",ks:256,salt:ce.a.enc.Base64.stringify(ce.a.enc.Utf8.parse(a))};return oe.a.encrypt(e,t,n)}function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function de(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(a,!0).forEach(function(t){Object(g.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ge=a(324),fe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).loginViaJwt=function(e){var t;(t={tenantName:a.props.match.params.tenant,jwt:e},W(q.API_URL+t.tenantName+q.API_JWT,{jwtToken:t.jwt},null).then(function(e){return Promise.resolve(e)})).then(function(e){200===e.status?(L("notification",!0,{message:"Signed In successfully",type:"success",duration:3e3}),a.success(e.data)):500===e.status?L("notification",!0,{message:"Signature verification failed",type:"failure",duration:3e3}):L("notification",!0,{message:"Unknown response from server. Please try again or at a later time",type:"failure",duration:3e3})}).catch(function(e){L("notification",!0,{type:"failure",message:"Unknown error. Please try again or at a later time",duration:3e3})})},a.login=function(e){var t;e.preventDefault(),L("notification",!1),L("spinner"),a.state.email&&a.state.password?(t={name:a.props.profile.tenant,email:a.state.email},x(q.API_URL+t.name+q.API_KEYS+"/"+t.email,null).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.resolve(e.response)})).then(function(e){200===e.status?me({name:a.props.profile.tenant,email:a.state.email,password:a.state.password},e.data).then(function(e){200===e.status?(L("notification",!0,{message:"Signed In successfully",type:"success",duration:3e3}),a.success(e.data)):401===e.status?L("notification",!0,{message:"Incorrect passphrase",type:"failure",duration:3e3}):L("notification",!0,{message:"Unknown response from server. Please try again or at a later time",type:"failure",duration:3e3})}).catch(function(e){L("notification",!0,{type:"failure",message:"Unknown error. Please try again or at a later time",duration:3e3})}):404===e.status&&L("notification",!0,{message:"User name does not exist",type:"failure",duration:3e3})}):L("notification",!0,{type:"failure",message:"Username/password cannot be empty",duration:3e3})},a.signup=function(e){e.preventDefault();var t=Object(k.a)(a);if(L("notification",!1),L("spinner"),a.state.name&&a.state.password&&a.state.email){if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(a.state.email))return void L("notification",!0,{type:"failure",message:"Email ID is invalid",duration:3e3});ue({name:t.props.profile.tenant}).then(function(e){var a;200===e.status&&(a={tenantName:t.props.profile.tenant,email:t.state.email,password:t.state.password,solution:e.data.solution,salt:e.data.salt},W(q.API_URL+a.tenantName+q.API_SIGNUP,{email:a.email,problem:pe(a.password,a.solution,a.salt),solution:a.solution},null).then(function(e){return Promise.resolve(e.status)})).then(function(e){200===e&&(L("notification",!0,{type:"success",message:"Your account has been created. You can login now",duration:3e3}),t.setState({email:"",password:""}),t.toggle())}).catch(function(e){L("notification",!0,{type:"failure",message:"Unknown error. Please try again or at a later time",duration:3e3})})})}else a.state.name?a.state.email?a.state.password||L("notification",!0,{type:"failure",message:"Password cannot be empty",duration:3e3}):L("notification",!0,{type:"failure",message:"Email cannot be empty",duration:3e3}):L("notification",!0,{type:"failure",message:"Name cannot be empty",duration:3e3})},a.logout=function(){a.props.removeAuth(),a.props.cookies.remove("isAuth")},a.success=function(e){a.props.addAuth({isAuth:!0,token:e.token,secret:e.secret,name:e.name}),L("loggedin",!0),console.log(e),a.props.cookies.set("isAuth",!0),a.props.cookies.set("token",e.token),a.props.cookies.set("secret",e.secret),a.props.cookies.set("name",e.name),a.props.cookies.set("email",e.email),a.props.history.push("/")},a.toggle=function(){a.setState({newuser:!a.state.newuser})},a.handleChange=function(e){a.setState(de({},a.state,Object(g.a)({},e.currentTarget.name,e.currentTarget.value)))},a.sentEmailWithCode=function(){Y(a.state.email)?L("notification",!0,{message:"Email cannot be empty",type:"failure",duration:5e3}):a.sentPasswordChangeEmail("password")},a.sentPasswordChangeEmail=function(e){var t,n=1+99*Math.random();(t={email:a.state.email,resetCode:n},W(q.API_URL_CODE,t,null).then(function(e){return Promise.resolve(e.status)})).then(function(t){200===t?"password"===e&&L("notification",!0,{message:"Password sent successfully",type:"success",duration:3e3}):L("notification",!0,{type:"failure",message:"Invalid Email error",duration:3e3})}).catch(function(e){L("notification",!0,{type:"failure",message:"Bad request",duration:3e3})})},a.state={newuser:!1,name:"",email:"",password:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(this.props.location.search){var e=ge.parse(this.props.location.search);e&&"signup"===e.type&&this.setState({newuser:!0}),e&&e.jwt&&this.loginViaJwt(e.jwt)}this.props.setProfile(de({},this.props.profile,{tenant:this.props.match.params.tenant}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"login"},!this.state.newuser&&r.a.createElement("div",{className:"container"},r.a.createElement("form",{method:"GET",onSubmit:this.login,noValidate:!0},r.a.createElement("div",{className:"form"},r.a.createElement(ie,{label:"E-mail",id:"email",data:this.state,handleChange:function(t){return e.handleChange(t)}}),r.a.createElement(ie,{label:"Password",type:"password",id:"password",data:this.state,handleChange:function(t){return e.handleChange(t)}})),r.a.createElement("br",null),r.a.createElement("button",{className:"primary animate out right",onClick:this.login},"Sign In"),r.a.createElement("br",null)," ",r.a.createElement("br",null),"Don't have an account? ",r.a.createElement("button",{className:"default animate right small",onClick:this.toggle},"Sign Up")),r.a.createElement("br",null),r.a.createElement("button",{className:"default animate right small",onClick:this.sentEmailWithCode},"Forgot password ?")),this.state.newuser&&r.a.createElement("div",{className:"container"},r.a.createElement("form",{method:"GET",onSubmit:this.signup,noValidate:!0},r.a.createElement("h1",null,"Sign Up"),r.a.createElement("div",{className:"form"},r.a.createElement(ie,{label:"Name",id:"name",data:this.state,handleChange:function(t){return e.handleChange(t)}}),r.a.createElement(ie,{label:"E-mail",id:"email",data:this.state,handleChange:function(t){return e.handleChange(t)}}),r.a.createElement(ie,{label:"Password",type:"password",id:"password",data:this.state,handleChange:function(t){return e.handleChange(t)}}),r.a.createElement(ie,{label:"Repeat Password",type:"password",id:"repeatpassword",data:this.state,handleChange:function(t){return e.handleChange(t)}})),r.a.createElement("br",null),r.a.createElement("button",{className:"primary block",onClick:this.signup},"Create Account"),r.a.createElement("br",null)," ",r.a.createElement("br",null),"Already have an account? ",r.a.createElement("button",{className:"secondary block",onClick:this.toggle},"Sign In")))))}}]),t}(n.Component),be=Object(p.b)(function(e){return{authorization:e.authorization}},{getAuth:te,addAuth:ae,removeAuth:ne})(Object(re.b)(fe)),ve=(a(326),a(42)),Ee=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"landing"},r.a.createElement("div",{className:"space-bottom-4"},r.a.createElement("h3",null,"Mirror rorriM"),r.a.createElement("p",null,r.a.createElement("em",null,r.a.createElement("b",null,"Queen"))," Magic Mirror on the wall, who now is the fairest one of all?"),r.a.createElement("p",null,r.a.createElement("em",null,r.a.createElement("b",null,"Magic Mirror"))," Over the seven jewelled hills, beyond the seventh fall, in the cottage of the seven dwarfs, dwells Snow White, fairest one of all."),r.a.createElement("p",null,r.a.createElement("em",null,r.a.createElement("b",null,"Queen"))," Snow White lies dead in the forest.  The huntsman has brought me proof. [holds up her opened box] Behold, her heart."),r.a.createElement("p",null,r.a.createElement("em",null,r.a.createElement("b",null,"Magic Mirror"))," Snow White still lives, the fairest in the land. 'Tis the heart of a pig you hold in your hand."),r.a.createElement("p",null,r.a.createElement("em",null,r.a.createElement("b",null,"Queen"))," [repulsed] The heart of a pig?! Then I've been tricked!")),r.a.createElement("div",{className:"action"},r.a.createElement(ve.a,{to:"/tenant",className:"navitem",activeClassName:"active"},r.a.createElement("button",{className:"primary animate out right"},"Create Tenant"))))}}]),t}(r.a.Component),ye=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){console.log(this.props),this.props.getAuth()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.authorization.isAuth&&r.a.createElement(N.Route,{path:this.props.path,render:this.props.render}))}}]),t}(n.Component),Oe=Object(p.b)(function(e){return{authorization:e.authorization}},{getAuth:te})(ye),we=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){!this.props.authorization.isAuth&&this.props.cookies.get("isAuth")&&this.props.addAuth({isAuth:!0,token:this.props.cookies.get("token"),secret:this.props.cookies.get("secret"),name:this.props.cookies.get("name")}),this.props.getAuth()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null)}}]),t}(n.Component),je=Object(p.b)(function(e){return{authorization:e.authorization}},{getAuth:te,addAuth:ae,removeAuth:ne})(Object(re.b)(we)),Pe=function(){return function(e){e({type:"GET_PROFILE"})}},Ne=function(e){return function(t){t({type:"SET_PROFILE",payload:e})}},ke=a(172),Ce=a(371),Se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={backdrop:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){z().subscribe(function(e){e.name})}},{key:"render",value:function(){return r.a.createElement("div",{className:this.state.backdrop})}}]),t}(n.Component),De=(a(328),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={spinner:!1,notification:null,lastNotificationType:void 0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;z().subscribe(function(t){"notification"===t.name&&(t.signal?(e.setState({notification:t.data,lastNotificationType:t.data.type,spinner:!1}),t.data&&t.data.duration&&setTimeout(function(){L("notification",!1)},t.data.duration)):e.setState({notification:null})),"spinner"===t.name&&e.setState({spinner:t.signal})})}},{key:"processNextProps",value:function(e){e.event&&"spinner"===e.event.name&&this.setState({spinner:e.event.signal}),e.event&&"notification"===e.event.name&&(e.event.signal?(this.setState({notification:e.event.data,lastNotificationType:e.event.data.type,spinner:!1}),e.event.data.duration&&setTimeout(function(){},e.event.data.duration)):this.setState({notification:null}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"notification "+(this.state.notification?" show "+this.state.notification.type:" hide "+this.state.lastNotificationType)},r.a.createElement("div",{className:"message"},this.state.notification?this.state.notification.message:"")),this.state.spinner&&r.a.createElement("div",{className:"lds-dual-ring"}))}}]),t}(n.Component)),Ae=(a(83),a(67)),_e=a.n(Ae),Re=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).toggleMenu=function(){a.setState({menu:!a.state.menu})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"links"},this.props.authorization.isAuth&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a,{to:"/"+this.props.profile.tenant+"/home",className:"navitem",activeClassName:"active"},"Home"),r.a.createElement(ve.a,{to:"/"+this.props.profile.tenant+"/faq",className:"navitem",activeClassName:"active"},"FAQ"),r.a.createElement(ve.a,{to:"/"+this.props.profile.tenant+"/servicerequests",className:"navitem",activeClassName:"active"},"ServiceRequests"),r.a.createElement(ve.a,{to:"/"+this.props.profile.tenant+"/settings",className:"navitem",activeClassName:"active"},"Settings")))}}]),t}(n.Component),Te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).signin=function(e){a.props.login(e)},a.props.getProfile(),a.state={showSearchBar:!1,showSettings:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;z().subscribe(function(t){"show-navbar-element"===t.name&&e.setState({showSearchBar:t.signal})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.props.transparent?"navbar desktop transparent":"navbar desktop"},r.a.createElement("div",{className:"left"},!this.props.transparent&&"theme_light"===this.props.profile.theme&&r.a.createElement("img",{className:"logo",src:_e.a,alt:"Curate logo"}),(this.props.transparent||"theme_dark"===this.props.profile.theme)&&r.a.createElement("img",{className:"logo",src:_e.a,alt:"Curate logo"}),r.a.createElement(Re,{authorization:this.props.authorization,profile:this.props.profile}),this.state.showSearchBar&&r.a.createElement(T,{alt:!0})),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"action"},this.props.authorization.isAuth&&r.a.createElement("button",{className:"primary animate in alt right align-left small",onClick:this.props.toggleSettings},r.a.createElement("i",{className:"material-icons"},"brush"),"Action 1"),this.props.authorization.isAuth&&r.a.createElement("button",{className:"primary animate out alt right align-right small",onClick:this.props.logout()},r.a.createElement("i",{className:"material-icons"},"power_settings_new"),"Logout"),!this.props.authorization.isAuth&&r.a.createElement("button",{className:"primary animate in alt right align-left small",onClick:function(){return e.signin("signin")}},r.a.createElement("i",{className:"material-icons"},"person"),"Login"),!this.props.authorization.isAuth&&r.a.createElement("button",{className:"primary animate in alt right align-right small",onClick:function(){return e.signin("signup")}},r.a.createElement("i",{className:"material-icons"},"person_add"),"Signup"))))}}]),t}(n.Component),qe=a(114),Ie=a.n(qe),Le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).toggleMenu=function(){a.setState({menu:!a.state.menu})},a.signin=function(e){a.props.login(e)},a.props.getProfile(),a.state={showSearchBar:!1,menu:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;z().subscribe(function(t){"show-navbar-element"===t.name&&e.setState({showSearchBar:t.signal})})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:this.props.transparent?"navbar mobile transparent":"navbar mobile"},r.a.createElement("div",{className:"left"},!this.state.showSearchBar&&!this.props.transparent&&"theme_light"===this.props.profile.theme&&r.a.createElement("img",{className:"logo",src:_e.a,alt:"Mirror logo"}),!this.state.showSearchBar&&(this.props.transparent||"theme_dark"===this.props.profile.theme)&&r.a.createElement("img",{className:"logo",src:_e.a,alt:"Mirror logo"}),this.state.showSearchBar&&!this.props.transparent&&"theme_light"===this.props.profile.theme&&r.a.createElement("img",{className:"logo",src:Ie.a,alt:"Mirror logo"}),this.state.showSearchBar&&(this.props.transparent||"theme_dark"===this.props.profile.theme)&&r.a.createElement("img",{className:"logo",src:Ie.a,alt:"Mirror logo"}),this.state.showSearchBar&&r.a.createElement(T,{alt:!0})),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:this.state.menu?"menu active":"menu",onClick:this.toggleMenu},r.a.createElement("div",null)))),r.a.createElement("div",{className:this.state.menu?"slider show":"slider hide",onClick:this.toggleMenu},r.a.createElement("div",{className:this.state.menu?"container":"container hidetext",onClick:this.toggleMenu},r.a.createElement("div",{className:"action"},r.a.createElement("div",{className:"settings-icon",onClick:this.props.toggleSettings},this.props.authorization.isAuth&&r.a.createElement("button",{className:"invert animate alt small",onClick:this.props.toggleSettings},r.a.createElement("i",{className:"material-icons"},"brush"),"Action 1")),r.a.createElement("div",{className:"buttons"},this.props.authorization.isAuth&&r.a.createElement("button",{className:"invert animate alt small",onClick:this.props.logout()},r.a.createElement("i",{className:"material-icons"},"power_settings_new"),"Logout"),!this.props.authorization.isAuth&&r.a.createElement("button",{className:"invert animate alt small left",onClick:function(){return e.signin("signin")}},r.a.createElement("i",{className:"material-icons"},"person"),"Login"),!this.props.authorization.isAuth&&r.a.createElement("button",{className:"invert animate alt small right",onClick:function(){return e.signin("signup")}},r.a.createElement("i",{className:"material-icons"},"person_add"),"Signup"))),r.a.createElement(Re,{authorization:this.props.authorization,profile:this.props.profile}))))}}]),t}(n.Component);function ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ze(a,!0).forEach(function(t){Object(g.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ze(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ue=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).toggleDarkMode=function(){"theme_dark"===a.props.profile.theme?a.props.setProfile(Fe({},a.props.profile,{theme:"theme_light"})):a.props.setProfile(Fe({},a.props.profile,{theme:"theme_dark"}))},a.changeTextSize=function(e){a.props.setProfile(Fe({},a.props.profile,{textSize:e}))},a.changeThemeColor=function(e){a.props.setProfile(Fe({},a.props.profile,{themeColor:e}))},a.login=function(e){a.props.history.push("/"+a.props.profile.tenant+"/login?type="+e)},a.toggleSettings=function(){a.setState({showSettings:!a.state.showSettings})},a.props.getProfile(),a.state={visible:!1,mobilemenu:"hide",chooseTheme:!1,showSettings:!1,transparentNavBar:!1,firstLoad:!0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;z().subscribe(function(t){"navbar-transparency"===t.name&&e.setState({transparentNavBar:t.signal}),"loggedin"===t.name&&e.setState({firstLoad:!1})})}},{key:"componentWillReceiveProps",value:function(e){this.state.firstLoad&&e.authorization&&e.authorization.isAuth&&this.setState({firstLoad:!1})}},{key:"render",value:function(){return r.a.createElement("div",{className:"nav"},r.a.createElement(Te,Object.assign({},this.props,{logout:this.props.logout,login:this.login,toggleSettings:this.toggleSettings,transparent:this.state.transparentNavBar})),r.a.createElement(Le,Object.assign({},this.props,{logout:this.props.logout,login:this.login,toggleSettings:this.toggleSettings,transparent:this.state.transparentNavBar})))}}]),t}(n.Component),Me=Object(p.b)(function(e){return{profile:e.profile}},{getProfile:Pe,setProfile:Ne})(Object(re.b)(Object(N.withRouter)(Ue)));a(329);function xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function We(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xe(a,!0).forEach(function(t){Object(g.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xe(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Be=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t;a.setState(We({},a.state,(t={},Object(g.a)(t,e.currentTarget.name,e.currentTarget.value),Object(g.a)(t,"errorFields",We({},a.state.errorFields,Object(g.a)({},e.currentTarget.name,!1))),t)))},a.sentTenantUrl=function(){var e;(e={name:a.state.name},W(q.API_TENANT_URL,e,null).then(function(e){return Promise.resolve(e.status)})).then(function(e){L("notification",!0,200===e?{message:"Password sent successfully",type:"success",duration:3e3}:{type:"failure",message:"Invalid Email error",duration:3e3})}).catch(function(e){L("notification",!0,{type:"failure",message:"Bad request",duration:3e3})})},a.submit=function(e){e.preventDefault(),L("spinner");var t=Object(k.a)(a);a.clearError(),a.validate()&&ue({name:t.state.name}).then(function(e){200===e.status&&a.createTenant(e.data)})},a.handleImageChange=function(e){a.setState({banner:e.target.files[0]})},a.createTenant=function(e){(function(e){var t=new FormData;return t.append("tenantName",e.tenantName),t.append("email",e.email),t.append("jwtPassword",e.jwtPassword),t.append("problem",pe(e.password,e.solution,e.salt)),t.append("solution",e.solution),e.banner&&t.append("banner",e.banner,"banner.jpg"),W(q.API_URL_TENANT_CREATE,t,{"Content-Type":"multipart/form-data"}).then(function(e){return Promise.resolve(e)})})({tenantName:a.state.name,email:a.state.email,password:a.state.password,jwtPassword:a.state.jwtPassword,solution:e.solution,salt:e.salt,banner:a.state.banner}).then(function(e){200===e.status?(L("notification",!0,{type:"success",message:"Tenant has been created. You can proceed now",duration:3e3}),a.setState({pageNo:a.state.pageNo+1,created:!0})):L("notification",!0,{message:"We are facing some problem, please try after sometime",duration:3e3})}).catch(function(e){L("notification",!0,{type:"failure",message:"Unknown error. Please try again or at a later time",duration:3e3})})},a.gotoTenantPage=function(){a.props.history.push("/"+a.state.name+"/home")},a.props.getProfile(),a.state={name:"",email:"",password:"",repeatPassword:"",jwtPassword:"",banner:null,pageNo:1,created:!1,errorFields:{name:!1,email:!1,password:!1,repeatPassword:!1,jwtPassword:!1}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"clearError",value:function(){this.setState({errorFields:{name:!1,email:!1,password:!1,repeatPassword:!1,jwtPassword:!1}})}},{key:"setError",value:function(e){this.setState({errorFields:We({},this.state.errorFields,Object(g.a)({},e,!0))})}},{key:"validate",value:function(){return Y(this.state.name)?(this.setError("name"),L("notification",!0,{type:"failure",message:"Tenant name cannot be empty",duration:3e3}),!1):/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(this.state.email)?Y(this.state.password)?(this.setError("password"),L("notification",!0,{type:"failure",message:"Password cannot be empty",duration:3e3}),!1):this.state.password===this.state.repeatPassword||(this.setError("repeatPassword"),L("notification",!0,{type:"failure",message:"Password and repeat password should be same",duration:3e3}),!1):(this.setError("email"),L("notification",!0,{type:"failure",message:"Email ID is invalid",duration:3e3}),!1)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"tenant boxed"},!this.state.created&&r.a.createElement("div",{className:"typography-3 space-bottom-4"},"Tenant creation"),this.state.created&&r.a.createElement("div",{className:"typography-3 space-bottom-4"},"Tenant [",this.state.name,"] available now"),1===this.state.pageNo&&r.a.createElement("div",{className:"form"},r.a.createElement(ie,{id:"name",data:this.state,label:"Tenant Name",handleChange:function(t){return e.handleChange(t)},errorFields:this.state.errorFields}),r.a.createElement(ie,{id:"email",data:this.state,label:"Administrator Email",handleChange:function(t){return e.handleChange(t)},errorFields:this.state.errorFields}),r.a.createElement(ie,{id:"password",type:"password",data:this.state,label:"Administrator Password",handleChange:function(t){return e.handleChange(t)},errorFields:this.state.errorFields}),r.a.createElement(ie,{id:"repeatPassword",type:"password",data:this.state,label:"Repeat Password",handleChange:function(t){return e.handleChange(t)},errorFields:this.state.errorFields}),r.a.createElement(ie,{id:"jwtPassword",type:"password",data:this.state,label:"JWT Password",handleChange:function(t){return e.handleChange(t)},errorFields:this.state.errorFields}),r.a.createElement("label",{className:"file-upload space-top-1 space-bottom-4"},r.a.createElement("input",{type:"file",accept:"image/png, image/jpeg",onChange:this.handleImageChange,required:!0}),r.a.createElement("i",{className:"material-icons"},"add_photo_alternate"),!this.state.banner&&"Choose Banner/Cover Image",this.state.banner&&this.state.banner.name),r.a.createElement("div",{className:"action"},r.a.createElement("button",{className:"primary animate in right",onClick:this.submit},"Create Tenant"))),this.state.created&&r.a.createElement("button",{className:"primary animate out right",onClick:this.gotoTenantPage},"Take me to my tenant"))}}]),t}(r.a.Component),Ve=(a(330),a(331),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e)))._isMounted=!1,a.viewPort=window.matchMedia("(max-width: 767px)"),a.viewPortChange=function(e){a.setState({mobileViewPort:e.matches})},a.toggleSideView=function(){L("sidebar",!a.state.showSide)},a.state={views:a.props.children,showSide:!1,mobileViewPort:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.initializeViews()}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.viewPortChange(this.viewPort),this.viewPort.addListener(this.viewPortChange),z().subscribe(function(t){e._isMounted&&"sidebar"===t.name&&e.setState({showSide:t.signal})})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"initializeViews",value:function(){var e=this;r.a.Children.toArray(this.state.views).forEach(function(t){t.props.main?e.setState({main:t}):t.props.side&&e.setState({side:t})})}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.children&&this.setState({views:e.children},function(){t.initializeViews()})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,!this.state.mobileViewPort&&r.a.createElement("div",{className:"view-desktop"},this.state.side&&r.a.createElement("div",{className:"view-side"},this.state.side),r.a.createElement("div",{className:"view-content"+(this.state.side?" side-present":"")},this.state.main)),this.state.mobileViewPort&&r.a.createElement("div",{className:"view-mobile"},r.a.createElement("div",{className:this.state.showSide?"slider show":"slider hide"},r.a.createElement("div",{className:"topbar",onClick:this.toggleSideView},r.a.createElement("div",null,r.a.createElement("button",{className:"default block alt noborder",onClick:this.toggleSideView},!this.state.showSide&&r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"material-icons"},"expand_more"),this.props.sideLabel?this.props.sideLabel.toUpperCase():"MENU"),this.state.showSide&&r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"material-icons"},"expand_less"),"COLLAPSE")))),r.a.createElement("div",{className:"view-side"},this.state.showSide&&this.state.side)),!this.state.showSide&&r.a.createElement("div",{className:"view-main"},this.state.main)))}}]),t}(n.Component)),Ge=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.children)}}]),t}(n.Component),He=(a(332),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e)))._isMounted=!1,a.toggle=function(){a.setState({show:!a.state.show},function(){return L("sidebarExpanded",a.state.show,{label:a.props.label})})},a.hide=function(){a.setState({show:!1})},a.state={show:!!a.props.show,elements:a.props.elements?a.props.elements:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,z().subscribe(function(t){e._isMounted&&"sidebarExpanded"===t.name&&t.signal&&t.data&&t.data.label!==e.props.label&&e.setState({show:!1})})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state.elements.map(function(e){return r.a.createElement("div",{key:e.label,className:"element",onClick:e.action},r.a.createElement("i",{className:"material-icons"},e.icon),r.a.createElement("div",{className:"label-text"},e.label))});return r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:this.state.show?"header active":"header",onClick:this.toggle},r.a.createElement("div",{className:"label"},r.a.createElement("div",{className:"label-text"},this.props.label,void 0!==this.props.number&&r.a.createElement("div",{className:"number"},this.props.number))),r.a.createElement("div",{className:"aria"},r.a.createElement("i",{className:this.state.show?"material-icons collapse":"material-icons"},"keyboard_arrow_left"))),r.a.createElement("div",{className:this.state.show?"content show "+(this.props.animate?"animate":"static"):"content hide "+(this.props.animate?"animate":"static")},e,this.props.children))}}]),t}(n.Component)),Qe=a(173);a(333);function Ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var Je=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleAddStage=function(){a.setState({stage:a.state.stage.concat([{name:""}])})},a.handleChangeStage=function(e,t){var n=Object(Qe.a)(a.state.stage);n[t]=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ye(a,!0).forEach(function(t){Object(g.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ye(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},n[t],{name:e.target.value}),a.setState({stage:n})},a.handleRemoveStage=function(e){return function(){a.setState({stage:a.state.stage.filter(function(t,a){return e!==a})})}},a.saveStages=function(){return B(q.API_URL_STAGE+"/"+a.props.match.params.tenant+"/",a.state.stage,{headers:{Authorization:a.props.authorization.token}}).then(function(e){200===e.status?L("notification",!0,{message:"Stages Updated successfully",type:"success",duration:3e3}):500===e.status?L("notification",!0,{message:"Stages Updation failed",type:"failure",duration:3e3}):L("notification",!0,{message:"Unknown response from server. Please try again or at a later time",type:"failure",duration:3e3})})},a.resetStages=function(){x(q.API_URL_STAGE+"/"+a.props.match.params.tenant+"/",{headers:{Authorization:a.props.authorization.token}}).then(function(e){a.setState({stage:e.data})}).catch(function(){})},a.state={stage:[{name:""}]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;x(q.API_URL_STAGE+"/"+this.props.match.params.tenant+"/",{headers:{Authorization:this.props.authorization.token}}).then(function(t){e.setState({stage:t.data.stage})}).catch(function(){})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"form"},r.a.createElement("button",{className:"secondary animate out right align-left",onClick:this.handleAddStage},r.a.createElement("i",{className:"material-icons"},"label_important"),"New Stage"),r.a.createElement("button",{className:"primary animate out right align-center",onClick:this.saveStages},r.a.createElement("i",{className:"material-icons"},"save_alt"),"Save"),r.a.createElement("button",{className:"default animate in right align-right",onClick:this.resetStages},r.a.createElement("i",{className:"material-icons"},"undo"),"Reset"),r.a.createElement("div",{className:"space-bottom-2"}),this.state.stage&&this.state.stage.map(function(t,a){return r.a.createElement("div",{className:"stage-row",key:a},r.a.createElement("div",null,r.a.createElement(ie,{id:"name",label:"Level ".concat(a+1),data:t,handleChange:function(t){return e.handleChangeStage(t,a)}})),r.a.createElement("div",null,r.a.createElement("button",{className:"secondary animate in right space-bottom-2",onClick:e.handleRemoveStage(a)},r.a.createElement("i",{className:"material-icons"},"delete"),"Remove")))}),(!this.state.stage||0===this.state.stage.length)&&r.a.createElement("div",null,"No custom stages defined")))}}]),t}(n.Component);function $e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$e(a,!0).forEach(function(t){Object(g.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$e(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Xe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).chooseSection=function(e){a.setState({section:e}),L("sidebar",!1)},a.handleImageChange=function(e){a.setState({banner:e.target.files[0]})},a.handleChange=function(e){var t;a.setState(Ke({},a.state,(t={},Object(g.a)(t,e.currentTarget.name,e.currentTarget.value),Object(g.a)(t,"errorFields",Ke({},a.state.errorFields,Object(g.a)({},e.currentTarget.name,!1))),t)))},a.state={name:"",email:"",jwtPassword:"",banner:null,errorFields:{name:!1,email:!1,jwtPassword:!1},section:"tenantProfile",sidebarElements:{tenant:[{label:"Profile",action:function(){return a.chooseSection("tenantProfile")},icon:"home"},{label:"Support levels",action:function(){return a.chooseSection("stage")},icon:"fast_forward"},{label:"Training dataset",action:function(){return a.chooseSection("trainingDataset")},icon:"bubble_chart"},{label:"Article categories",action:function(){return a.chooseSection("articleCategories")},icon:"compare"}],user:[{label:"Profile",action:function(){return a.chooseSection("userProfile")},icon:"person"},{label:"Password",action:function(){return a.chooseSection("userPassword")},icon:"security"}]}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t,a=this;this.props.setProfile(Ke({},this.props.profile,{tenant:this.props.match.params.tenant})),(e=this.props.match.params.tenant,t={headers:{Authorization:this.props.authorization.token}},x(q.API_URL_TENANT+"/"+e,t).then(function(e){return Promise.resolve(e)})).then(function(e){a.setState({name:e.data.name,email:e.data.ownerEmail,jwtPassword:e.data.jwtPassword})}).catch(function(){})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"settings"},r.a.createElement(Ve,{sideLabel:"More options"},r.a.createElement(Ge,{main:!0},"tenantProfile"===this.state.section&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"typography-3 space-bottom-2"},"Tenant Profile"),r.a.createElement("div",{className:"form"},r.a.createElement(ie,{id:"email",data:this.state,label:"Administrator Email",handleChange:function(t){return e.handleChange(t)},errorFields:this.state.errorFields}),r.a.createElement(ie,{id:"jwtPassword",type:"password",data:this.state,label:"JWT Password",handleChange:function(t){return e.handleChange(t)},errorFields:this.state.errorFields}),r.a.createElement("label",{className:"file-upload space-top-1 space-bottom-4"},r.a.createElement("input",{type:"file",accept:"image/png, image/jpeg",onChange:this.handleImageChange,required:!0}),r.a.createElement("i",{className:"material-icons"},"add_photo_alternate"),!this.state.banner&&"Choose Banner/Cover Image",this.state.banner&&this.state.banner.name))),"stage"===this.state.section&&r.a.createElement("div",{className:"stage"},r.a.createElement(Je,{match:this.props.match,authorization:this.props.authorization})),"userProfile"===this.state.section&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"typography-3 space-bottom-2"},"User Profile")),"userPassword"===this.state.section&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"typography-3 space-bottom-2"},"Change Login Password"))),r.a.createElement(Ge,{side:!0},r.a.createElement("div",{className:"filter-container"},r.a.createElement("div",{className:"section-main"},r.a.createElement(He,{label:"Tenant",elements:this.state.sidebarElements.tenant,icon:"home",animate:!0}),r.a.createElement(He,{label:"User",elements:this.state.sidebarElements.user,icon:"account_circle",animate:!0}))))))}}]),t}(n.Component),Ze=(a(164),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).edit=function(){a.props.editFaq(a.props.faq)},a.delete=function(){a.props.confirmDeleteFaq(a.props.faq._id)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"faq-record"},r.a.createElement("div",{className:"title typography-4"},r.a.createElement("div",{className:"tag",key:this.props.faq.category,onClick:function(){return e.props.search(e.props.faq.category)}},this.props.faq.category),this.props.faq.question,r.a.createElement("div",{className:"action-icon"},r.a.createElement("i",{onClick:this.edit,className:"material-icons"},"edit"),r.a.createElement("i",{onClick:this.delete,className:"material-icons"},"delete"))),r.a.createElement("div",{className:"typography-6"},this.props.faq.answer))}}]),t}(n.Component)),et=(a(334),a(373)),tt=a(369),at=a(374),nt=a(372),rt=a(370),it=Object(rt.a)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}});var st=function(e){var t=it(),a=e.id,n=e.label,i=e.elements,s=e.objects,o=e.handleChange,l=e.data,c=e.first,u=e.firstAction,m=[];return i?m=i.map(function(e){return r.a.createElement(et.a,{key:e,value:e},e)}):s&&(m=s.map(function(e){return r.a.createElement(et.a,{key:e.key,value:e.key},e.value)})),r.a.createElement(r.a.Fragment,null,r.a.createElement(tt.a,{className:"oak-select "+t.formControl},n&&r.a.createElement(at.a,{htmlFor:a},n),r.a.createElement(nt.a,{value:l[a],onChange:function(e){return o(e)},inputProps:{name:a,id:a},autoWidth:!0,className:e.maxWidth?e.maxWidth:""},c&&r.a.createElement(et.a,{value:c},c),u&&r.a.createElement(et.a,{value:u},r.a.createElement("em",null,u)),m)))};a(335),a(336);function ot(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var lt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).previousPage=function(){1!==a.state.pageNo&&a.setState({pageNo:a.state.pageNo-1},function(){return a.pageChanged()})},a.pageChanged=function(){a.props.onChangePage(a.state.pageNo,a.state.rowsPerPage)},a.nextPage=function(){Math.ceil(a.props.totalRows/a.state.rowsPerPage)!==a.state.pageNo&&a.setState({pageNo:a.state.pageNo+1},function(){return a.pageChanged()})},a.handleRowCountChange=function(e){var t;a.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ot(a,!0).forEach(function(t){Object(g.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ot(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a.state,(t={},Object(g.a)(t,e.target.name,e.target.value),Object(g.a)(t,"pageNo",1),t)),function(){return a.pageChanged()})},a.state={pageNo:1,rowsPerPage:6},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"oak-pagination"},r.a.createElement("div",{className:"space-right-3"},this.props.label?this.props.label:"Rows per page"),r.a.createElement("div",{className:"space-right-3"},r.a.createElement(st,{maxWidth:"max-width-50",data:this.state,id:"rowsPerPage",handleChange:function(t){return e.handleRowCountChange(t)},elements:["6","10","20","50"]})),r.a.createElement("div",{className:"page-number space-right-3"},r.a.createElement("div",null,(this.state.pageNo-1)*this.state.rowsPerPage+1,"- ",this.state.pageNo*this.state.rowsPerPage<this.props.totalRows?this.state.pageNo*this.state.rowsPerPage:this.props.totalRows,"\xa0of\xa0 ",this.props.totalRows," ")),r.a.createElement("div",{className:"page-nav"},r.a.createElement("div",{className:"space-right-2"},r.a.createElement("i",{className:1===this.state.pageNo?"material-icons disabled":"material-icons",onClick:this.previousPage},"keyboard_arrow_left")),r.a.createElement("div",null,r.a.createElement("i",{className:Math.ceil(this.props.totalRows/this.state.rowsPerPage)===this.state.pageNo?"material-icons disabled":"material-icons",onClick:this.nextPage},"keyboard_arrow_right"))))}}]),t}(n.Component),ct=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).pageChanged=function(){a.props.onChangePage&&a.props.onChangePage(a.state.pageNo,a.state.rowsPerPage)},a.onChangePage=function(e,t){a.setState({pageNo:e,rowsPerPage:t},function(){return a.pageChanged()})},a.state={pageNo:1,rowsPerPage:6},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=[];this.props.data&&this.props.totalRows?t=this.props.data:this.props.data&&!this.props.totalRows&&(t=this.props.data.slice((this.state.pageNo-1)*this.state.rowsPerPage,this.state.pageNo*this.state.rowsPerPage));var a=0;return r.a.createElement("div",{className:this.props.material?"oak-table material":"oak-table"},r.a.createElement("div",{className:"desktop-view"},r.a.createElement("table",{className:this.props.dense?"dense":""},r.a.createElement("thead",null,r.a.createElement("tr",null,this.props.header&&this.props.header.map(function(e){return r.a.createElement("th",{key:e.key},e.label)}))),r.a.createElement("tbody",null,this.props.data&&t.map(function(t){return r.a.createElement("tr",{key:a+=1},e.props.header&&e.props.header.map(function(e){return r.a.createElement("td",{key:a+=1},t[e.key])}))}))),r.a.createElement(lt,{onChangePage:this.onChangePage,totalRows:this.props.totalRows?this.props.totalRows:this.props.data.length})),r.a.createElement("div",{className:"mobile-view"},r.a.createElement("div",{className:"card-container"},this.props.data&&t.map(function(t){return r.a.createElement("div",{className:"card",key:a+=1},e.props.header&&e.props.header.map(function(e){return r.a.createElement("div",{key:a+=1},r.a.createElement("b",null,e.label),": ",t[e.key])}))})),r.a.createElement(lt,{onChangePage:this.onChangePage,totalRows:this.props.totalRows?this.props.totalRows:this.props.data.length,label:"Rows"})))}}]),t}(n.Component);function ut(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function mt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ut(a,!0).forEach(function(t){Object(g.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ut(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var pt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).toggleEditDialog=function(){a.setState({isEditDialogOpen:!a.state.isEditDialogOpen,id:void 0,category:"",question:"",answer:"",editDialogLabel:"Add"})},a.toggleDeleteDialog=function(){a.setState({isDeleteDialogOpen:!a.state.isDeleteDialogOpen})},a.editFaq=function(e){var t=a.state.category;"<create new>"===t&&(t=a.state.newCategory),a.setState({isEditDialogOpen:!0,id:e._id,category:e.category,question:e.question,answer:e.answer,editDialogLabel:"Save"})},a.confirmDeleteFaq=function(e){a.setState({isDeleteDialogOpen:!0,id:e,editDialogLabel:"Delete"})},a.deleteFaq=function(){var e,t,n=Object(k.a)(a);(e=q.API_URL_FAQ+"/"+a.props.match.params.tenant+"/"+a.state.id,t={headers:{Authorization:a.props.authorization.token}},U.a.delete(M+e,t)).then(function(e){200===e.status&&(L("notification",!0,{type:"success",message:"FAQ deleted",duration:5e3}),n.initializeFaq(n.props.authorization))}).catch(function(e){401===e.response.status&&n.props.logout(null,"failure","Session expired. Login again")})},a.searchByWord=function(e){},a.addFaq=function(){var e=Object(k.a)(a),t=a.state.category;"<create new>"===t&&(t=a.state.newCategory);var n={id:a.state.id,question:a.state.question,answer:a.state.answer,category:t};Y(n.category)?L("notification",!0,{type:"failure",message:"Category is missing",duration:5e3}):Y(n.question)?L("notification",!0,{type:"failure",message:"Question is missing",duration:5e3}):(Y(n.answer)&&(n.answer="unsorted"),B(q.API_URL_FAQ+"/"+a.props.match.params.tenant+"/",n,{headers:{Authorization:a.props.authorization.token}}).then(function(t){200===t.status&&(L("notification",!0,{type:"success",message:"FAQ created",duration:5e3}),e.toggleEditDialog(),e.initializeFaq(e.props.authorization))}).catch(function(t){401===t.response.status&&e.props.logout(null,"failure","Session expired. Login again")}))},a.handleChange=function(e){a.setState(mt({},a.state,Object(g.a)({},e.target.name,e.target.value)))},a.onChangePage=function(e,t){a.setState({pageNo:e,rowsPerPage:t})},a.state={faq:[],existingCategories:[],isEditDialogOpen:!1,isDeleteDialogOpen:!1,id:void 0,category:"",question:"",answer:"",newCategory:"",editDialogLabel:"Article",pageNo:1,rowsPerPage:6,sidebarElements:{article:[{label:"New article",action:a.toggleEditDialog,icon:"add"}]}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=[this.createData("1 Frozen yoghurt",159,6,24,4),this.createData("2 Ice cream sandwich",237,9,37,4.3),this.createData("3 Eclair",262,16,24,6),this.createData("4 Cupcake",305,3.7,67,4.3),this.createData("5 Gingerbread",356,16,49,3.9),this.createData("6 Frozen yoghurt",159,6,24,4),this.createData("7 Ice cream sandwich",237,9,37,4.3),this.createData("8 Eclair",262,16,24,6),this.createData("9 Cupcake",305,3.7,67,4.3),this.createData("10 Gingerbread",356,16,49,3.9),this.createData("11 Frozen yoghurt",159,6,24,4),this.createData("12 Ice cream sandwich",237,9,37,4.3),this.createData("13 Eclair",262,16,24,6),this.createData("14 Cupcake",305,3.7,67,4.3),this.createData("15 Gingerbread",356,16,49,3.9)];this.setState({data:e})}},{key:"createData",value:function(e,t,a,n,r){return{name:e,calories:t,fat:a,carbs:n,protein:r}}},{key:"componentDidMount",value:function(){this.props.authorization.isAuth&&this.initializeFaq(this.props.authorization),this.props.setProfile(mt({},this.props.profile,{tenant:this.props.match.params.tenant}))}},{key:"componentWillReceiveProps",value:function(e){e.authorization&&this.initializeFaq(this.props.authorization)}},{key:"initializeFaq",value:function(e){var t=this;x(q.API_URL_FAQ+"/"+this.props.match.params.tenant+"/",{headers:{Authorization:this.props.authorization.token}}).then(function(e){t.setState({faq:e.data.faq,existingCategories:e.data.category})})}},{key:"render",value:function(){var e=this,t=[];this.state.faq&&(t=this.state.faq.slice((this.state.pageNo-1)*this.state.rowsPerPage,this.state.pageNo*this.state.rowsPerPage));var a=t.map(function(t){return r.a.createElement("div",{key:t._id},r.a.createElement(Ze,{id:t._id,faq:t,editFaq:e.editFaq,confirmDeleteFaq:e.confirmDeleteFaq,search:e.searchByWord}),r.a.createElement("br",null))});return r.a.createElement("div",{className:"faq"},r.a.createElement(V,{visible:this.state.isEditDialogOpen,toggleVisibility:this.toggleEditDialog},r.a.createElement("div",{className:"dialog-body"},r.a.createElement("div",null,r.a.createElement(st,{label:"Category",data:this.state,id:"category",handleChange:function(t){return e.handleChange(t)},elements:this.state.existingCategories,firstAction:"<create new>"})),r.a.createElement("div",null,"<create new>"===this.state.category&&r.a.createElement(Q,{label:"Category name",data:this.state,id:"newCategory",handleChange:function(t){return e.handleChange(t)}})),r.a.createElement(Q,{label:"Question",data:this.state,id:"question",handleChange:function(t){return e.handleChange(t)}}),r.a.createElement(Q,{label:"Answer",data:this.state,id:"answer",handleChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"dialog-footer"},r.a.createElement("button",{onClick:this.toggleEditDialog,className:"default animate in right align-left"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"),r.a.createElement("button",{onClick:this.addFaq,className:"primary animate out right align-right"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),this.state.editDialogLabel))),this.state.isDeleteDialogOpen,r.a.createElement(J,{action:this.deleteFaq,visible:this.state.isDeleteDialogOpen,toggleVisibility:this.toggleDeleteDialog}),r.a.createElement(Ve,{sideLabel:"More options"},r.a.createElement(Ge,{main:!0},a,r.a.createElement(lt,{totalRows:this.state.faq.length,onChangePage:this.onChangePage,label:"Items per page"}),r.a.createElement(ct,{material:!0,data:this.state.data,header:[{key:"name",label:"Name"},{key:"calories",label:"Calories"},{key:"fat",label:"Fat"},{key:"carbs",label:"Carbohydrates"},{key:"protein",label:"Protein"}]})),r.a.createElement(Ge,{side:!0},r.a.createElement("div",{className:"filter-container"},r.a.createElement("div",{className:"section-main"},r.a.createElement(He,{label:"Article",elements:this.state.sidebarElements.article,icon:"add",animate:!0}),r.a.createElement(He,{label:"Search",elements:this.state.sidebarElements.search,icon:"search",animate:!0},"Search content goes here"))))))}}]),t}(r.a.Component);a(165);function ht(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ht(a,!0).forEach(function(t){Object(g.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ht(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var gt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).clearRequest=function(){a.setState({request:{title:"",description:""}})},a.toggleDialog=function(){a.state.isDialogOpen&&a.clearRequest(),a.setState({isDialogOpen:!a.state.isDialogOpen})},a.handleChange=function(e){a.setState(dt({},a.state,Object(g.a)({},e.target.name,e.target.value)))},a.state={isDialogOpen:!1,request:{title:"",description:""}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.request),this.props.setProfile(dt({},this.props.profile,{tenant:this.props.match.params.tenant}))}},{key:"componentWillReceiveProps",value:function(e){e.request&&this.state.request!==e.request&&this.setState({request:e.request,isDialogOpen:!0})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"view-request"},r.a.createElement(V,{visible:this.state.isDialogOpen,toggleVisibility:this.toggleDialog},r.a.createElement("div",{className:"dialog-body"},r.a.createElement(Q,{label:"Title",data:this.state.request,id:"title",handleChange:function(t){return e.handleChange(t)}}),r.a.createElement(Q,{label:"Description",data:this.state.request,id:"description",handleChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"dialog-footer"},r.a.createElement("button",{onClick:this.toggleDialog,className:"default animate in right align-left"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"))))}}]),t}(n.Component);function ft(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function bt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ft(a,!0).forEach(function(t){Object(g.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ft(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var vt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).openRequest=function(e){a.setState({selectedRequest:e})},a.toggleEditDialog=function(){a.setState({isEditDialogOpen:!a.state.isEditDialogOpen,editDialogLabel:"Add",selectedRequest:void 0})},a.addRequest=function(){var e=Object(k.a)(a),t={title:a.state.title,description:a.state.description};Y(t.title)?L("notification",!0,{type:"failure",message:"Title is missing",duration:5e3}):Y(t.description)?L("notification",!0,{type:"failure",message:"Description is missing",duration:5e3}):B(q.API_URL_SR+"/"+a.props.match.params.tenant+"/",t,{headers:{Authorization:a.props.authorization.token}}).then(function(t){200===t.status&&(L("notification",!0,{type:"success",message:"Request created",duration:5e3}),e.toggleEditDialog(),e.initializeRequest(e.props.authorization))}).catch(function(t){401===t.response.status&&e.props.logout(null,"failure","Session expired. Login again")})},a.handleChange=function(e){a.setState(bt({},a.state,Object(g.a)({},e.target.name,e.target.value)))},a.state={data:[],pageNo:1,rowsPerPage:6,isEditDialogOpen:!1,editDialogLabel:"Service Request",title:"",description:"",selectedRequest:void 0,sidebarElements:{serviceRequest:[{label:"New Request",action:a.toggleEditDialog,icon:"add"}]}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.authorization.isAuth&&this.initializeRequest(this.props.authorization),this.props.setProfile(bt({},this.props.profile,{tenant:this.props.match.params.tenant}))}},{key:"initializeRequest",value:function(e){var t=this;x(q.API_URL_SR+"/"+this.props.match.params.tenant+"/",{headers:{Authorization:this.props.authorization.token}}).then(function(e){var a=[];e.data.data.forEach(function(e){"assigned"===e.status?e.status=r.a.createElement("div",{className:"tag-2"},r.a.createElement("span",null,"Assigned to "+e.stage)):"progress"===e.status?e.status=r.a.createElement("div",{className:"tag-4"},r.a.createElement("span",null,"In progress with "+e.stage)):"resolved"===e.status&&(e.status=r.a.createElement("div",{className:"tag-5"},r.a.createElement("span",null,"Resolved"))),a.push(bt({},e,{action:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"primary noborder icon animate none align-left",onClick:function(){return t.openRequest(e)}},r.a.createElement("i",{className:"material-icons"},"open_in_new")),"resolved"===e.status&&r.a.createElement("button",{className:"default noborder icon animate none align-right"},r.a.createElement("i",{className:"material-icons"},"archive")))}))}),t.setState({data:a})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"requests"},r.a.createElement(V,{visible:this.state.isEditDialogOpen,toggleVisibility:this.toggleEditDialog},r.a.createElement("div",{className:"dialog-body"},r.a.createElement(Q,{label:"Title",data:this.state,id:"title",handleChange:function(t){return e.handleChange(t)}}),r.a.createElement(Q,{label:"Description",data:this.state,id:"description",handleChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"dialog-footer"},r.a.createElement("button",{onClick:this.toggleEditDialog,className:"default animate in right align-left"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"),r.a.createElement("button",{onClick:this.addRequest,className:"primary animate out right align-right"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),this.state.editDialogLabel))),r.a.createElement(gt,Object.assign({},this.props,{request:this.state.selectedRequest})),r.a.createElement(Ve,{sideLabel:"More options"},r.a.createElement(Ge,{main:!0},r.a.createElement(ct,{material:!0,data:this.state.data,header:[{key:"_id",label:"Request Number"},{key:"title",label:"Title"},{key:"description",label:"Description"},{key:"status",label:"Status"},{key:"category",label:"Category"},{key:"createDate",label:"Opened On"},{key:"action",label:"Action"}]})),r.a.createElement(Ge,{side:!0},r.a.createElement("div",{className:"filter-container"},r.a.createElement("div",{className:"section-main"},r.a.createElement(He,{label:"ServiceRequest",elements:this.state.sidebarElements.serviceRequest,icon:"add",animate:!0}),r.a.createElement(He,{label:"Search",elements:this.state.sidebarElements.search,icon:"search",animate:!0},"Search content goes here"))))))}}]),t}(n.Component),Et={themecolor_1:yt("#69A7BF"),themecolor_2:yt("#99587B"),themecolor_3:yt("#A66C26"),themecolor_4:yt("#37AE82")};function yt(e){return Object(ke.a)({palette:{primary:{main:e},secondary:{main:e}}})}var Ot=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).logout=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"You have been logged out";a.props.removeAuth(),a.props.cookies.remove("isAuth"),a.props.cookies.remove("token"),a.props.cookies.remove("secret"),a.props.cookies.remove("name"),L("notification",!0,{type:t,message:n,duration:3e3})},a.props.getProfile(),a.props.getAuth(),a.state={authorization:{isAuth:!1},event:{},profile:{}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){z().subscribe()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(ee.HashRouter,null,r.a.createElement(je,null),r.a.createElement(Se,null),r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"body-content"},r.a.createElement(De,null),r.a.createElement(Ce.a,{theme:Et.themecolor_1},r.a.createElement(Me,Object.assign({},this.props,{logout:function(){return e.logout},event:this.state.event})),r.a.createElement(N.Route,{path:"/:tenant/home",render:function(t){return r.a.createElement(Z,Object.assign({},t,e.props,{logout:function(){return e.logout},event:e.state.event}))}}),r.a.createElement(N.Route,{path:"/:tenant/login",render:function(t){return r.a.createElement(be,Object.assign({},t,e.props,{logout:function(){return e.logout},event:e.state.event}))}}),r.a.createElement(N.Route,{path:"/",exact:!0,render:function(t){return r.a.createElement(Ee,Object.assign({},t,e.props,{logout:function(){return e.logout},event:e.state.event}))}}),r.a.createElement(N.Route,{path:"/home",exact:!0,render:function(t){return r.a.createElement(Ee,Object.assign({},t,e.props,{logout:function(){return e.logout},event:e.state.event}))}}),r.a.createElement(N.Route,{path:"/tenant",exact:!0,render:function(t){return r.a.createElement(Be,Object.assign({},t,e.props,{logout:function(){return e.logout},event:e.state.event}))}}),r.a.createElement(Oe,{path:"/:tenant/settings",render:function(t){return r.a.createElement(Xe,Object.assign({},t,e.props,{logout:function(){return e.logout},event:e.state.event}))}}),r.a.createElement(Oe,{path:"/:tenant/faq",render:function(t){return r.a.createElement(pt,Object.assign({},t,e.props,{logout:function(){return e.logout},event:e.state.event}))}}),r.a.createElement(Oe,{path:"/:tenant/servicerequests",render:function(t){return r.a.createElement(vt,Object.assign({},t,e.props,{logout:function(){return e.logout},event:e.state.event}))}}))))))}}]),t}(n.Component),wt=Object(p.b)(function(e){return{authorization:e.authorization,profile:e.profile}},{getAuth:te,addAuth:ae,removeAuth:ne,getProfile:Pe,setProfile:Ne})(Object(re.b)(Ot)),jt=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{store:P},r.a.createElement(wt,this.props))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(re.a,null,r.a.createElement(jt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},67:function(e,t,a){e.exports=a.p+"static/media/mirror_white.ff53f974.svg"},83:function(e,t,a){}},[[183,1,2]]]);
//# sourceMappingURL=main.ba3e9f4a.chunk.js.map