(this.webpackJsonpmirror=this.webpackJsonpmirror||[]).push([[0],{127:function(e,a,t){},128:function(e,a,t){},131:function(e,a,t){e.exports=t.p+"static/media/mirror_white_small.7aed2e38.svg"},135:function(e,a,t){},136:function(e,a,t){},145:function(e,a,t){},184:function(e,a,t){},204:function(e,a,t){},215:function(e,a,t){e.exports=t(492)},220:function(e,a,t){},225:function(e,a,t){},226:function(e,a,t){},227:function(e,a,t){},239:function(e,a,t){},240:function(e,a,t){},241:function(e,a,t){},259:function(e,a,t){},260:function(e,a,t){},261:function(e,a,t){},262:function(e,a,t){},268:function(e,a){},270:function(e,a){},303:function(e,a){},304:function(e,a){},369:function(e,a,t){},370:function(e,a,t){},371:function(e,a,t){},372:function(e,a,t){},373:function(e,a,t){},374:function(e,a,t){},375:function(e,a,t){},378:function(e,a,t){},478:function(e,a,t){},481:function(e,a,t){},482:function(e,a,t){},483:function(e,a,t){},484:function(e,a,t){},485:function(e,a,t){},486:function(e,a,t){},487:function(e,a,t){},488:function(e,a,t){},489:function(e,a,t){},490:function(e,a,t){},491:function(e,a,t){},492:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(72),c=t.n(i),l=(t(220),t(59)),o=t(16),s=t(45),m=t(206),d=t(3),u={isAuth:!1,firstname:"",lastname:""},p={theme:"theme_dark",textSize:"textsize_medium",themeColor:"themecolor1"},h={users:[]},v={data:[]},g={items:[],logs:[]},f={data:[]},E=Object(s.c)({authorization:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_AUTH":return console.log("GET_AUTH reducer"),Object(d.a)({},e);case"ADD_AUTH":return console.log("ADD_AUTH reducer"),Object(d.a)({},e,{},a.payload);case"REMOVE_AUTH":return console.log("REMOVE_AUTH reducer"),Object(d.a)({},e,{isAuth:!1,firstname:"",lastname:""});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_PROFILE":return console.log("GET_PROFILE reducer"),Object(d.a)({},e);case"SET_PROFILE":return console.log("SET_PROFILE reducer"),Object(d.a)({},e,{},a.payload);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_USER":return console.log("GET_USER reducer"),Object(d.a)({},e);case"ADD_USER":return console.log("ADD_USER reducer"),Object(d.a)({},e,{},a.payload);case"FETCH_ALL_USERS":return console.log("FETCH_ALL_USERS reducer"),Object(d.a)({},e,{},a.payload);default:return e}},category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_CATEGORY":return console.log("FETCH_CATEGORY reducer"),Object(d.a)({},e,{},a.payload);default:return e}},request:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_REQUEST":return console.log("FETCH_REQUEST reducer"),Object(d.a)({},e,{},a.payload);default:return e}},stage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_STAGE":return console.log("FETCH_STAGE reducer"),Object(d.a)({},e,{},a.payload);default:return e}}}),b=[m.a],y=Object(s.e)(E,{},Object(s.d)(s.a.apply(void 0,b))),N=(t(135),t(225),t(226),t(2)),j=t(73),O=t(35),w=t(56),k=t(211),C=t(26),S=t(37),A=t(212),T=t(499),_=t(500),P=(t(227),function(e){return r.a.createElement("div",{className:"home full"},"Home page")}),x=(t(136),t(38)),I=function(e){return Object(n.useEffect)((function(){if(e.location.search){var a=x.parse(e.location.search);e.cookies.set("mirror_".concat(a.asset),"oa ".concat(a.space," ").concat(a.authKey)),e.history.push("/".concat(a.asset,"/home"))}}),[]),r.a.createElement(r.a.Fragment,null)},R=(t(239),t(49)),F=(t(240),t(241),function(e){return r.a.createElement("svg",{version:"1.0",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 57 56",enableBackground:"new 0 0 57 56",style:e.dimension},r.a.createElement("g",{id:"Chat-Fenster"},r.a.createElement("g",{id:"chat_FAQ_Accordion2-Copy-13",transform:"translate(-1364.000000, -1001.000000)"},r.a.createElement("g",{id:"Send-Message",transform:"translate(397.000000, 1008.000000)"},r.a.createElement("g",{id:"Send-Button",transform:"translate(990.000000, 10.000000)"},r.a.createElement("g",{id:"Send_1_"},r.a.createElement("path",{style:e.style,d:"M16,0.5c-0.1-0.1-0.3-0.1-0.4-0.1L-7,10.8c-0.1,0.1-0.2,0.2-0.2,0.3s0.1,0.3,0.2,0.3l6.4,3.1 c0.1,0.1,0.3,0,0.4,0L6,9.9l-4.9,4.9C1,14.9,1,15,1,15.1l0.5,6.2c0,0.1,0.1,0.3,0.2,0.3h0.1c0.1,0,0.2,0,0.3-0.1l3.4-3.9l4.2,2 c0.1,0,0.2,0,0.3,0s0.2-0.1,0.2-0.2l5.9-18.6C16.1,0.7,16.1,0.6,16,0.5z"})))))))}),D=function(e){return r.a.createElement("svg",{viewBox:"0 0 73 73",style:e.dimension},r.a.createElement("polygon",{fill:"#27AAE1",points:"38.5,-3.8 37.9,-3.8 37.9,-3.8 38.5,-3.8 "}),r.a.createElement("g",null,r.a.createElement("path",{fill:"#149ED9",d:"M27.6,23c2.6-1.8,5.8-2.9,9.3-2.9c3.4,0,6.6,1.1,9.3,2.9l6.3-7.5c-4.3-3.2-9.7-5.2-15.6-5.2 c-5.8,0-11.2,1.9-15.6,5.2L27.6,23z",style:e.accent}),r.a.createElement("rect",{x:"32",y:"37.4",width:"9.8",height:"25.6",style:e.style}),r.a.createElement("circle",{fill:"none",stroke:"#000000",strokeWidth:"9.75",strokeMiterlimit:"10",cx:"36.9",cy:"36.5",r:"30.9",style:Object(d.a)({},e.style,{fill:"none"})}),r.a.createElement("polygon",{fill:"#27AAE1",points:"37.2,-3.9 36.6,-3.9 36.6,-3.9 37.2,-3.9 \t"}),r.a.createElement("circle",{cx:"36.9",cy:"32.8",r:"7.8",style:e.style})))},L=function(e){var a=function(e){var a={},t="";switch(e){case"primary":t="var(--color-primary-1)";break;case"secondary":t="var(--color-secondary-1)";break;case"tertiary":t="var(--color-tertiary-1)";break;case"success":t="var(--color-success)";break;case"failure":t="var(--color-failure)";break;case"warning":t="var(--color-warning)";break;default:t=e||"var(--color-foreground-1)"}return a.fill=t,a.color=t,a.stroke=t,a},t=function(){var a={};return a.fontSize=e.size?e.size:"24px",e.svg&&(a.height=e.size?e.size:"24px",a.width="auto"),a};return r.a.createElement("div",{className:"oak-icon"},e.mat&&r.a.createElement("i",{className:"material-icons",style:Object(d.a)({},a(e.color),{},t())},e.mat),e.fa&&r.a.createElement("i",{className:"fontawesome-icons ".concat(e.fa),style:Object(d.a)({},a(e.color),{},t())},e.mat),e.svg&&"send"===e.svg&&r.a.createElement(F,{style:a(e.color),accent:e.accent&&a(e.accent),dimension:t()}),e.svg&&"ioak"===e.svg&&r.a.createElement(D,{style:a(e.color),accent:e.accent&&a(e.accent),dimension:t()}))},M=function(e){var a=Object(o.d)((function(e){return e.profile}));return r.a.createElement("button",{className:"oak-button ".concat(function(){var t,n=e.theme?e.theme:"";return n+=(null===a||void 0===a?void 0:null===(t=a.theme)||void 0===t?void 0:t.includes("theme_light"))?" light":"",n+=e.variant?" ".concat(e.variant):"",e.children||(n+=" icon"),n+=e.invert?" invert":"",n+=e.small?" small":"",n+=e.align?" align-".concat(e.align):""}()),onClick:e.action},r.a.createElement("div",{className:"button-label-container"},e.icon&&r.a.createElement(L,{mat:e.icon,size:"1.2em"}),e.fa&&r.a.createElement(L,{fa:e.fa,size:"1.2em"}),e.svg&&r.a.createElement(L,{svg:e.svg,size:"1.2em"}),e.children&&e.children))},$=function(){return r.a.createElement("div",{className:"landing"},r.a.createElement("div",{className:"space-bottom-4"},r.a.createElement("h3",null,"Mirror rorriM"),r.a.createElement("p",null,r.a.createElement("em",null,r.a.createElement("b",null,"Queen"))," ","Magic Mirror on the wall, who now is the fairest one of all?"),r.a.createElement("p",null,r.a.createElement("em",null,r.a.createElement("b",null,"Magic Mirror"))," ","Over the seven jewelled hills, beyond the seventh fall, in the cottage of the seven dwarfs, dwells Snow White, fairest one of all."),r.a.createElement("p",null,r.a.createElement("em",null,r.a.createElement("b",null,"Queen"))," ","Snow White lies dead in the forest. The huntsman has brought me proof. [holds up her opened box] Behold, her heart."),r.a.createElement("p",null,r.a.createElement("em",null,r.a.createElement("b",null,"Magic Mirror"))," ","Snow White still lives, the fairest in the land. Tis the heart of a pig you hold in your hand."),r.a.createElement("p",null,r.a.createElement("em",null,r.a.createElement("b",null,"Queen"))," ","[repulsed] The heart of a pig?! Then I've been tricked!")),r.a.createElement("div",{className:"action"},r.a.createElement(R.a,{to:"/asset/create",className:"navitem",activeClassName:"active"},r.a.createElement(M,{theme:"primary",variant:"disappear"},"Create Asset"))))},U=t(77),z=t.n(U),B="https://mirror-service.herokuapp.com";function H(e,a,t){return z.a.get((t||B)+e,a)}function q(e,a,t,n){return z.a.post((n||B)+e,a,t)}function G(e,a,t,n){return z.a.put((n||B)+e,a,t)}var V=t(213),Y=t(501),W=new V.a;function Q(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2?arguments[2]:void 0;W.next({name:e,signal:a,data:t})}function J(){return W.asObservable()}var K={API_URL_TENANT:"/tenant",API_URL_TENANT_BANNER:"/tenant/banner",API_URL_TENANT_CREATE:"/tenant/create",API_TENANT_URL:"/tenant/sendURL",API_URL_PRESIGNUP:"/auth/keys",API_URL_RESET:"/auth/reset",API_URL_CODE:"/auth/sendResetCode",API_URL_USER_DETAILS:"/user/details",API_URL_STAGE:"/stage",API_URL_PREDICT:"/model/predict",API_URL_CATEGORY:"/category",API_URL_FAQ:"/faq",API_URL_SR:"/servicerequests",API_URL_USER:"/user",API_URL:"/auth/",API_SIGNIN:"/signin",API_SIGNUP:"/signup",API_KEYS:"/keys",API_JWT:"/signin/jwt"},X=function(e,a){return function(t){H("".concat(K.API_URL_USER,"/").concat(e,"/all"),{headers:{Authorization:a.token}}).then((function(e){t({type:"FETCH_ALL_USERS",payload:{users:e.data.data}})}))}},Z=function(){return function(e){e({type:"GET_PROFILE"})}},ee=function(e){return function(a){a({type:"SET_PROFILE",payload:e})}},ae=t(13),te=(t(145),t(259),function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"oak-spinner"},r.a.createElement("div",{className:"spinner-wrapper"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))))}),ne=function(e){var a;return r.a.createElement("div",{className:"message ".concat(e.notification.type)},"running"===e.notification.type&&r.a.createElement("div",{className:"message-icon ".concat("running"===e.notification.type?"running":"")},r.a.createElement("i",{className:"material-icons"},"rotate_right")),"success"===e.notification.type&&r.a.createElement("div",{className:"message-icon"},r.a.createElement("i",{className:"material-icons"},"check_circle_outline")),"warning"===e.notification.type&&r.a.createElement("div",{className:"message-icon"},r.a.createElement("i",{className:"material-icons"},"warning")),"failure"===e.notification.type&&r.a.createElement("div",{className:"message-icon"},r.a.createElement("i",{className:"material-icons"},"error_outline")),r.a.createElement("div",{className:"message-text"},null===(a=e.notification)||void 0===a?void 0:a.message),r.a.createElement("div",{className:"message-action"},r.a.createElement("i",{className:"material-icons",onClick:e.handleRemove},"clear")))},re=function(){var e=Object(n.useState)(!1),a=Object(N.a)(e,2),t=a[0],i=a[1],c=Object(n.useState)([]),l=Object(N.a)(c,2),o=l[0],s=l[1],m=Object(n.useState)({notificationList:[]}),d=Object(N.a)(m,2),u=(d[0],d[1],function(e){s(o.filter((function(a){return a.id!==e.id})))});return Object(n.useEffect)((function(){var e=J().subscribe((function(e){"notification"===e.name&&(e.signal?(u(e.data),function(e){var a=Object(ae.a)(o);a.unshift(e),s(a),e.duration?setTimeout((function(){u(e)}),e.duration):e.id||setTimeout((function(){u(e)}),5e3)}(e.data),i(!1)):u(e.data)),"spinner"===e.name&&i(e.signal)}));return function(){return e.unsubscribe()}}),[]),r.a.createElement(r.a.Fragment,null,o&&o.length>0&&r.a.createElement("div",{className:"notification"},o.slice(0,5).reverse().map((function(e){return r.a.createElement("div",{key:e.id||e.message},r.a.createElement(ne,{notification:e,handleRemove:u}))}))),t&&r.a.createElement(te,{"data-test":"spinner"}))},ie=(t(78),t(96)),ce=t.n(ie),le=t(97),oe=t.n(le),se=function(e){return r.a.createElement("div",{className:"links"},e.authorization.isAuth&&r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{to:"/".concat(e.asset,"/home"),className:"navitem",activeClassName:"active"},"Home"),r.a.createElement(R.a,{to:"/".concat(e.asset,"/article"),className:"navitem",activeClassName:"active"},"Articles"),r.a.createElement(R.a,{to:"/".concat(e.asset,"/asset/view"),className:"navitem",activeClassName:"active"},"View Asset")))},me=(t(260),new(t(498).a)("")),de=new V.a,ue=function(e){var a=Object(n.useState)(""),t=Object(N.a)(a,2),i=t[0],c=t[1];Object(n.useEffect)((function(){var e=me.subscribe((function(e){c(e)}));return function(){return e.unsubscribe()}}),[]);return r.a.createElement("form",{method:"GET",onSubmit:function(e){e.preventDefault(),de.next(i)},noValidate:!0},r.a.createElement("div",{className:"search-bar".concat(e.alt?" alt":"")},r.a.createElement("input",{name:"searchText",spellCheck:!1,autoComplete:"off",autoFocus:!0,placeholder:"Mirror, mirror, on the wall, who's the fairest of them all?",required:!0,value:i,onChange:function(e){me.next(e.target.value)}}),r.a.createElement("button",{className:"icon"},r.a.createElement("i",null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}))))))},pe=function(e){var a=Object(n.useState)(!1),t=Object(N.a)(a,2),i=t[0],c=t[1],l=Object(o.d)((function(e){return e.authorization}));Object(n.useEffect)((function(){e.getProfile()}),[]),Object(n.useEffect)((function(){J().subscribe((function(e){"show-navbar-element"===e.name&&c(e.signal)}))}),[]);var s=function(a){e.login(a)};return r.a.createElement("div",{className:e.transparent?"navbar desktop transparent":"navbar desktop"},r.a.createElement("div",{className:"left"},!e.transparent&&"theme_light"===e.profile.theme&&r.a.createElement("img",{className:"logo",src:oe.a,alt:"Mirror logo"}),(e.transparent||"theme_dark"===e.profile.theme)&&r.a.createElement("img",{className:"logo",src:ce.a,alt:"Mirror logo"}),r.a.createElement(se,{authorization:l,asset:e.asset}),i&&r.a.createElement(ue,{alt:!0})),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"dark-mode"},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.toggleDarkMode()}},"brightness_6")),r.a.createElement("div",{className:"action"},l.isAuth&&e.asset&&r.a.createElement(M,{theme:"primary",variant:"disappear",small:!0,action:e.logout},r.a.createElement("i",{className:"material-icons"},"power_settings_new"),"Logout"),!l.isAuth&&e.asset&&r.a.createElement(M,{theme:"primary",variant:"appear",align:"left",small:!0,action:function(){return s("signin")}},r.a.createElement("i",{className:"material-icons"},"person"),"Login"),!l.isAuth&&e.asset&&r.a.createElement(M,{theme:"primary",variant:"appear",align:"right",small:!0,action:function(){return s("signup")}},r.a.createElement("i",{className:"material-icons"},"person_add"),"Signup"))))},he=t(131),ve=t.n(he),ge=function(e){var a=Object(o.d)((function(e){return e.authorization})),t=Object(n.useState)({showSearchBar:!1,menu:!1}),i=Object(N.a)(t,2),c=i[0],l=i[1];Object(n.useEffect)((function(){e.getProfile()}),[]),Object(n.useEffect)((function(){J().subscribe((function(e){"show-navbar-element"===e.name&&l(Object(d.a)({},c,{showSearchBar:e.signal}))}))}),[]);var s=function(){l(Object(d.a)({},c,{menu:!c.menu}))},m=function(a){e.login(a)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.transparent?"navbar mobile transparent":"navbar mobile"},r.a.createElement("div",{className:"left"},!c.showSearchBar&&!e.transparent&&"theme_light"===e.profile.theme&&r.a.createElement("img",{className:"logo",src:oe.a,alt:"Mirror logo"}),!c.showSearchBar&&(e.transparent||"theme_dark"===e.profile.theme)&&r.a.createElement("img",{className:"logo",src:ce.a,alt:"Mirror logo"}),c.showSearchBar&&!e.transparent&&"theme_light"===e.profile.theme&&r.a.createElement("img",{className:"logo",src:ve.a,alt:"Mirror logo"}),c.showSearchBar&&(e.transparent||"theme_dark"===e.profile.theme)&&r.a.createElement("img",{className:"logo",src:ve.a,alt:"Mirror logo"}),c.showSearchBar&&r.a.createElement(ue,{alt:!0})),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:c.menu?"menu active":"menu",onClick:s},r.a.createElement("div",null)))),r.a.createElement("div",{className:c.menu?"slider show":"slider hide",onClick:s},r.a.createElement("div",{className:c.menu?"container":"container hidetext",onClick:s},r.a.createElement("div",{className:"action"},r.a.createElement("div",{className:"buttons"},a.isAuth&&r.a.createElement(M,{variant:"appear",small:!0,action:e.logout},r.a.createElement("i",{className:"material-icons"},"power_settings_new"),"Logout"),!a.isAuth&&r.a.createElement(M,{variant:"appear",small:!0,action:function(){return m("signin")}},r.a.createElement("i",{className:"material-icons"},"person"),"Login"),!a.isAuth&&r.a.createElement(M,{variant:"appear",small:!0,action:function(){return m("signup")}},r.a.createElement("i",{className:"material-icons"},"person_add"),"Signup"))),r.a.createElement(se,{authorization:a,asset:e.asset}),r.a.createElement("div",{className:"dark-mode"},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.toggleDarkMode()}},"brightness_6")))))},fe=function(e){return function(a){a({type:"ADD_AUTH",payload:e})}},Ee=Object(o.b)((function(e){return{profile:e.profile}}),{getProfile:Z,setProfile:ee})(Object(l.b)(Object(S.withRouter)((function(e){var a=Object(n.useState)({visible:!1,mobilemenu:"hide",chooseTheme:!1,showSettings:!1,transparentNavBar:!1,firstLoad:!0}),t=Object(N.a)(a,2),i=t[0],c=t[1],l=Object(o.d)((function(e){return e.authorization})),s=Object(o.c)(),m=Object(n.useState)(""),u=Object(N.a)(m,2),p=u[0],h=u[1];Object(n.useEffect)((function(){J().subscribe((function(e){"spaceChange"===e.name&&h(e.data)}))}),[]),Object(n.useEffect)((function(){e.getProfile()}),[]),Object(n.useEffect)((function(){J().subscribe((function(e){"navbar-transparency"===e.name&&c(Object(d.a)({},i,{transparentNavBar:e.signal})),"loggedin"===e.name&&c(Object(d.a)({},i,{firstLoad:!1}))}))}),[]),Object(n.useEffect)((function(){i.firstLoad&&l&&l.isAuth&&c(Object(d.a)({},i,{firstLoad:!1}))}),[l.isAuth]);var v=function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"You have been logged out";s((function(e){e({type:"REMOVE_AUTH"})})),e.cookies.remove("mirror_".concat(p)),Q("notification",!0,{type:t,message:n,duration:3e3})},g=function(){"theme_dark"===e.profile.theme?e.setProfile(Object(d.a)({},e.profile,{theme:"theme_light"})):e.setProfile(Object(d.a)({},e.profile,{theme:"theme_dark"}))},f=function(a){e.history.push("/".concat(p,"/login/home"))},E=function(){c(Object(d.a)({},i,{showSettings:!i.showSettings}))};return r.a.createElement("div",{className:"nav"},r.a.createElement(pe,Object.assign({},e,{logout:v,login:f,asset:p,toggleSettings:E,transparent:i.transparentNavBar,toggleDarkMode:g})),r.a.createElement(ge,Object.assign({},e,{logout:v,login:f,asset:p,toggleSettings:E,transparent:i.transparentNavBar,toggleDarkMode:g})))})))),be=t(10),ye=(t(261),t(262),function(e){return r.a.createElement("div",{className:"oak-text"},!e.multiline&&r.a.createElement("input",{disabled:e.disabled,autoComplete:"off",className:(e.errorFields&&e.errorFields[e.id]?"error":"")+(e.disabled?" disabled":""),type:e.type?e.type:"text",name:e.id,id:e.id,value:e.data[e.id],onChange:e.handleChange,onFocus:function(){e.handleFocus&&e.handleFocus()}}),e.multiline&&r.a.createElement("textarea",{disabled:e.disabled,className:(e.errorFields&&e.errorFields[e.id]?"error":"")+(e.disabled?" disabled":""),id:e.id,name:e.id,value:e.data[e.id],onChange:e.handleChange}),r.a.createElement("label",{htmlFor:e.id,className:e.data[e.id]?"active":""},e.label),e.errorData&&e.errorData[e.id]&&r.a.createElement("div",{className:"text-field-error"},r.a.createElement("i",{className:"material-icons"},"warning"),e.errorData[e.id]))});var Ne=t(132),je=t.n(Ne),Oe=t(133),we=t.n(Oe);function ke(e,a,t){var n={cipher:"aes",iter:"12000",ks:256,salt:we.a.enc.Base64.stringify(we.a.enc.Utf8.parse(t))};return je.a.encrypt(e,a,n)}function Ce(e){return null===e||null!==e.match(/^ *$/)}function Se(e){return!e||!Object.keys(e).find((function(a){return!!e[a]}))}var Ae=function(e){var a=Object(n.useState)({name:"",email:"",password:"",repeatPassword:"",jwtPassword:"",pageNo:1,created:!1}),t=Object(N.a)(a,2),i=t[0],c=t[1],l=Object(n.useState)(null),o=Object(N.a)(l,2),s=o[0],m=o[1],u=Object(n.useState)({name:!1,email:!1,password:!1,repeatPassword:!1,jwtPassword:!1}),p=Object(N.a)(u,2),h=p[0],v=p[1];Object(n.useEffect)((function(){e.getProfile()}),[]);var g=function(e){c(Object(d.a)({},i,Object(be.a)({},e.currentTarget.name,e.currentTarget.value)))},f=function(e){v(Object(d.a)({},h,Object(be.a)({},e,!0)))},E=function(e){(function(e){var a=new FormData;return a.append("tenantName",e.tenantName),a.append("email",e.email),a.append("jwtPassword",e.jwtPassword),a.append("problem",ke(e.password,e.solution,e.salt)),a.append("solution",e.solution),e.banner&&a.append("banner",e.banner,"banner.jpg"),q(K.API_URL_TENANT_CREATE,a,{"Content-Type":"multipart/form-data"}).then((function(e){return Promise.resolve(e)}))})({tenantName:i.name,email:i.email,password:i.password,jwtPassword:i.jwtPassword,solution:e.solution,salt:e.salt,banner:s}).then((function(e){200===e.status?(Q("notification",!0,{type:"success",message:"Tenant has been created. You can proceed now",duration:3e3}),c(Object(d.a)({},i,{pageNo:i.pageNo+1,created:!0}))):Q("notification",!0,{message:"We are facing some problem, please try after sometime",duration:3e3})})).catch((function(e){Q("notification",!0,{type:"failure",message:"Unknown error. Please try again or at a later time",duration:3e3})}))};return r.a.createElement("div",{className:"tenant boxed"},!i.created&&r.a.createElement("div",{className:"typography-3 space-bottom-4"},"Tenant creation"),i.created&&r.a.createElement("div",{className:"typography-3 space-bottom-4"},"Tenant [",i.name,"] available now"),1===i.pageNo&&r.a.createElement("div",{className:"form"},r.a.createElement(ye,{id:"name",data:i,label:"Tenant Name",handleChange:function(e){return g(e)},errorFields:h}),r.a.createElement(ye,{id:"email",data:i,label:"Administrator Email",handleChange:function(e){return g(e)},errorFields:h}),r.a.createElement(ye,{id:"password",type:"password",data:i,label:"Administrator Password",handleChange:function(e){return g(e)},errorFields:h}),r.a.createElement(ye,{id:"repeatPassword",type:"password",data:i,label:"Repeat Password",handleChange:function(e){return g(e)},errorFields:h}),r.a.createElement(ye,{id:"jwtPassword",type:"password",data:i,label:"JWT Password",handleChange:function(e){return g(e)},errorFields:h}),r.a.createElement("label",{className:"file-upload space-top-1 space-bottom-4"},r.a.createElement("input",{type:"file",accept:"image/png, image/jpeg",onChange:function(e){m(e.target.files[0])},required:!0}),r.a.createElement("i",{className:"material-icons"},"add_photo_alternate"),!s&&"Choose Banner/Cover Image",s&&s.name),r.a.createElement("div",{className:"action"},r.a.createElement(M,{theme:"primary",variant:"appear",action:function(e){e.preventDefault(),Q("spinner"),v({name:!1,email:!1,password:!1,repeatPassword:!1,jwtPassword:!1}),(Ce(i.name)?(f("name"),Q("notification",!0,{type:"failure",message:"Tenant name cannot be empty",duration:3e3}),0):/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(i.email)?Ce(i.password)?(f("password"),Q("notification",!0,{type:"failure",message:"Password cannot be empty",duration:3e3}),0):i.password===i.repeatPassword||(f("repeatPassword"),Q("notification",!0,{type:"failure",message:"Password and repeat password should be same",duration:3e3}),0):(f("email"),Q("notification",!0,{type:"failure",message:"Email ID is invalid",duration:3e3}),0))&&function(e){return H(K.API_URL+e.name+K.API_KEYS,null).then((function(e){return Promise.resolve(e)}))}({name:i.name}).then((function(e){200===e.status&&E(e.data)}))}},"Create Tenant"))),i.created&&r.a.createElement(M,{theme:"primary",variant:"disappear",action:function(){e.history.push("/".concat(i.name,"/home"))}},"Take me to my tenant"))},Te=(t(369),function(e){return r.a.createElement("div",{className:"app-page"},r.a.createElement("div",{className:"app-content"},r.a.createElement("div",{className:"app-text"},r.a.createElement("div",{className:"page-title"},"Article knowledge base",r.a.createElement("div",{className:"page-subtitle"},"Home of knowledge"),r.a.createElement("div",{className:"page-highlight"})),r.a.createElement("div",{className:"typography-4 space-bottom-4"},"Welcome to the world of knowledge. Here you will find articles that will answer the question on your mind about this application. You can access the articles by different means. Start to explore by picking one of the below choices to navigate and reach your desired article."),r.a.createElement("div",{className:"action-header"},r.a.createElement(M,{theme:"primary",variant:"appear",action:function(a){e.history.push("/".concat(e.asset,"/article/search"))}},"Search article"),r.a.createElement(M,{theme:"primary",variant:"appear",action:function(a){e.history.push("/".concat(e.asset,"/article/browse"))}},"Browse by category"),r.a.createElement(M,{theme:"primary",variant:"appear",action:function(a){e.history.push("/".concat(e.asset,"/article/tag"))}},"View by tags")))))}),_e=(t(370),t(371),t(372),function(e){var a,t,i=Object(n.useState)(!1),c=Object(N.a)(i,2),l=c[0],o=c[1],s=function(a,t){a.target.name=e.id,a.target.value=t,e.handleChange(a),o(!l)};return e.elements?e.elements.map((function(e){return r.a.createElement("div",{className:"option",key:e,onClick:function(a){return s(a,e)}},e)})):e.objects&&e.objects.map((function(e){return r.a.createElement("div",{className:"option",key:e.key,onClick:function(a){return s(a,e.key)}},e.value)})),r.a.createElement("div",{className:"oak-select"},r.a.createElement("select",{onChange:e.handleChange,name:e.id,className:"select",value:e.data[e.id]},r.a.createElement("option",{value:""}," "),e.firstAction&&r.a.createElement("option",{value:e.firstAction},e.firstAction),null===(a=e.elements)||void 0===a?void 0:a.map((function(e){return r.a.createElement("option",{value:e,key:e},e)})),null===(t=e.objects)||void 0===t?void 0:t.map((function(e){return r.a.createElement("option",{value:e.key,key:e.key},e.value)}))),e.label&&r.a.createElement("label",{htmlFor:e.id,className:e.data[e.id]?"active":""},e.label))}),Pe=function(e){var a=Object(n.useState)({rowsPerPage:6,pageNo:1}),t=Object(N.a)(a,2),i=t[0],c=t[1];Object(n.useEffect)((function(){l()}),[i]);var l=function(){e.onChangePage(i.pageNo,i.rowsPerPage)};return r.a.createElement("div",{className:"oak-pagination"},r.a.createElement("div",{className:"space-right-3"},e.label?e.label:"Rows per page"),r.a.createElement("div",{className:"space-right-3"},r.a.createElement(_e,{data:i,id:"rowsPerPage",handleChange:function(e){return a=e,void c(Object(d.a)({},i,Object(be.a)({},a.target.name,a.target.value)));var a},elements:["6","10","20","50"]})),r.a.createElement("div",{className:"page-number space-right-3"},r.a.createElement("div",null,(i.pageNo-1)*i.rowsPerPage+1,"-"," ",i.pageNo*i.rowsPerPage<e.totalRows?i.pageNo*i.rowsPerPage:e.totalRows,"\xa0of\xa0 ",e.totalRows," ")),r.a.createElement("div",{className:"page-nav"},r.a.createElement("div",{className:"space-right-2"},r.a.createElement("i",{"data-test":"action-page-previous",className:1===i.pageNo?"material-icons disabled":"material-icons",onClick:function(){1!==i.pageNo&&c(Object(d.a)({},i,{pageNo:i.pageNo-1}))}},"keyboard_arrow_left")),r.a.createElement("div",null,r.a.createElement("i",{"data-test":"action-page-next",className:Math.ceil(e.totalRows/i.rowsPerPage)===i.pageNo?"material-icons disabled":"material-icons",onClick:function(){Math.ceil(e.totalRows/i.rowsPerPage)!==i.pageNo&&c(Object(d.a)({},i,{pageNo:i.pageNo+1}))}},"keyboard_arrow_right"))))},xe=function(e){var a=Object(n.useState)([]),t=Object(N.a)(a,2),i=t[0],c=t[1],l=Object(n.useState)({pageNo:1,rowsPerPage:6,sortField:"",sortAsc:!0}),o=Object(N.a)(l,2),s=o[0],m=o[1],u=Object(n.useState)({}),p=Object(N.a)(u,2),h=p[0],v=p[1];Object(n.useEffect)((function(){c(e.data);var a={};e.header.forEach((function(e){a[e.key]=e})),v(a)}),[]),Object(n.useEffect)((function(){c(e.data)}),[e.data]),Object(n.useEffect)((function(){g()}),[s]);var g=function(){e.onChangePage?e.onChangePage(s.pageNo,s.rowsPerPage,s.sortField,s.sortAsc):s.sortField&&c(i.sort((function(e,a){return function(e,a){var t=s.sortField,n=s.sortAsc,r=h[t];if(!(null===r||void 0===r?void 0:r.dtype)||"string"===(null===r||void 0===r?void 0:r.dtype))return n?e[s.sortField]>a[s.sortField]?1:e[s.sortField]<a[s.sortField]?-1:0:e[s.sortField]<a[s.sortField]?1:e[s.sortField]>a[s.sortField]?-1:0;if(n)return e[s.sortField]-a[s.sortField]>0?1:e[s.sortField]-a[s.sortField]<0?-1:0;return e[s.sortField]-a[s.sortField]<0?1:e[s.sortField]-a[s.sortField]>0?-1:0}(e,a)})))};var f=function(e,a){m(Object(d.a)({},s,{pageNo:e,rowsPerPage:a}))},E=[];e.data&&e.totalRows?E=e.data:e.data&&!e.totalRows&&(E=e.data.slice((s.pageNo-1)*s.rowsPerPage,s.pageNo*s.rowsPerPage));var b=0;return r.a.createElement("div",{className:e.material?"oak-table material":"oak-table"},r.a.createElement("div",{className:"desktop-view"},r.a.createElement("div",{className:"table-container"},r.a.createElement("table",{className:e.dense?"dense":""},r.a.createElement("thead",null,r.a.createElement("tr",null,e.header&&e.header.map((function(e){return r.a.createElement("th",{key:e.key},r.a.createElement("div",{className:"label",onClick:function(){return a=e.key,void m(Object(d.a)({},s,{sortField:a,sortAsc:s.sortField!==a||!s.sortAsc}));var a}},e.label,s.sortField===e.key&&s.sortAsc&&r.a.createElement("i",{className:"material-icons"},"keyboard_arrow_up"),s.sortField===e.key&&!s.sortAsc&&r.a.createElement("i",{className:"material-icons"},"keyboard_arrow_down")))})))),r.a.createElement("tbody",null,e.data&&E.map((function(a){return r.a.createElement("tr",{key:b+=1},e.header&&e.header.map((function(e){var t,n,i;return r.a.createElement("td",{key:b+=1,className:(null===(t=h[e.key])||void 0===t?void 0:t.dtype)?null===(n=h[e.key])||void 0===n?void 0:n.dtype:""},"date"===(null===(i=h[e.key])||void 0===i?void 0:i.dtype)?function(e){if(!e||/^\s*$/.test(e))return"";var a=new Date(e);return"".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate()," ").concat(a.getHours(),":").concat(a.getMinutes())}(a[e.key]):a[e.key])})))}))))),r.a.createElement(Pe,{onChangePage:f,totalRows:e.totalRows?e.totalRows:e.data.length})),r.a.createElement("div",{className:"mobile-view"},r.a.createElement("div",{className:"card-container"},e.data&&E.map((function(a){return r.a.createElement("div",{className:"card",key:b+=1},e.header&&e.header.map((function(e){return r.a.createElement("div",{key:b+=1},r.a.createElement("b",null,e.label),": ",a[e.key])})))}))),r.a.createElement(Pe,{onChangePage:f,totalRows:e.totalRows?e.totalRows:e.data.length,label:"Rows"})))},Ie=(t(184),t(373),function(e){var a=Object(n.useState)(!1),t=Object(N.a)(a,2),i=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(N.a)(l,2),s=o[0],m=o[1],d=Object(n.useState)(),u=Object(N.a)(d,2),p=u[0],h=u[1],v=Object(n.useState)(),g=Object(N.a)(v,2),f=g[0],E=g[1],b=Object(n.useState)(),y=Object(N.a)(b,2),j=y[0],O=y[1],w=window.matchMedia("(max-width: 767px)");Object(n.useEffect)((function(){c(w.matches),w.addListener((function(){return c(w.matches)})),h(e.children);var a=J().subscribe((function(e){"sidebar"===e.name&&m(e.signal)}));return function(){return a.unsubscribe()}}),[]),Object(n.useEffect)((function(){h(e.children)}),[e.children]),Object(n.useEffect)((function(){k()}),[p]);var k=function(){r.a.Children.toArray(e.children).forEach((function(e){e.props.main?E(e):e.props.side&&O(e)}))},C=function(){Q("sidebar",!s)};return r.a.createElement(r.a.Fragment,null,!i&&r.a.createElement("div",{className:"view-desktop"},j&&r.a.createElement("div",{className:"view-side"},j),r.a.createElement("div",{className:"view-content".concat(j?" side-present":"")},f)),i&&r.a.createElement("div",{className:"view-mobile"},r.a.createElement("div",{className:s?"slider show":"slider hide"},r.a.createElement("div",{className:"topbar",onClick:C},r.a.createElement("div",null,r.a.createElement(M,{theme:"default",variant:"block",action:C},!s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"material-icons"},"expand_more"),e.sideLabel?e.sideLabel:"Menu"),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"material-icons"},"expand_less"),"Collapse")))),r.a.createElement("div",{className:"view-side"},s&&j)),!s&&r.a.createElement("div",{className:"view-main"},f)))}),Re=function(e){return r.a.createElement("div",{"data-test":"oak-view-root"},e.children)},Fe=(t(374),function(e){var a=Object(n.useState)(!1),t=Object(N.a)(a,2),i=t[0],c=t[1];Object(n.useEffect)((function(){Q("modal",e.visible),i!==e.visible&&(e.visible?c(e.visible):setTimeout((function(){return c(e.visible)}),200))}),[e.visible]),Object(n.useEffect)((function(){var a=document.documentElement.clientWidth,t=window.innerWidth-a;document.documentElement.style.setProperty("--scrollbar-width","".concat(t,"px")),c(e.visible)}),[]),Object(n.useEffect)((function(){return Q("dialog",e.visible),e.visible?document.body.classList.add("oak-dialog-open"):document.body.classList.remove("oak-dialog-open"),document.addEventListener("keydown",l,!1),function(){return document.removeEventListener("keydown",l,!1)}}),[i]);var l=function(a){27===a.keyCode&&e.visible&&e.toggleVisibility()},o=function(){var a="";return a+=e.small?" small":"",a+=e.noheader?" noheader":"",a+=e.fullscreen?" fullscreen":""};return r.a.createElement("div",{className:"oak-dialog ".concat(o())},i&&r.a.createElement("div",{className:e.visible?"dialog show ".concat(o()):"dialog hide ".concat(o())},r.a.createElement("div",{className:e.visible?"container":"container hidetext"},r.a.createElement("div",{className:"dialog-header"},r.a.createElement("div",{className:"container","data-test":"toggle-visibility",onClick:e.toggleVisibility},r.a.createElement("i",{className:"material-icons"},"close"),r.a.createElement("div",{className:"text-esc"},"esc"))),e.children)))});t(375);var De=function(e){return r.a.createElement("div",{className:"oak-check-box ".concat(function(){var a=e.theme?e.theme:"";return a+=e.variant?" ".concat(e.variant):""}())},r.a.createElement("div",{className:"checkbox-container"},r.a.createElement("label",{className:"checkbox"},r.a.createElement("input",{type:"checkbox",name:e.id,checked:e.data[e.id],id:e.id,onChange:function(a){return t=a,void e.handleChange(t);var t},disabled:e.disabled}),r.a.createElement("label",{className:"typography-5",htmlFor:e.id},e.label))))},Le=function(e){var a=["tenantAdministrator","userAdministrator"],t=Object(n.useState)({administrativeRoles:{},supportRoles:{}}),i=Object(N.a)(t,2),c=i[0],l=i[1];Object(n.useEffect)((function(){e.setProfile(Object(d.a)({},e.profile,{tenant:e.match.params.tenant}))}),[]),Object(n.useEffect)((function(){if(e.user&&e.stages){var t={},n={};a.forEach((function(a){t[a]=!!(e.user.roles&&e.user.roles.indexOf(a)>=0)})),e.stages.forEach((function(a){n[a.name]=!!(e.user.roles&&e.user.roles.indexOf(a.name)>=0)})),l(Object(d.a)({},c,{administrativeRoles:t,supportRoles:n}))}}),[e.user,e.stages]);var o=function(e){l(Object(d.a)({},c,{supportRoles:Object(d.a)({},c.supportRoles,Object(be.a)({},e.target.name,e.target.value))}))},s=function(e){l(Object(d.a)({},c,{administrativeRoles:Object(d.a)({},c.administrativeRoles,Object(be.a)({},e.target.name,e.target.value))}))};return r.a.createElement("div",{className:"view-user"},r.a.createElement(Fe,{visible:e.isDialogOpen,toggleVisibility:e.toggleDialog},r.a.createElement("div",{className:"dialog-body"},e.user&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"typography-4"},"User Data"),r.a.createElement("div",{className:"basic-data"},r.a.createElement("div",{className:"label"},"Email"),r.a.createElement("div",{className:"value"},e.user.email),r.a.createElement("div",{className:"label"},"Full Name"),r.a.createElement("div",{className:"value"},"John Doe")),r.a.createElement("div",{className:"typography-4 space-top-3"},"Administrative Roles"),r.a.createElement("div",{className:"role-container"},r.a.createElement(De,{data:c.administrativeRoles,id:"tenantAdministrator",label:"Tenant Administrator",handleChange:s,theme:"primary"}),r.a.createElement(De,{data:c.administrativeRoles,id:"userAdministrator",label:"User Administrator",handleChange:s,theme:"primary"})),r.a.createElement("div",{className:"typography-4 space-top-3"},"Support Roles"),r.a.createElement("div",{className:"role-container"},e.stages.map((function(e){return r.a.createElement(De,{key:e.name,data:c.supportRoles,id:e.name,label:e.name,handleChange:o,theme:"primary"})}))))),r.a.createElement("div",{className:"dialog-footer"},r.a.createElement(M,{theme:"primary",variant:"outline",align:"right",icon:"save",action:function(){var a=[];Object.keys(c.administrativeRoles).forEach((function(e){c.administrativeRoles[e]&&a.push(e)})),Object.keys(c.supportRoles).forEach((function(t){if(c.supportRoles[t]){var n=e.stages.findIndex((function(e){return e.name===t}));a.push(e.stages[n]._id)}})),e.saveUser({id:e.user._id,roles:a},!0),e.toggleDialog()}},"Save Changes"))))},Me=function(e,a){return function(t){H("".concat(K.API_URL_STAGE,"/").concat(e,"/"),{headers:{Authorization:a.token}}).then((function(e){t({type:"FETCH_STAGE",payload:{data:e.data.stage}})}))}},$e=Object(o.b)((function(e){return{user:e.user,stage:e.stage}}),{fetchAllUsers:X,saveUser:function(e,a,t){return function(n){G("".concat(K.API_URL_USER,"/").concat(e,"/"),t,{headers:{Authorization:a.token}}).then((function(r){200===r.status&&(Q("user",!0,{action:t.id?"updated":"created"}),n(X(e,a)))})).catch((function(e){401===e.response.status&&Q("session expired")}))}},fetchStage:Me})((function(e){var a=Object(n.useState)({pageNo:1,rowsPerPage:6}),t=Object(N.a)(a,2),i=(t[0],t[1],Object(n.useState)({text:""})),c=Object(N.a)(i,2),l=c[0],o=c[1],s=Object(n.useState)([{}]),m=Object(N.a)(s,2),u=m[0],p=m[1],h=Object(n.useState)([{}]),v=Object(N.a)(h,2),g=v[0],f=v[1],E=Object(n.useState)(!1),b=Object(N.a)(E,2),y=b[0],j=b[1],O=Object(n.useState)(null),w=Object(N.a)(O,2),k=w[0],C=w[1];Object(n.useEffect)((function(){var e=J().subscribe((function(e){"user"===e.name&&e.signal&&Q("notification",!0,{type:"success",message:"".concat("user"," ").concat(e.data.action),duration:5e3})}));return function(){return e.unsubscribe()}})),Object(n.useEffect)((function(){e.authorization.isAuth&&T(),e.setProfile(Object(d.a)({},e.profile,{tenant:e.match.params.tenant}))}),[]),Object(n.useEffect)((function(){e.authorization.isAuth&&T()}),[e.authorization.isAuth]);Object(n.useEffect)((function(){var a=[];e.user.users.forEach((function(e){var t=A(e.roles);e.roles=t,a.push(Object(d.a)({},e,{action:r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{theme:"primary",variant:"block",align:"left",action:function(){return C(e),void j(!0)},icon:"open_in_new"}))}))})),p(a),f(a)}),[e.user.users]),Object(n.useEffect)((function(){S()}),[l,u]);var S=function(){var e=l.text?null===g||void 0===g?void 0:g.filter((function(e){return e.email.toLowerCase().includes(l.text)})):u;f(e)},A=function(a){var t,n=[],r=[],i=0;return null===(t=e.stage)||void 0===t||t.data.forEach((function(e){n.push(e.name)})),a.forEach((function(a){var t;i=null===(t=e.stage)||void 0===t?void 0:t.data.findIndex((function(e){return e._id===a})),r.push(i>=0?n[i]:a)})),r},T=function(){e.fetchAllUsers(e.match.params.tenant,e.authorization),e.fetchStage(e.match.params.tenant,e.authorization)};return r.a.createElement("div",{className:"user-administration"},r.a.createElement(Le,Object.assign({},e,{isDialogOpen:y,toggleDialog:function(){return j(!y)},saveUser:function(a){arguments.length>1&&void 0!==arguments[1]&&arguments[1];a?e.saveUser(e.match.params.tenant,e.authorization,a):Q("notification",!0,{type:"failure",message:"Unknown error",duration:5e3})},user:k,stages:e.stage.data})),r.a.createElement(Ie,null,r.a.createElement(Re,{main:!0},r.a.createElement("div",{className:"search-bar"},r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement(ye,{label:"Search",data:l,handleChange:function(e){o(Object(d.a)({},l,Object(be.a)({},e.target.name,e.target.value)))},id:"text"})),r.a.createElement("div",{className:"clear"},r.a.createElement(M,{action:function(){return o(Object(d.a)({},l,{text:""}))},theme:"default",variant:"block",icon:"clear"}))),r.a.createElement(xe,{material:!0,data:g,header:[{key:"_id",label:"User Id"},{key:"title",label:"Full Name"},{key:"email",label:"Email"},{key:"status",label:"Status"},{key:"roles",label:"Roles"},{key:"action",label:"Action"}]}))))})),Ue=t(21),ze=t.n(Ue),Be=t(34),He=t(6),qe=t(14),Ge=t(15),Ve=t.n(Ge);function Ye(){var e=Object(qe.a)(["\n  mutation UpdateAsset($payload: AssetPayload!) {\n    updateAsset(payload: $payload) {\n      id\n      name\n      description\n      jwtPassword\n      productionMode\n      assetId\n    }\n  }\n"]);return Ye=function(){return e},e}function We(){var e=Object(qe.a)(["\n  mutation CreateAsset(\n    $payload: AssetPayload!\n    $addition: AssetAdditionPayload!\n  ) {\n    CreateAsset(payload: $payload, addition: $addition) {\n      id\n      name\n      description\n      jwtPassword\n      productionMode\n      assetId\n    }\n  }\n"]);return We=function(){return e},e}function Qe(){var e=Object(qe.a)(["\n  query Asset($assetId: String!) {\n    asset(assetId: $assetId) {\n      id\n      name\n      description\n      jwtPassword\n      productionMode\n      assetId\n    }\n  }\n"]);return Qe=function(){return e},e}function Je(){var e=Object(qe.a)(["\n  query Assets {\n    assets {\n      id\n      name\n      description\n      jwtPassword\n      productionMode\n      assetId\n    }\n  }\n"]);return Je=function(){return e},e}function Ke(){var e=Object(qe.a)(["\n  query TagCloud {\n    tagCloud {\n      name\n      count\n    }\n  }\n"]);return Ke=function(){return e},e}function Xe(){var e=Object(qe.a)(["\n  mutation RemoveFeedback($articleId: String!, $type: String!) {\n    removeFeedback(articleId: $articleId, type: $type) {\n      id\n      article {\n        id\n        title\n        description\n        views\n        helpful\n        notHelpful\n        createdAt\n        updatedAt\n        tags {\n          id\n          name\n        }\n        category {\n          id\n        }\n        feedback {\n          type\n        }\n      }\n    }\n  }\n"]);return Xe=function(){return e},e}function Ze(){var e=Object(qe.a)(["\n  mutation AddFeedback($articleId: String!, $type: String!) {\n    addFeedback(articleId: $articleId, type: $type) {\n      id\n      article {\n        id\n        title\n        description\n        views\n        helpful\n        notHelpful\n        createdAt\n        updatedAt\n        tags {\n          id\n          name\n        }\n        category {\n          id\n        }\n        feedback {\n          type\n        }\n      }\n    }\n  }\n"]);return Ze=function(){return e},e}function ea(){var e=Object(qe.a)(["\n  mutation UpdateCategory($payload: ArticleCategoryPayload!) {\n    addArticleCategory(payload: $payload) {\n      id\n      name\n      parentCategoryId\n      articles\n    }\n  }\n"]);return ea=function(){return e},e}function aa(){var e=Object(qe.a)(["\n  query ArticleCategories {\n    articleCategories {\n      id\n      name\n      parentCategoryId\n      articles\n    }\n  }\n"]);return aa=function(){return e},e}function ta(){var e=Object(qe.a)(["\n  mutation DeleteArticle($id: ID!) {\n    deleteArticle(id: $id) {\n      id\n    }\n  }\n"]);return ta=function(){return e},e}function na(){var e=Object(qe.a)(["\n  mutation UpdateArticle($payload: ArticlePayload!) {\n    addArticle(payload: $payload) {\n      id\n      title\n      description\n      views\n      helpful\n      notHelpful\n      createdAt\n      updatedAt\n      tags {\n        id\n        name\n      }\n    }\n  }\n"]);return na=function(){return e},e}function ra(){var e=Object(qe.a)(["\n  query ArticlesByTag($tag: String!, $pageNo: Int, $pageSize: Int) {\n    articlesByTag(tag: $tag, pageNo: $pageNo, pageSize: $pageSize) {\n      results {\n        id\n        name\n        article {\n          id\n          title\n          description\n          views\n          helpful\n          notHelpful\n          createdAt\n          updatedAt\n          tags {\n            id\n            name\n          }\n        }\n      }\n      pageNo\n      hasMore\n    }\n  }\n"]);return ra=function(){return e},e}function ia(){var e=Object(qe.a)(["\n  query Article($id: ID!) {\n    article(id: $id) {\n      id\n      title\n      description\n      views\n      helpful\n      notHelpful\n      createdAt\n      updatedAt\n      tags {\n        id\n        name\n      }\n      category {\n        id\n      }\n      feedback {\n        type\n      }\n    }\n  }\n"]);return ia=function(){return e},e}function ca(){var e=Object(qe.a)(["\n  query SearchArticles($text: String, $pageNo: Int, $pageSize: Int) {\n    searchArticles(text: $text, pageNo: $pageNo, pageSize: $pageSize) {\n      results {\n        id\n        title\n        description\n        views\n        helpful\n        notHelpful\n        createdAt\n        updatedAt\n        tags {\n          id\n          name\n        }\n      }\n      pageNo\n      hasMore\n      total\n    }\n  }\n"]);return ca=function(){return e},e}function la(){var e=Object(qe.a)(["\n  query Articles($categoryId: ID!, $pageNo: Int, $pageSize: Int) {\n    articles(categoryId: $categoryId, pageNo: $pageNo, pageSize: $pageSize) {\n      results {\n        id\n        title\n        description\n        views\n        helpful\n        notHelpful\n        createdAt\n        updatedAt\n        tags {\n          id\n          name\n        }\n      }\n      pageNo\n      hasMore\n    }\n  }\n"]);return la=function(){return e},e}function oa(){var e=Object(qe.a)(["\n  mutation CreateEmailAccount($payload: UserPayload) {\n    createEmailAccount(payload: $payload) {\n      id\n      email\n    }\n  }\n"]);return oa=function(){return e},e}function sa(){var e=Object(qe.a)(["\n  query NewExternSession($token: String!, $asset: String) {\n    newExternSession(token: $token, asset: $asset) {\n      sessionId\n    }\n  }\n"]);return sa=function(){return e},e}function ma(){var e=Object(qe.a)(["\n  query NewEmailSession($email: String!) {\n    newEmailSession(email: $email) {\n      sessionId\n    }\n  }\n"]);return ma=function(){return e},e}function da(){var e=Object(qe.a)(["\n  query Session($key: ID!, $asset: String) {\n    session(key: $key, asset: $asset) {\n      id\n      firstName\n      lastName\n      email\n      token\n    }\n  }\n"]);return da=function(){return e},e}var ua=Ve()(da()),pa=Ve()(ma()),ha=Ve()(sa()),va=Ve()(oa()),ga=Ve()(la()),fa=Ve()(ca()),Ea=Ve()(ia()),ba=Ve()(ra()),ya=Ve()(na()),Na=Ve()(ta()),ja=Ve()(aa()),Oa=Ve()(ea()),wa=Ve()(Ze()),ka=Ve()(Xe()),Ca=Ve()(Ke()),Sa=(Ve()(Je()),Ve()(Qe())),Aa=(Ve()(We()),Ve()(Ye())),Ta=function(e){var a=Object(He.a)(),t=Object(o.d)((function(e){return e.authorization})),n=Object(o.d)((function(e){return e.profile})),i=Object(o.c)(),c=function(e){switch(Q("spaceChange",!0,""),e){case"readAuthentication":return s();case"authenticate":return l();case"isAdmin":return d();default:return!0}},l=function(){return m("asset")},s=function(){return m("asset",!1)},m=function(){var n=Object(Be.a)(ze.a.mark((function n(r){var c,l,o,s,m,d=arguments;return ze.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=!(d.length>1&&void 0!==d[1])||d[1],Q("spaceChange",!0,e.match.params.asset),!t.isAuth){n.next=4;break}return n.abrupt("return",!0);case 4:if(l="mirror_".concat(e.match.params.asset),o=e.cookies.get(l),"/auth/".concat(e.match.params.asset),!o){n.next=15;break}return n.next=10,a.query({query:ua,variables:{key:o,asset:e.match.params.asset}});case 10:s=n.sent,(null===(m=s.data)||void 0===m?void 0:m.session)?i(fe({isAuth:!0,token:m.session.token,secret:"",firstName:m.session.firstName,lastName:m.session.lastName,email:m.session.email})):(e.cookies.remove(l),c&&(Q("notification",!0,{type:"failure",message:"Invalid session token",duration:3e3}),u(e.match.params.asset))),n.next=20;break;case 15:if(!c){n.next=19;break}u(e.match.params.asset),n.next=20;break;case 19:return n.abrupt("return",!0);case 20:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),d=function(){return p(),!1},u=function(a){e.history.push("/".concat(a,"/login/home"))},p=function(){e.history.push("/".concat(n.asset,"/unauthorized"))};return r.a.createElement(r.a.Fragment,null,function(){var a;return null===(a=e.middleware)||void 0===a||a.forEach((function(e){if(!c(e))return!1})),!0}()&&r.a.createElement(e.component,Object.assign({},e,{profile:n,asset:e.match.params.asset})))},_a=function(){return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"Unauthorized")},Pa=(t(378),t(74)),xa=t(210),Ia=t.n(xa),Ra=(t(478),t(479),t(480),function(e){var a=Object(n.useState)(!0),t=Object(N.a)(a,2),i=t[0],c=t[1];return r.a.createElement("div",{className:e.bubble?"oak-editor bubble":"oak-editor"},r.a.createElement("label",null,e.label),r.a.createElement(Ia.a,{value:e.data[e.id],onChange:function(a,t,n){"api"===n&&i?c(!1):e.handleChange({target:{name:e.id,value:a}})},theme:e.bubble?"bubble":"snow",modules:{toolbar:[["bold","italic","underline","strike",{align:"left"},{align:"center"},{align:"right"},{align:"justify"},{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"},{color:[]},{background:[]},"code-block",{header:[1,2,3,4,5,6,!1]},{font:[]},"image"]]},formats:["header","bold","italic","underline","strike","blockquote","list","bullet","indent","color","font","code-block","link","image","background","align"]}),e.errorData&&e.errorData[e.id]&&r.a.createElement("div",{className:"text-field-error"},r.a.createElement("i",{className:"material-icons"},"warning"),e.errorData[e.id]))}),Fa=(t(127),function(e){return r.a.createElement(r.a.Fragment,null,!e.parentNode&&e.category&&r.a.createElement("div",{className:"category-tree-link-child",onClick:e.handleChange},r.a.createElement("div",{className:"typography-5"},e.category.name)),e.parentNode&&e.category&&r.a.createElement("div",{className:"category-tree-link-parent"},r.a.createElement("div",{className:"typography-5 align-horizontal"},e.category.name,r.a.createElement("div",{className:"typography-4 space-left-2 current-node-label"},"chosen")),r.a.createElement("i",{className:"material-icons",onClick:e.handleChange},"call_made")))}),Da=function(e){var a,t=Object(He.c)(ja),i=(t.loading,t.error,t.data),c=Object(n.useState)(),l=Object(N.a)(c,2),o=l[0],s=l[1];return Object(n.useEffect)((function(){var a;(null===i||void 0===i?void 0:i.articleCategories)&&(null===(a=e.category)||void 0===a?void 0:a.id)?s(i.articleCategories.filter((function(a){var t;return a.parentCategoryId===(null===(t=e.category)||void 0===t?void 0:t.id)}))):(null===i||void 0===i?void 0:i.articleCategories)&&s(i.articleCategories.filter((function(e){return!e.parentCategoryId})))}),[e.category,i]),r.a.createElement("div",{className:"category-tree-list"},r.a.createElement("div",{className:"category-list"},r.a.createElement(Fa,{category:e.category,key:null===(a=e.category)||void 0===a?void 0:a.id,parentNode:!0,handleChange:function(){var a;return e.handleChange(null===(a=e.category)||void 0===a?void 0:a.parentCategoryId)}}),null===o||void 0===o?void 0:o.map((function(a){return r.a.createElement(Fa,{category:a,key:a.id,handleChange:function(){return e.handleChange(a.id)}})}))))},La=function(e){var a=Object(n.useState)(),t=Object(N.a)(a,2),i=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(N.a)(l,2),s=o[0],m=o[1];Object(n.useEffect)((function(){e.category&&e.categories?c([{name:"all"}].concat(Object(ae.a)(d(e.category)))):c([{name:"..."}])}),[e.category,e.categories]);var d=function a(t){var n=e.categories.find((function(e){return e.id===t.parentCategoryId}));return n?[].concat(Object(ae.a)(a(n)),[t]):[t]};return r.a.createElement("div",{className:"category-tree"},r.a.createElement("div",{className:"node-structure"},r.a.createElement("i",{className:"material-icons"},"label_important"),i&&i.map((function(a,t){return r.a.createElement("div",{key:a.id||t,className:"tree-node"},(t===i.length-1||e.choosable&&!s)&&r.a.createElement("div",{className:"category-name typography-5",key:a.id},a.name),t!==i.length-1&&(!e.choosable||s)&&r.a.createElement("div",{className:"category-name typography-5 hyperlink",key:a.id,onClick:function(){return e.handleChange(a.id)}},a.name),t!==i.length-1&&r.a.createElement("div",{className:"category-relation"},r.a.createElement("i",{className:"material-icons"},"keyboard_arrow_right")))})),e.choosable&&!s&&r.a.createElement("div",{className:"hyperlink-container align-horizontal action-link space-left-1"},r.a.createElement("i",{className:"material-icons"},"edit"),r.a.createElement("div",{className:"hyperlink",onClick:function(){return m(!0)}},"Change")),e.choosable&&s&&r.a.createElement("div",{className:"hyperlink-container align-horizontal action-link space-left-1"},r.a.createElement("i",{className:"material-icons"},"close"),r.a.createElement("div",{className:"hyperlink",onClick:function(){return m(!1)}},"Close"))),r.a.createElement("div",{className:"choose-node-container"},s&&r.a.createElement(Da,{category:e.category,handleChange:e.handleChange})))},Ma=(t(481),function(e){var a,t=Object(n.useState)(Object(Y.a)()),i=Object(N.a)(t,2),c=i[0],l=(i[1],Object(n.useState)(!1)),o=Object(N.a)(l,2),s=o[0],m=o[1],d=Object(n.useState)(Object(be.a)({},c,"")),u=Object(N.a)(d,2),p=u[0],h=u[1],v=Object(n.useState)(void 0),g=Object(N.a)(v,2),f=g[0],E=g[1];Object(n.useEffect)((function(){y(p[c])}),[e.objects]);var b=function(a){m(!1),e.handleAddition(a),h(Object(be.a)({},c,""))},y=function(a){e.elements?E(e.elements.filter((function(e){return e.toLowerCase().includes(a.toLowerCase())}))):E(e.objects.filter((function(e){var t;return null===(t=e.value)||void 0===t?void 0:t.toLowerCase().includes(a.toLowerCase())})))};Object(n.useEffect)((function(){window.addEventListener("click",(function(e){var a;(null===(a=document.getElementById(c))||void 0===a?void 0:a.contains(e.target))||m(!1)}))}),[]);return r.a.createElement("div",{className:"oak-chip-group",id:c},r.a.createElement("div",{className:"search-bar ".concat((null===(a=e.data[e.id])||void 0===a?void 0:a.length)>0?"hide-label":"")},r.a.createElement("div",{className:"chip-group"},e.data[e.id].map((function(a){return r.a.createElement("div",{className:"chip",key:a},a,r.a.createElement("i",{className:"material-icons",onClick:function(){return e.handleRemoval(a)}},"close"))}))),r.a.createElement("form",{method:"GET",onSubmit:function(e){return function(e,a){e.preventDefault(),Ce(a)||b(a)}(e,p[c])},noValidate:!0},r.a.createElement(ye,{id:c,data:p,label:e.label,handleFocus:function(){m(!0)},handleChange:function(e){m(!0),h(Object(be.a)({},e.target.name,e.target.value)),y(e.target.value)},placeholder:e.placeholder}))),s&&f&&f.length>0&&r.a.createElement("div",{className:"results"},e.elements&&(null===f||void 0===f?void 0:f.map((function(a){return r.a.createElement("div",{className:"element",key:a,onClick:function(){return b(a)}},e.elements?a:a.value)}))),e.objects&&(null===f||void 0===f?void 0:f.map((function(a){return r.a.createElement("div",{className:"element",key:a.key,onClick:function(){return b(a.key)}},e.elements?a:a.value)})))))});function $a(){var e=Object(qe.a)(["\n  mutation AddArticle($payload: ArticlePayload!) {\n    addArticle(payload: $payload) {\n      id\n    }\n  }\n"]);return $a=function(){return e},e}var Ua=Object(Pa.a)($a()),za=function(e){var a,t=Object(He.c)(ja),i=(t.loading,t.error,t.data),c=Object(He.b)(Ua),l=Object(N.a)(c,2),o=l[0],s=(l[1].data,Object(n.useState)({title:"",description:"",tags:[],categoryId:"",addTags:[],removeTags:[]})),m=Object(N.a)(s,2),u=m[0],p=m[1],h=Object(n.useState)({title:null,description:null}),v=Object(N.a)(h,2),g=v[0],f=v[1],E=Object(n.useState)({tags:[]}),b=Object(N.a)(E,2),y=b[0],j=b[1];Object(n.useEffect)((function(){p({title:"",description:"",tags:[],addTags:[],removeTags:[],categoryId:e.categoryid})}),[]),Object(n.useEffect)((function(){p(Object(d.a)({},u,{categoryId:e.categoryid}))}),[e.categoryid]),Object(n.useEffect)((function(){return j(Object(d.a)({},y,{tags:[].concat(Object(ae.a)(u.tags),Object(ae.a)(u.addTags)).filter((function(e){return!u.removeTags.includes(e)}))}))}),[u.addTags,u.tags,u.removeTags]);var O=function(e){p(Object(d.a)({},u,Object(be.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"page-header"},r.a.createElement("div",{className:"page-title"},"Create article",r.a.createElement("div",{className:"page-highlight"})),r.a.createElement("div",{className:"action-header position-right"},r.a.createElement(M,{action:function(){var a={title:null,description:""};if(Ce(u.title)&&(a.title="Title cannot be empty"),Ce(u.description)&&(a.description="Description cannot be empty"),f(a),Se(a)){var t={title:u.title,categoryId:u.categoryId,description:u.description,addTags:u.addTags,removeTags:u.removeTags};o({variables:{payload:t}}).then((function(a){e.history.length>2?e.history.goBack():e.history.push("/".concat(e.asset,"/article"))}))}},theme:"primary",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Save"),e.history.length>2&&r.a.createElement(M,{action:function(){e.history.goBack()},theme:"default",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"))),r.a.createElement("div",{className:"create-article-item"},r.a.createElement(La,{category:null===i||void 0===i?void 0:null===(a=i.articleCategories)||void 0===a?void 0:a.find((function(e){return e.id===u.categoryId})),categories:null===i||void 0===i?void 0:i.articleCategories,handleChange:function(e){p(Object(d.a)({},u,{categoryId:e}))},choosable:!0}),u.categoryId&&r.a.createElement("div",{className:"user-form"},r.a.createElement(ye,{label:"Title",data:u,errorData:g,id:"title",handleChange:function(e){return O(e)}}),r.a.createElement(Ra,{label:"Description",data:u,errorData:g,id:"description",handleChange:function(e){return O(e)}}),r.a.createElement(Ma,{handleAddition:function(e){u.tags.includes(e)?p(Object(d.a)({},u,{removeTags:u.removeTags.filter((function(a){return a!==e}))})):p(Object(d.a)({},u,{addTags:[].concat(Object(ae.a)(u.addTags),[e]),removeTags:u.removeTags.filter((function(a){return a!==e}))}))},handleRemoval:function(e){u.tags.includes(e)?p(Object(d.a)({},u,{removeTags:[].concat(Object(ae.a)(u.removeTags),[e]),addTags:u.addTags.filter((function(a){return a!==e}))})):p(Object(d.a)({},u,{addTags:u.addTags.filter((function(a){return a!==e}))}))},elements:["int","lorem","ipsum","dolor","wrsedfdsf","fgfdgyy","ujku","fre546","yudsf","uiasedas","y78sd"],data:y,id:"tags",label:"Tags"})),!u.categoryId&&r.a.createElement("div",{className:"typography-4"},"Choose a category to continue")))},Ba=t(38),Ha=function(e){var a=Object(n.useState)({categoryid:""}),t=Object(N.a)(a,2),i=t[0],c=t[1];return Object(n.useEffect)((function(){c(Ba.parse(e.location.search))}),[]),r.a.createElement("div",{className:"app-page"},r.a.createElement("div",{className:"app-content"},r.a.createElement("div",{className:"app-text"},r.a.createElement(za,{history:e.history,categoryid:i.categoryid,asset:e.asset}))))},qa=(t(482),t(483),t(484),function(e){var a=Object(n.useState)(!1),t=Object(N.a)(a,2),i=t[0],c=t[1];Object(n.useEffect)((function(){i!==e.visible&&(e.visible?c(e.visible):setTimeout((function(){return c(e.visible)}),250))}),[e.visible]),Object(n.useEffect)((function(){return document.addEventListener("keydown",l,!1),function(){return document.removeEventListener("keydown",l,!1)}}),[i]);var l=function(a){27===a.keyCode&&i&&e.toggleVisibility()},o=function(){var a="";return a+=e.noheader?" noheader":"",a+=e.fullscreen?" fullscreen":"",a+=e.donotMobilize?"":" mobilize"};return r.a.createElement(r.a.Fragment,null,i&&r.a.createElement("div",{className:e.visible?"modal-root show ".concat(o()):"modal-root hide ".concat(o())},r.a.createElement("div",{className:"backdrop-fade",onClick:e.toggleVisibility}),r.a.createElement("div",{className:"oak-modal"},r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:e.visible?"container":"container hidetext"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"left"},r.a.createElement("div",{className:"icon"},"N"),r.a.createElement("div",{className:"label one-liner"},e.label)),r.a.createElement("div",{className:"right"},r.a.createElement("div",{onClick:e.toggleVisibility},r.a.createElement("i",{className:"material-icons modal-close-icon"},"close")))),e.children)))))}),Ga=function(e){return r.a.createElement(qa,{visible:e.visible,toggleVisibility:e.toggleVisibility,noheader:!0},r.a.createElement("div",{className:"modal-body typography-8 space-top-4 space-bottom-4 confirmation-text"},e.text?e.text:"Are you sure you want to continue?"),r.a.createElement("div",{className:"modal-footer"},e.children&&e.children,!e.children&&r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{"data-test":"action-close",action:e.toggleVisibility,theme:"default",variant:"appear",align:"left",fa:"fas fa-times"},"No"),r.a.createElement(M,{"data-test":"action-proceed",action:function(){console.log("triggered action"),e.toggleVisibility(),console.log("before action"),e.action(),console.log("after action")},theme:"primary",variant:"disappear",align:"right",fa:"fas fa-check"},"Yes"))))},Va=(t(485),function(e){return r.a.createElement("div",{className:"oak-viewer"},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.children||""}}))}),Ya=function(e){return r.a.createElement("div",{className:"tag-item",onClick:function(a){e.history.push("/".concat(e.asset,"/article/tag?name=").concat(e.name))}},r.a.createElement("div",{className:"tag-content"},r.a.createElement("i",{className:"material-icons"},"local_offer"),e.name))},Wa=function(e){return r.a.createElement("div",{className:"tag-container"},e.tags.map((function(a){return r.a.createElement("div",{key:null===a||void 0===a?void 0:a.id},a&&r.a.createElement(Ya,{name:a.name||"",history:e.history,asset:e.asset}))})))},Qa=function(e){var a=Object(He.b)(Na,{variables:{id:e.article.id}}),t=Object(N.a)(a,1)[0],i=Object(n.useState)(!1),c=Object(N.a)(i,2),l=c[0],o=c[1],s=function(){e.history.goBack()},m=function(){var a=Object(Be.a)(ze.a.mark((function a(){return ze.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t().then((function(){e.history.length>2?s():e.history.push("/".concat(e.asset,"/article/search"))}));case 1:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"view-article-item"},r.a.createElement("div",{className:"page-title"},e.article.title,r.a.createElement("div",{className:"page-subtitle"},r.a.createElement("div",{className:"article-item-actions typography-5"},e.history.length>2&&r.a.createElement("div",{className:"align-horizontal hyperlink-container",onClick:s},r.a.createElement("i",{className:"material-icons typography-6"},"reply"),r.a.createElement("div",{className:"hyperlink"},"Go back")),r.a.createElement("div",{className:"align-horizontal hyperlink-container"},r.a.createElement("i",{className:"material-icons typography-6"},"edit"),r.a.createElement("div",{className:"hyperlink",onClick:function(){e.history.push("/".concat(e.asset,"/article/edit?id=").concat(e.id))}},"Edit")),r.a.createElement("div",{className:"align-horizontal hyperlink-container"},r.a.createElement("i",{className:"material-icons typography-6"},"delete_outline"),r.a.createElement("div",{className:"hyperlink",onClick:function(){o(!0)}},"Delete")))),r.a.createElement("div",{className:"page-highlight"})),r.a.createElement(Wa,{tags:e.article.tags||[],history:e.history,asset:e.asset}),r.a.createElement(Va,null,e.article.description)),r.a.createElement(Ga,{action:function(){return m()},visible:l,toggleVisibility:function(){return o(!l)}}))},Ja=function(e){var a=Object(He.b)(wa),t=Object(N.a)(a,2),i=t[0],c=(t[1].data,Object(He.b)(ka)),l=Object(N.a)(c,2),o=l[0],s=(l[1].data,Object(n.useState)([])),m=Object(N.a)(s,2),d=m[0],u=m[1],p=function(a){d.includes(a)?o({variables:{articleId:e.article.id,type:a}}).then((function(){Q("notification",!0,{type:"success",message:"You have withdrawn your feedback"})})):i({variables:{articleId:e.article.id,type:a}}).then((function(){Q("notification",!0,{type:"success",message:"Thank you for sharing your feedback"})}))};return Object(n.useEffect)((function(){var a;(null===(a=e.article)||void 0===a?void 0:a.feedback)?u(e.article.feedback.map((function(e){return e.type}))):u([])}),[e.article.feedback]),r.a.createElement("div",{className:"action-footer position-right space-top-4 article-feedback"},r.a.createElement("i",{className:"material-icons helpful ".concat(d.includes("helpful")?" active":""),onClick:function(){return p("helpful")}},"thumb_up"),r.a.createElement("i",{className:"material-icons not-helpful ".concat(d.includes("notHelpful")?" active":""),onClick:function(){return p("notHelpful")}},"thumb_down"))},Ka=t(38),Xa=function(e){var a=Object(n.useState)({id:""}),t=Object(N.a)(a,2),i=t[0],c=t[1],l=Object(He.c)(Ea,{variables:{id:i.id},fetchPolicy:"cache-and-network"}),o=l.loading,s=l.error,m=l.data;return Object(n.useEffect)((function(){c(Ka.parse(e.location.search))}),[e.location.search]),r.a.createElement("div",{className:"app-page"},r.a.createElement("div",{className:"app-content"},r.a.createElement("div",{className:"app-text"},o&&r.a.createElement(te,null),!o&&!s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Qa,{history:e.history,id:i.id,asset:e.asset,article:m.article}),r.a.createElement(Ja,{article:m.article})),s&&r.a.createElement("div",{className:"typography-6"},"Article does not exist"))))},Za=(t(486),function(e){var a,t=Object(He.c)(ja).data,i=Object(He.b)(ya),c=Object(N.a)(i,1)[0],l=Object(n.useState)({id:"",title:"",description:"",tags:[],addTags:[],removeTags:[],categoryId:""}),o=Object(N.a)(l,2),s=o[0],m=o[1],u=Object(n.useState)({tags:[]}),p=Object(N.a)(u,2),h=p[0],v=p[1];Object(n.useEffect)((function(){var a,t,n=[];null===(a=e.article.tags)||void 0===a||a.map((function(e){n.push((null===e||void 0===e?void 0:e.name)||"")})),m({id:e.article.id,title:e.article.title,description:e.article.description,categoryId:null===(t=e.article.category)||void 0===t?void 0:t.id,tags:n,addTags:[],removeTags:[]})}),[]),Object(n.useEffect)((function(){return v(Object(d.a)({},h,{tags:[].concat(Object(ae.a)(s.tags),Object(ae.a)(s.addTags)).filter((function(e){return!s.removeTags.includes(e)}))}))}),[s.addTags,s.tags,s.removeTags]);var g=function(e){m(Object(d.a)({},s,Object(be.a)({},e.target.name,e.target.value)))},f=function(e,a){return!Ce(e)||(Q("notification",!0,{type:"failure",message:a,duration:5e3}),!1)},E=function(){var a=Object(Be.a)(ze.a.mark((function a(){var t;return ze.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:f(s.title,"Title is not provided")&&f(s.description,"Provide details for the mentioned title")&&(t={id:e.article.id,title:s.title,description:s.description,addTags:s.addTags,removeTags:s.removeTags,categoryId:s.categoryId},c({variables:{payload:t}}).then((function(a){e.history.length>2&&e.history.goBack()})));case 1:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"page-header"},r.a.createElement("div",{className:"page-title"},"Edit article",r.a.createElement("div",{className:"page-highlight"})),r.a.createElement("div",{className:"action-header position-right"},r.a.createElement(M,{action:E,theme:"primary",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Save"),e.history.length>2&&r.a.createElement(M,{action:function(){e.history.goBack()},theme:"default",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"))),r.a.createElement("div",{className:"create-article-item"},r.a.createElement(La,{category:null===t||void 0===t?void 0:null===(a=t.articleCategories)||void 0===a?void 0:a.find((function(e){return e.id===s.categoryId})),categories:null===t||void 0===t?void 0:t.articleCategories,handleChange:function(e){m(Object(d.a)({},s,{categoryId:e}))},choosable:!0}),r.a.createElement("div",{className:"user-form"},r.a.createElement(ye,{label:"Title",data:s,id:"title",handleChange:function(e){return g(e)}}),r.a.createElement(Ra,{label:"Description",data:s,id:"description",handleChange:g}),r.a.createElement(Ma,{handleAddition:function(e){s.tags.includes(e)?m(Object(d.a)({},s,{removeTags:s.removeTags.filter((function(a){return a!==e}))})):m(Object(d.a)({},s,{addTags:[].concat(Object(ae.a)(s.addTags),[e]),removeTags:s.removeTags.filter((function(a){return a!==e}))}))},handleRemoval:function(e){s.tags.includes(e)?m(Object(d.a)({},s,{removeTags:[].concat(Object(ae.a)(s.removeTags),[e]),addTags:s.addTags.filter((function(a){return a!==e}))})):m(Object(d.a)({},s,{addTags:s.addTags.filter((function(a){return a!==e}))}))},elements:["int","lorem","ipsum","dolor","wrsedfdsf","fgfdgyy","ujku","fre546","yudsf","uiasedas","y78sd"],data:h,id:"tags",label:"Tags"}))))}),et=t(38),at=function(e){var a=Object(n.useState)({id:"",categoryId:""}),t=Object(N.a)(a,2),i=t[0],c=t[1],l=Object(He.c)(Ea,{variables:{id:i.id}}),o=l.loading,s=l.error,m=l.data;return Object(n.useEffect)((function(){c(et.parse(e.location.search))}),[e.location.search]),r.a.createElement("div",{className:"app-page"},r.a.createElement("div",{className:"app-content"},r.a.createElement("div",{className:"app-text"},!o&&!s&&r.a.createElement(Za,{history:e.history,id:i.id,asset:e.asset,article:m.article}),o&&r.a.createElement(te,null))))},tt=(t(55),t(487),function(e){var a=Object(n.useState)(!1),t=Object(N.a)(a,2),i=t[0],c=t[1];function l(){var a,t,n;((null===(a=document.querySelector(e.selector||".oak-infinite-scroll"))||void 0===a?void 0:a.clientHeight)||0)+((null===(t=document.querySelector(e.selector||".oak-infinite-scroll"))||void 0===t?void 0:t.scrollTop)||0)>=((null===(n=document.querySelector(e.selector||".oak-infinite-scroll"))||void 0===n?void 0:n.scrollHeight)||0)&&c(!0)}return Object(n.useEffect)((function(){var a;return null===(a=document.querySelector(e.selector||".oak-infinite-scroll"))||void 0===a||a.addEventListener("scroll",l),function(){var a;return null===(a=document.querySelector(e.selector||".oak-infinite-scroll"))||void 0===a?void 0:a.addEventListener("scroll",l)}}),[]),Object(n.useEffect)((function(){i&&(e.handleChange(),c(!1))}),[i]),r.a.createElement("div",{className:e.selector?"oak-infinite-scroll":"oak-infinite-scroll native-scroll"},e.children)}),nt=(t(488),t(134)),rt=(new Date).getFullYear(),it=function(e){var a,t,n,i,c,l,o,s,m,d;return r.a.createElement("div",{className:"article-link"},r.a.createElement("div",{className:"article-title typography-7"},r.a.createElement("div",{className:"link hyperlink-drama",onClick:function(){e.history.push("/".concat(e.asset,"/article/view?id=").concat(e.article.id))}},null===(a=e.article)||void 0===a?void 0:a.title)),r.a.createElement("div",{className:"article-meta"},(null===(t=e.article)||void 0===t?void 0:t.createdAt)&&r.a.createElement("div",{className:"article-date"},"Published on ",function(e){if(e){var a=new Date(e);return Object(nt.a)(a,a.getFullYear()===rt?"MMM d":"MMM d, yyyy")}return""}(null===(n=e.article)||void 0===n?void 0:n.createdAt)),(null===(i=e.article)||void 0===i?void 0:i.views)>0&&r.a.createElement("div",{className:"article-statistic-chip"},"".concat(null===(c=e.article)||void 0===c?void 0:c.views," ").concat(1===(null===(l=e.article)||void 0===l?void 0:l.views)?"view":"views")),(null===(o=e.article)||void 0===o?void 0:o.helpful)>0&&r.a.createElement("div",{className:"article-statistic-chip helpful"},null===(s=e.article)||void 0===s?void 0:s.helpful,r.a.createElement("i",{className:"material-icons"},"thumb_up")),(null===(m=e.article)||void 0===m?void 0:m.notHelpful)>0&&r.a.createElement("div",{className:"article-statistic-chip not-helpful"},null===(d=e.article)||void 0===d?void 0:d.notHelpful,r.a.createElement("i",{className:"material-icons"},"thumb_down"))),r.a.createElement("div",{className:"article-description typography-4 three-liner"},e.article.description))},ct=function(e){var a,t,n,i,c=Object(He.c)(ga,{variables:{categoryId:e.categoryId,pageSize:10,pageNo:0},fetchPolicy:"cache-and-network"}),l=c.loading,o=c.data,s=c.fetchMore;return r.a.createElement(r.a.Fragment,null,e.categoryId&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section-header"},r.a.createElement("div",{className:"section-title"},"Articles",r.a.createElement("div",{className:"section-subtitle"}),r.a.createElement("div",{className:"section-highlight"})),r.a.createElement("div",null,r.a.createElement(M,{theme:"primary",variant:"regular",action:function(a){e.history.push("/".concat(e.asset,"/article/create?categoryid=").concat(e.categoryId))}},"New article"))),r.a.createElement(tt,{handleChange:function(){var e,a;(null===o||void 0===o?void 0:null===(e=o.articles)||void 0===e?void 0:e.hasMore)&&s({variables:{pageNo:null===o||void 0===o?void 0:null===(a=o.articles)||void 0===a?void 0:a.pageNo},updateQuery:function(e,a){var t=a.fetchMoreResult;return{articles:Object(d.a)({},e.articles,{results:[].concat(Object(ae.a)(e.articles.results),Object(ae.a)(t.articles.results)),pageNo:t.articles.pageNo,hasMore:t.articles.hasMore})}}})},selector:".app-page"},r.a.createElement("div",{className:"article-section"},r.a.createElement("div",{className:"article-list-container"},null===o||void 0===o?void 0:null===(a=o.articles)||void 0===a?void 0:null===(t=a.results)||void 0===t?void 0:t.map((function(a){return r.a.createElement(it,{key:a.id,article:a,asset:e.asset,history:e.history})})),0===(null===o||void 0===o?void 0:null===(n=o.articles)||void 0===n?void 0:null===(i=n.results)||void 0===i?void 0:i.length)&&r.a.createElement("div",{className:"typography-6"},"No articles")),r.a.createElement("div",null,l?r.a.createElement(te,null):"")))))},lt=function(e){var a=Object(n.useState)(0),t=Object(N.a)(a,2),i=t[0],c=t[1],l=Object(n.useState)(0),o=Object(N.a)(l,2),s=o[0],m=o[1],d=function a(t,n){var r=t;r+=n.articles;var i=e.categories.filter((function(e){return e.parentCategoryId===n.id}));return 0===i.length?r:(i.forEach((function(e){r+=a(t,e)})),r)};return Object(n.useEffect)((function(){e.category&&e.categories&&(c(d(0,e.category)),m(e.categories.filter((function(a){return a.parentCategoryId===e.category.id})).length))}),[e.categories,e.category]),r.a.createElement("div",{className:"category-view",onClick:e.handleClick},r.a.createElement("div",{className:"typography-8"},e.category.name),i>0&&r.a.createElement("div",{className:"typography-4"},"".concat(i," articles")),0===i&&r.a.createElement("div",{className:"typography-4"},"No articles"),s>0&&r.a.createElement("div",{className:"typography-4"},"".concat(s," sub categories")))},ot=function(e){var a=Object(He.b)(Oa),t=Object(N.a)(a,1)[0],i=Object(n.useState)({name:""}),c=Object(N.a)(i,2),l=c[0],o=c[1],s=function(a){a.preventDefault();var n={name:l.name,parentCategoryId:e.parentCategoryId};t({variables:{payload:n},update:function(e,a){var t=a.data.addArticleCategory,n=e.readQuery({query:ja});e.writeQuery({query:ja,data:{articleCategories:[].concat(Object(ae.a)(n.articleCategories),[t])}})}}),e.handleClose()};return r.a.createElement("div",{className:"create-category"},r.a.createElement("form",{method:"GET",onSubmit:s,noValidate:!0},r.a.createElement(ye,{data:l,id:"name",handleChange:function(e){o(Object(d.a)({},l,Object(be.a)({},e.target.name,e.target.value)))},label:"Category name"})),r.a.createElement("div",{className:"action-footer"},l.name&&r.a.createElement(M,{theme:"primary",variant:"appear",action:s},"Save"),r.a.createElement(M,{theme:"default",variant:"appear",action:e.handleClose},"Cancel")))},st=function(e){return r.a.createElement("div",{className:"create-category-link",onClick:e.action},r.a.createElement("i",{className:"material-icons"},"add_circle"),r.a.createElement("div",null,"Category"))},mt=function(e){var a,t=Object(He.c)(ja),i=t.loading,c=(t.error,t.data),l=Object(n.useState)(),o=Object(N.a)(l,2),s=o[0],m=o[1],d=Object(n.useState)(!1),u=Object(N.a)(d,2),p=u[0],h=u[1];return Object(n.useEffect)((function(){(null===c||void 0===c?void 0:c.articleCategories)&&e.categoryId?m(c.articleCategories.filter((function(a){return a.parentCategoryId===e.categoryId}))):(null===c||void 0===c?void 0:c.articleCategories)&&m(c.articleCategories.filter((function(e){return!e.parentCategoryId})))}),[e.categoryId,c]),r.a.createElement("div",{className:"category-section"},r.a.createElement("div",{className:"category-section-header"},r.a.createElement("div",{className:"section-title"},"Category",r.a.createElement("div",{className:"section-subtitle"},r.a.createElement("div",{className:"category-subtitle"},r.a.createElement(La,{category:null===c||void 0===c?void 0:null===(a=c.articleCategories)||void 0===a?void 0:a.find((function(a){return a.id===e.categoryId})),categories:null===c||void 0===c?void 0:c.articleCategories,handleChange:e.handleChange}))),r.a.createElement("div",{className:"section-highlight"}))),s&&s.length>0&&r.a.createElement("div",{className:"typography-4"},"Choose a category to explore"),r.a.createElement("div",{className:"category-list"},null===s||void 0===s?void 0:s.map((function(a){return r.a.createElement(lt,{category:a,categories:null===c||void 0===c?void 0:c.articleCategories,key:a.id,handleClick:function(){return e.handleChange(a.id)}})})),!p&&r.a.createElement(st,{action:function(){return h(!0)}}),p&&r.a.createElement(ot,{parentCategoryId:e.categoryId,handleClose:function(){return h(!1)}})),e.categoryId&&r.a.createElement("div",{className:"section-close"}),r.a.createElement("div",null,i?r.a.createElement(te,null):""))},dt=t(38),ut=function(e){var a=Object(n.useState)({categoryid:""}),t=Object(N.a)(a,2),i=t[0],c=t[1];Object(n.useEffect)((function(){c(dt.parse(e.location.search))}),[e.location.search]);return r.a.createElement("div",{className:"app-page"},r.a.createElement("div",{className:"app-content"},r.a.createElement("div",{className:"app-text browse-article"},r.a.createElement("div",{className:"page-title"},"Browse articles by category",r.a.createElement("div",{className:"page-subtitle"},r.a.createElement("div",{className:"browse-article-subtitle"},r.a.createElement("div",{className:"hyperlink",onClick:function(a){e.history.push("/".concat(e.asset,"/article/search"))}},"Or search instead"))),r.a.createElement("div",{className:"page-highlight"})),r.a.createElement("div",{className:"typography-4"},"Articles are grouped based on a logical hierarchy for easier navigation. Here you can explore the articles by narrowing down your search context in the predefined category structure"),r.a.createElement("div",{className:"section-close"}),r.a.createElement(mt,{categoryId:i.categoryid,handleChange:function(a){e.history.push({pathname:e.location.pathname,search:a?"?categoryid=".concat(a):""})},history:e.history,asset:e.asset}),r.a.createElement(ct,{categoryId:i.categoryid,history:e.history,asset:e.asset}))))},pt=(t(128),function(e){var a=function(a){e.history.push("/".concat(e.asset,"/post"))};return r.a.createElement("div",{className:"search-alternate-section"},r.a.createElement("div",{className:"typography-4 no-article-match-message"},"No articles found matching your search criteria"),r.a.createElement("div",{className:"section-title"},"Here is what you can do next",r.a.createElement("div",{className:"section-subtitle"},"Other ways of getting answer"),r.a.createElement("div",{className:"section-highlight"})),r.a.createElement("div",{className:"no-article-match-action"},r.a.createElement("div",{className:"hyperlink",onClick:function(a){e.history.push("/".concat(e.asset,"/article/browse"))}},"Browse articles by category"),r.a.createElement("div",{className:"hyperlink",onClick:a},"Search posts from other users"),r.a.createElement("div",{className:"hyperlink",onClick:a},"Submit your question")))}),ht=function(e){var a,t,i,c,l,o,s,m,u=Object(n.useState)({text:""}),p=Object(N.a)(u,2),h=p[0],v=p[1],g=Object(He.c)(fa,{variables:{text:e.text,pageSize:10,pageNo:0}}),f=g.loading,E=(g.error,g.data),b=g.fetchMore,y=g.refetch;Object(n.useEffect)((function(){v({text:e.text||""}),y()}),[e.text]);return r.a.createElement("div",{className:"search-section"},r.a.createElement("form",{method:"GET",onSubmit:function(a){a.preventDefault(),h.text&&e.handleSearchTextChange(h.text)},noValidate:!0},r.a.createElement(ye,{data:h,id:"text",handleChange:function(e){v(Object(d.a)({},h,Object(be.a)({},e.target.name,e.target.value)))},label:"Type your question"})),r.a.createElement(tt,{handleChange:function(){var e,a;(null===E||void 0===E?void 0:null===(e=E.searchArticles)||void 0===e?void 0:e.hasMore)&&b({variables:{pageNo:null===E||void 0===E?void 0:null===(a=E.searchArticles)||void 0===a?void 0:a.pageNo},updateQuery:function(e,a){var t=a.fetchMoreResult;return{searchArticles:Object(d.a)({},e.searchArticles,{results:[].concat(Object(ae.a)(e.searchArticles.results),Object(ae.a)(t.searchArticles.results)),pageNo:t.searchArticles.pageNo,hasMore:t.searchArticles.hasMore})}}})},selector:".app-page"},r.a.createElement("div",{className:"search-results-section"},r.a.createElement("div",{className:"search-results-container"},(null===E||void 0===E?void 0:null===(a=E.searchArticles)||void 0===a?void 0:null===(t=a.results)||void 0===t?void 0:t.length)>0&&r.a.createElement("div",{className:"section-title"},"Search results",r.a.createElement("div",{className:"section-subtitle"},'Showing results for "',e.text,'"'),null===E||void 0===E?void 0:null===(i=E.searchArticles)||void 0===i?void 0:null===(c=i.results)||void 0===c?void 0:c.total,r.a.createElement("div",{className:"section-highlight"})),null===E||void 0===E?void 0:null===(l=E.searchArticles)||void 0===l?void 0:null===(o=l.results)||void 0===o?void 0:o.map((function(a){return r.a.createElement(it,{key:a.id,article:a,asset:e.asset,history:e.history})})),0===(null===E||void 0===E?void 0:null===(s=E.searchArticles)||void 0===s?void 0:null===(m=s.results)||void 0===m?void 0:m.length)&&e.text&&!f&&r.a.createElement(pt,{history:e.history,asset:e.asset})),r.a.createElement("div",null,f?r.a.createElement(te,null):""))))},vt=t(38),gt=function(e){var a=Object(n.useState)({text:""}),t=Object(N.a)(a,2),i=t[0],c=t[1];Object(n.useEffect)((function(){c(vt.parse(e.location.search))}),[e.location.search]);return r.a.createElement("div",{className:"app-page"},r.a.createElement("div",{className:"app-content"},r.a.createElement("div",{className:"app-text browse-article"},r.a.createElement("div",{className:"page-title"},"Search articles",r.a.createElement("div",{className:"page-subtitle"},r.a.createElement("div",{className:"browse-article-subtitle"},r.a.createElement("div",{className:"hyperlink",onClick:function(a){e.history.push("/".concat(e.asset,"/article/browse"))}},"Or Browse by category instead"))),r.a.createElement("div",{className:"page-highlight"})),r.a.createElement(ht,{asset:e.asset,history:e.history,text:i.text,handleSearchTextChange:function(a){e.history.push("/".concat(e.asset,"/article/search?text=").concat(a))}}))))},ft=(t(94),function(e){return r.a.createElement("div",{className:"tag-link"},r.a.createElement("div",{className:"hyperlink-drama",onClick:e.handleClick},e.tag.name," "),r.a.createElement("div",null,"\xa0(".concat(e.tag.count,")")))}),Et=function(e){var a,t=Object(He.c)(Ca,{fetchPolicy:"cache-and-network"}).data;return r.a.createElement("div",{className:"app-content"},r.a.createElement("div",{className:"app-text"},r.a.createElement("div",{className:"page-title"},"Articles by tag",r.a.createElement("div",{className:"page-subtitle"},r.a.createElement("div",{className:"browse-article-subtitle"},r.a.createElement("div",{className:"hyperlink",onClick:function(a){e.history.push("/".concat(e.asset,"/article/search"))}},"Or Search instead"))),r.a.createElement("div",{className:"page-highlight"})),r.a.createElement("div",{className:"tag-section"},null===t||void 0===t?void 0:null===(a=t.tagCloud)||void 0===a?void 0:a.map((function(a){return r.a.createElement(ft,{key:a.name,tag:a,handleClick:function(){return e.handleChange(a.name)}})})))))},bt=function(e){var a,t,n=Object(He.c)(ba,{variables:{tag:e.tag,pageSize:10,pageNo:0},fetchPolicy:"cache-and-network"}),i=n.loading,c=(n.error,n.data),l=n.fetchMore;n.refetch;return r.a.createElement("div",{className:"app-content"},r.a.createElement("div",{className:"app-text"},r.a.createElement("div",{className:"page-title"},"Articles by tag",r.a.createElement("div",{className:"page-subtitle"},'Showing articles for tag "',e.tag,'"',r.a.createElement("div",{className:"tag-article-section-action"},r.a.createElement("div",{className:"align-horizontal hyperlink-container"},r.a.createElement("i",{className:"material-icons typography-6"},"reply"),r.a.createElement("div",{className:"hyperlink",onClick:function(){e.history.goBack()}},"Go back")),r.a.createElement("div",{className:"align-horizontal hyperlink-container see-other-tags"},r.a.createElement("i",{className:"material-icons typography-6"},"local_offer"),r.a.createElement("div",{className:"hyperlink",onClick:function(a){e.history.push("/".concat(e.asset,"/article/tag"))}},"See other tags")))),r.a.createElement("div",{className:"page-highlight"})),r.a.createElement("div",{className:"tag-article-section"},r.a.createElement(tt,{handleChange:function(){var e,a;(null===c||void 0===c?void 0:null===(e=c.articlesByTag)||void 0===e?void 0:e.hasMore)&&l({variables:{pageNo:null===c||void 0===c?void 0:null===(a=c.articlesByTag)||void 0===a?void 0:a.pageNo},updateQuery:function(e,a){var t=a.fetchMoreResult;return{articlesByTag:Object(d.a)({},e.articlesByTag,{results:[].concat(Object(ae.a)(e.articlesByTag.results),Object(ae.a)(t.articlesByTag.results)),pageNo:t.articlesByTag.pageNo,hasMore:t.articlesByTag.hasMore})}}})},selector:".app-page"},r.a.createElement("div",{className:"search-results-section"},r.a.createElement("div",{className:"search-results-container"},null===c||void 0===c?void 0:null===(a=c.articlesByTag)||void 0===a?void 0:null===(t=a.results)||void 0===t?void 0:t.map((function(a,t){var n;return r.a.createElement("div",{key:(null===a||void 0===a?void 0:null===(n=a.article)||void 0===n?void 0:n.id)||t},(null===a||void 0===a?void 0:a.article)&&r.a.createElement(it,{article:a.article,asset:e.asset,history:e.history}))}))),r.a.createElement("div",null,i?r.a.createElement(te,null):""))))))},yt=t(38),Nt=function(e){var a=Object(n.useState)({name:""}),t=Object(N.a)(a,2),i=t[0],c=t[1];Object(n.useEffect)((function(){c(yt.parse(e.location.search))}),[e.location.search]);return r.a.createElement("div",{className:"app-page"},!i.name&&r.a.createElement(Et,{handleChange:function(a){e.history.push("/".concat(e.asset,"/article/tag?name=").concat(a))},asset:e.asset,history:e.history}),i.name&&r.a.createElement(bt,{tag:i.name,asset:e.asset,history:e.history}))};function jt(){var e=Object(qe.a)(["\n  mutation createAsset(\n    $payload: AssetPayload!\n    $addition: AssetAdditionPayload!\n  ) {\n    createAsset(payload: $payload, addition: $addition) {\n      id\n    }\n  }\n"]);return jt=function(){return e},e}var Ot=Object(Pa.a)(jt()),wt=function(e){var a=Object(n.useState)("assetdetails"),t=Object(N.a)(a,2),i=(t[0],t[1]),c=Object(He.b)(Ot),l=Object(N.a)(c,2),o=l[0],s=(l[1].data,Object(n.useState)({name:"",description:"",email:"",jwtPassword:""})),m=Object(N.a)(s,2),u=m[0],p=m[1],h=Object(n.useState)({name:"",description:"",email:"",jwtPassword:""}),v=Object(N.a)(h,2),g=v[0],f=v[1],E=function(e){p(Object(d.a)({},u,Object(be.a)({},e.target.name,e.target.value)))},b=function(e){var a={name:"",description:"",email:"",jwtPassword:""};if(Ce(u.name)&&(a.name="Name cannot be empty"),Ce(u.description)&&(a.description="Description cannot be empty"),Ce(u.email)&&(a.email="Email cannot be empty"),Ce(u.jwtPassword)&&(a.jwtPassword="JWT Password cannot be empty"),/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(u.email.trim().toLowerCase())||(a.email="Invalid email"),f(a),Se(a)){var t={name:u.name,description:u.description,jwtPassword:u.jwtPassword},n={email:u.email.trim().toLowerCase()};o({variables:{payload:t,addition:n}}).then((function(e){e.data.createAsset.id?(i("created"),Q("login-notification",!0,{type:"main",message:"Your asset has been setup. Token details will be sent to your email. Please check your email for further instructions"})):Q("notification",!0,{type:"failure",message:"Unknown error"})})).finally((function(){f(a),Q("spinner",!1)}))}else f(a),Q("spinner",!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"page-header"},r.a.createElement("div",{className:"page-title"},"Create Asset",r.a.createElement("div",{className:"page-highlight"})),r.a.createElement("div",{className:"action-header position-right"},r.a.createElement(M,{action:b,theme:"primary",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Save"),e.history.length>2&&r.a.createElement(M,{action:function(){e.history.goBack()},theme:"default",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"))),r.a.createElement("div",{className:"create-article-item"},r.a.createElement("div",{className:"user-form"},r.a.createElement(ye,{label:"Asset Name",data:u,errorData:g,id:"name",handleChange:function(e){return E(e)}}),r.a.createElement(ye,{label:"Description",data:u,errorData:g,id:"description",multiline:!0,handleChange:function(e){return E(e)}}),r.a.createElement(ye,{label:"Email",data:u,errorData:g,id:"email",handleChange:function(e){return E(e)}}),r.a.createElement("div",{className:"typography-3"},"This email is used for sending first time login information with Administrative rights to this asset. You will be sent with a login token that you can use to setup the asset. You can add more administrator accounts once you login with the provided link."),r.a.createElement(ye,{label:"JWT Password",data:u,errorData:g,id:"jwtPassword",handleChange:function(e){return E(e)}}),r.a.createElement("div",{className:"typography-3"},"Make a note of this password. You need this password to setup redirection from your host application. This is the password that is used to securely transmit or redirect user information from host application to mirror. Use this password in your host application while creating a JWT token to transmit information to mirror."))))},kt=function(e){return r.a.createElement("div",{className:"app-page"},r.a.createElement("div",{className:"app-content"},r.a.createElement("div",{className:"app-text"},r.a.createElement(wt,{history:e.history}))))},Ct=(t(489),function(e){return r.a.createElement(r.a.Fragment,null,e.asset&&r.a.createElement("div",{className:"view-asset-item"},r.a.createElement("div",{className:"page-title"},"Asset details",r.a.createElement("div",{className:"page-subtitle"},r.a.createElement("div",{className:"asset-item-actions typography-5"},r.a.createElement("div",{className:"align-horizontal hyperlink-container"},r.a.createElement("i",{className:"material-icons typography-6"},"edit"),r.a.createElement("div",{className:"hyperlink",onClick:function(){e.history.push("/".concat(e.asset.assetId,"/asset/edit"))}},"Edit")),r.a.createElement("div",{className:"align-horizontal hyperlink-container"},r.a.createElement("i",{className:"material-icons typography-6"},"delete_outline"),r.a.createElement("div",{className:"hyperlink",onClick:function(){console.log("To Be implemented")}},"Delete")))),r.a.createElement("div",{className:"page-highlight"})),r.a.createElement("div",{className:"page-title"},e.asset.name),r.a.createElement(Va,null,e.asset.description)),!e.asset&&r.a.createElement("div",{className:"typography-6"},"Asset does not exist"))}),St=function(e){var a=Object(He.c)(Sa,{variables:{assetId:e.match.params.asset}}),t=a.loading,n=a.error,i=a.data;return r.a.createElement("div",{className:"app-page"},r.a.createElement("div",{className:"app-content"},r.a.createElement("div",{className:"app-text"},t&&r.a.createElement(te,null),!t&&!n&&r.a.createElement(Ct,{history:e.history,asset:i.asset}),n&&r.a.createElement("div",{className:"typography-6"},"Asset does not exist"))))},At=(t(490),function(e){var a=Object(He.b)(Aa),t=Object(N.a)(a,1)[0],i=Object(n.useState)({id:"",name:"",description:"",jwtPassword:"",productionMode:""}),c=Object(N.a)(i,2),l=c[0],o=c[1],s=Object(n.useState)({id:"",name:"",description:"",jwtPassword:""}),m=Object(N.a)(s,2),u=m[0],p=m[1];Object(n.useEffect)((function(){e.asset&&o({id:e.id,name:e.assetData.name,description:e.assetData.description,productionMode:e.assetData.productionMode,jwtPassword:e.assetData.jwtPassword})}),[]);var h=function(e){o(Object(d.a)({},l,Object(be.a)({},e.target.name,e.target.value)))},v=function(){var a=Object(Be.a)(ze.a.mark((function a(){var n,r;return ze.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n={name:"",description:"",email:"",jwtPassword:""},Ce(l.name)&&(n.name="Name cannot be empty"),Ce(l.description)&&(n.description="Description cannot be empty"),Ce(l.jwtPassword)&&(n.jwtPassword="JWT Password cannot be empty"),/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(l.email.trim().toLowerCase())||(n.email="Invalid email"),p(n),Se(n)&&(r={id:e.assetData.id,name:l.name,description:l.description,jwtPassword:l.jwtPassword,productionMode:l.productionMode},t({variables:{payload:r}}).then((function(a){e.history.length>2&&e.history.goBack()})));case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),g=function(){var a={id:e.assetData.id,productionMode:!l.productionMode};t({variables:{payload:a}}).then((function(a){a.data.updateAsset.id&&e.history.go()}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"page-header"},e.asset&&r.a.createElement("div",{className:"page-title"},r.a.createElement("div",{className:"align-horizontal"},"Edit Asset",r.a.createElement("div",{className:"asset-status-container space-left-1 typography-4"},!l.productionMode&&r.a.createElement("div",{className:"asset-status down"},"down"),l.productionMode&&r.a.createElement("div",{className:"asset-status live"},"live"))),r.a.createElement("div",{className:"page-subtitle"},!l.productionMode&&r.a.createElement("div",{className:"align-horizontal"},"To activate asset, \xa0",r.a.createElement("div",{className:"hyperlink",onClick:g},"turn on production mode")),l.productionMode&&r.a.createElement("div",{className:"align-horizontal"},"To activate asset, \xa0",r.a.createElement("div",{className:"hyperlink",onClick:g},"turn off production mode"))),r.a.createElement("div",{className:"page-highlight"})),e.assetData&&r.a.createElement("div",{className:"action-header position-right"},r.a.createElement(M,{action:v,theme:"primary",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Save"),e.history.length>2&&r.a.createElement(M,{action:function(){e.history.goBack()},theme:"default",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"))),e.asset&&r.a.createElement("div",{className:"create-article-item"},r.a.createElement("div",{className:"user-form"},r.a.createElement(ye,{label:"Asset Name",data:l,errorData:u,id:"name",handleChange:function(e){return h(e)}}),r.a.createElement(ye,{label:"Description",data:l,errorData:u,id:"description",multiline:!0,handleChange:h}),r.a.createElement(ye,{label:"JWTPassword",data:l,errorData:u,id:"jwtPassword",type:"password",handleChange:function(e){return h(e)}}))),!e.assetData&&r.a.createElement("div",{className:"typography-6"},"Asset does not exist"))}),Tt=function(e){var a=Object(He.c)(Sa,{variables:{assetId:e.match.params.asset}}),t=a.loading,n=a.error,i=a.data;return r.a.createElement("div",{className:"app-page"},r.a.createElement("div",{className:"app-content"},r.a.createElement("div",{className:"app-text"},!t&&!n&&r.a.createElement(At,{asset:e.asset,history:e.history,id:e.match.params.asset,assetData:i.asset}),n&&r.a.createElement("div",{className:"typography-6"},"Asset does not exist"))))},_t=t(38),Pt=function(e){var a=Object(n.useState)({space:""}),t=Object(N.a)(a,2),i=t[0],c=t[1],l=Object(n.useState)({space:""}),o=Object(N.a)(l,2),s=o[0],m=o[1];Object(n.useEffect)((function(){var a=_t.parse(e.location.search);a.space&&(window.location.href="".concat("https://oneauth.ioak.org","/#/space/").concat(a.space,"/login?type=signin&appId=").concat("77c6669d55b862038fc06d72","&asset=").concat(e.asset))}),[]);return r.a.createElement("div",{className:"app-page"},r.a.createElement("div",{className:"app-content"},r.a.createElement("div",{className:"app-text"},r.a.createElement("div",{className:"view-asset-item"},r.a.createElement("div",{className:"page-title"},"Login Details"),r.a.createElement("div",{className:"action-header position-right"},r.a.createElement(M,{action:function(){var a={space:""};Ce(i.space)&&(a.space="Space cannot be empty"),m(a),Se(a)&&(window.location.href="".concat("https://oneauth.ioak.org","/#/space/").concat(i.space,"/login?type=signin&appId=").concat("77c6669d55b862038fc06d72","&asset=").concat(e.asset))},theme:"primary",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Submit"),e.history.length>2&&r.a.createElement(M,{action:function(){e.history.goBack()},theme:"default",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel")),r.a.createElement(ye,{label:"Space",data:i,errorData:s,id:"space",handleChange:function(e){return a=e,void c(Object(d.a)({},i,Object(be.a)({},a.target.name,a.target.value)));var a}})))))},xt=(t(491),function(e){var a=Object(He.a)(),t=Object(n.useState)({email:""}),i=Object(N.a)(t,2),c=i[0],l=i[1],o=Object(n.useState)({email:""}),s=Object(N.a)(o,2),m=s[0],u=s[1],p=Object(n.useState)(!1),h=Object(N.a)(p,2),v=h[0],g=h[1],f=Object(n.useState)(""),E=Object(N.a)(f,2),b=E[0],y=E[1],j=function(){var t=Object(Be.a)(ze.a.mark((function t(n){var r,i,l;return ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r={email:""},Ce(c.email)&&(r.email="Email cannot be empty"),/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(c.email.trim().toLowerCase())||(r.email="Invalid email"),u(r),!Se(r)){t.next=11;break}return t.next=8,a.query({query:pa,variables:{email:c.email}});case 8:i=t.sent,(null===(l=i.data)||void 0===l?void 0:l.newEmailSession)?(y(null===l||void 0===l?void 0:l.newEmailSession.sessionId),g(!0)):e.newAccount();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,v&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"page-header"},r.a.createElement("div",{className:"page-title"},"Email authentication",r.a.createElement("div",{className:"page-subtitle"},"You will receive an authentication token to your email"),r.a.createElement("div",{className:"page-highlight"}))),r.a.createElement("div",{className:"typhography-4 hyperlink-inline"},"Authentication token is generated and sent to your email. You can click on the login link from your email instruction or copy paste"," ",b," the token id\xa0",r.a.createElement("div",{className:"hyperlink",onClick:function(){return e.tokenLogin()}},"here"))),!v&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"page-header"},r.a.createElement("div",{className:"page-title"},"Email authentication",r.a.createElement("div",{className:"page-subtitle"},"You will receive an authentication token to your email"),r.a.createElement("div",{className:"page-highlight"})),r.a.createElement("div",{className:"action-header position-right"},r.a.createElement(M,{action:j,theme:"primary",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Submit"),e.history.length>2&&r.a.createElement(M,{action:function(){e.history.goBack()},theme:"default",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"))),r.a.createElement("form",{method:"GET",onSubmit:j,noValidate:!0},r.a.createElement(ye,{label:"Email",data:c,errorData:m,id:"email",handleChange:function(e){return a=e,void l(Object(d.a)({},c,Object(be.a)({},a.target.name,a.target.value)));var a}})),r.a.createElement("div",{className:"email-login-footer"},r.a.createElement("div",null,"or"),r.a.createElement("div",{className:"hyperlink",onClick:function(){return e.tokenLogin()}},"Enter authentication token, if you already have one"))))}),It=function(e){var a=Object(He.b)(va),t=Object(N.a)(a,1)[0],i=Object(n.useState)({email:"",firstName:"",lastName:""}),c=Object(N.a)(i,2),l=c[0],o=c[1],s=Object(n.useState)({email:"",firstName:"",lastName:""}),m=Object(N.a)(s,2),u=m[0],p=m[1],h=Object(n.useState)(!1),v=Object(N.a)(h,2),g=v[0],f=v[1],E=function(e){o(Object(d.a)({},l,Object(be.a)({},e.target.name,e.target.value)))},b=function(e){console.log("*********"),e.preventDefault();var a={email:"",firstName:"",lastName:""};if(Ce(l.firstName)&&(a.firstName="First name cannot be empty"),Ce(l.lastName)&&(a.lastName="Last name cannot be empty"),Ce(l.email)&&(a.email="Email cannot be empty"),/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(l.email.trim().toLowerCase())||(a.email="Invalid email"),p(a),Se(a)){var n={firstName:l.firstName,lastName:l.lastName,email:l.email};t({variables:{payload:n}}).then((function(){f(!g)}))}};return r.a.createElement(r.a.Fragment,null,g&&r.a.createElement("div",{className:"typhography-4"},"Thank you for creating account. You are ready to go! follow the instruction provided in the email or click on",r.a.createElement("div",{className:"hyperlink",onClick:function(){return e.emailLogin()}},"Login with email")),!g&&r.a.createElement("form",{method:"GET",onSubmit:b,noValidate:!0},r.a.createElement("div",{className:"page-header"},r.a.createElement("div",{className:"page-title"},"Email authentication",r.a.createElement("div",{className:"page-subtitle"},"You don't have an user account yet. Signup now"),r.a.createElement("div",{className:"page-highlight"})),r.a.createElement("div",{className:"action-header position-right"},r.a.createElement(M,{action:b,theme:"primary",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Save"),e.history.length>2&&r.a.createElement(M,{action:function(){e.history.goBack()},theme:"default",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"))),r.a.createElement("div",{className:"user-form"},r.a.createElement(ye,{label:"First Name",data:l,errorData:u,id:"firstName",handleChange:function(e){return E(e)}}),r.a.createElement(ye,{label:"Last name",data:l,errorData:u,id:"lastName",handleChange:function(e){return E(e)}}),r.a.createElement(ye,{label:"Email",data:l,errorData:u,id:"email",handleChange:function(e){return E(e)}}))))},Rt=function(e){var a=Object(n.useState)({token:""}),t=Object(N.a)(a,2),i=t[0],c=t[1],l=Object(n.useState)({token:""}),o=Object(N.a)(l,2),s=o[0],m=o[1];Object(n.useEffect)((function(){e.queryParam.auth_token&&(console.log(e.queryParam.auth_token),e.cookies.set("mirror_".concat(e.asset),"email ".concat(e.queryParam.auth_token)),e.history.push("/".concat(e.asset,"/home")))}),[e.queryParam]);var u=function(a){a.preventDefault();var t={token:""};Ce(i.token)&&(t.token="Token cannot be empty"),m(t),Se(t)&&e.history.push("/".concat(e.asset,"/login/email?type=token&auth_token=").concat(i.token))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"page-header"},r.a.createElement("div",{className:"page-title"},"Email authentication",r.a.createElement("div",{className:"page-subtitle"},"You would have received an authentication token in your email"),r.a.createElement("div",{className:"page-highlight"})),r.a.createElement("div",{className:"action-header position-right"},r.a.createElement(M,{action:u,theme:"primary",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Submit"),e.history.length>2&&r.a.createElement(M,{action:function(){e.history.goBack()},theme:"default",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"))),r.a.createElement("form",{method:"GET",onSubmit:u,noValidate:!0},r.a.createElement(ye,{label:"Token",data:i,errorData:s,id:"token",handleChange:function(e){return a=e,void c(Object(d.a)({},i,Object(be.a)({},a.target.name,a.target.value)));var a}})),r.a.createElement("div",{className:"email-login-footer"},r.a.createElement("div",null,"or"),r.a.createElement("div",{className:"hyperlink",onClick:function(){return e.emailLogin()}},"Get a token to your email, if you did not receive one")))},Ft=t(38),Dt=function(e){var a=Object(n.useState)({type:"email"}),t=Object(N.a)(a,2),i=t[0],c=t[1],l=Object(n.useState)({}),o=Object(N.a)(l,2),s=o[0],m=o[1];Object(n.useEffect)((function(){var a=Ft.parse(e.location.search);a.type?c({type:a.type}):c({type:"email"}),m(a)}),[e.location.search]);var d=function(){e.history.push("/".concat(e.asset,"/login/email?type=email"))};return r.a.createElement("div",{className:"app-page"},r.a.createElement("div",{className:"app-content"},r.a.createElement("div",{className:"app-text"},r.a.createElement("div",{className:"view-asset-item"},"email"===i.type&&r.a.createElement(xt,{history:e.history,tokenLogin:function(){e.history.push("/".concat(e.asset,"/login/email?type=token"))},newAccount:function(){e.history.push("/".concat(e.asset,"/login/email?type=new"))}}),"token"===i.type&&r.a.createElement(Rt,{history:e.history,emailLogin:d,asset:e.asset,queryParam:s,cookies:e.cookies}),"new"===i.type&&r.a.createElement(It,{history:e.history,emailLogin:d})))))},Lt=(t(204),function(e){return r.a.createElement("div",{className:"login-method",onClick:function(){return e.action()}},r.a.createElement("i",{className:"material-icons"},e.icon),r.a.createElement("div",{className:"typography-7"},e.label))}),Mt=function(e){return r.a.createElement("div",{className:"app-page"},r.a.createElement("div",{className:"app-content"},r.a.createElement("div",{className:"app-text"},r.a.createElement("div",{className:"page-title"},r.a.createElement("div",{className:"align-horizontal"},"Sign in"),r.a.createElement("div",{className:"page-subtitle"},"Choose the preferred authentication method to continue"),r.a.createElement("div",{className:"page-highlight"})),r.a.createElement("div",{className:"view-asset-item"},r.a.createElement("div",{className:"space-top-3 mirror-signin"},r.a.createElement("div",{className:"login-home"},r.a.createElement(Lt,{action:function(){e.history.push("/".concat(e.asset,"/login/oa"))},icon:"blur_on",label:"Oneauth"}),r.a.createElement(Lt,{action:function(){e.history.push("/".concat(e.asset,"/login/email"))},icon:"email",label:"Email"}),r.a.createElement(Lt,{action:function(){console.log("not yet implemented")},icon:"people",label:"Native"})))))))},$t=t(38),Ut=function(e){var a=Object(He.a)(),t=Object(n.useState)(!1),i=Object(N.a)(t,2),c=i[0],l=i[1];Object(n.useEffect)((function(){if(e.location.search){var a=$t.parse(e.location.search);o(a.token)}}),[]);var o=function(){var t=Object(Be.a)(ze.a.mark((function t(n){var r,i,c,o;return ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.query({query:ha,variables:{token:n,asset:e.asset}});case 2:i=t.sent,(null===(c=i.data)||void 0===c?void 0:null===(r=c.newExternSession)||void 0===r?void 0:r.sessionId)?(e.cookies.set("mirror_".concat(e.asset),"extern ".concat(null===c||void 0===c?void 0:null===(o=c.newExternSession)||void 0===o?void 0:o.sessionId)),e.history.push("/".concat(e.asset,"/home"))):l(!0);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,c&&r.a.createElement("div",{className:"app-page"},r.a.createElement("div",{className:"app-content"},r.a.createElement("div",{className:"app-text"},r.a.createElement("div",{className:"extern-login"},"Invalid token")))))},zt={themecolor1:Bt("#69A7BF"),themecolor2:Bt("#99587B"),themecolor3:Bt("#A66C26"),themecolor4:Bt("#37AE82")};function Bt(e){return Object(T.a)({palette:{primary:{main:e},secondary:{main:e}}})}var Ht=Object(o.b)((function(e){return{user:e.user,profile:e.profile}}),{getProfile:Z,setProfile:ee,getUser:function(){return function(e){e({type:"GET_USER"})}},addUser:function(e){return function(a){a({type:"ADD_USER",payload:e})}}})(Object(l.b)((function(e){var a=Object(o.d)((function(e){return e.authorization})),t=Object(n.useState)(""),i=Object(N.a)(t,2),c=i[0],l=i[1];Object(n.useEffect)((function(){J().subscribe((function(e){"spaceChange"===e.name&&l(e.data)}))}),[]);var s=Object(w.b)({uri:"https://mirror-graph-server.herokuapp.com"}),m=Object(k.a)((function(e,t){var n=t.headers;return{headers:Object(d.a)({},n,{authorization:"".concat(c," ").concat(null===a||void 0===a?void 0:a.token)||""})}})),u=new O.c({link:m.concat(s),cache:new j.a});return Object(n.useEffect)((function(){e.getProfile()}),[]),r.a.createElement(C.a,{client:u},r.a.createElement("div",{className:"App ".concat(e.profile.theme," ").concat(e.profile.textSize," ").concat(e.profile.themeColor)},r.a.createElement(A.HashRouter,null,r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"body-content"},r.a.createElement(re,null),r.a.createElement(_.a,{theme:zt.themecolor1},r.a.createElement(Ee,e),r.a.createElement(S.Route,{path:"/login",render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:I}))}}),r.a.createElement(S.Route,{path:"/:asset/unauthorized",render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:_a,middleware:["isAuthenticated"]}))}}),r.a.createElement(S.Route,{path:"/",exact:!0,render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:$}))}}),r.a.createElement(S.Route,{path:"/home",exact:!0,render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:$}))}}),r.a.createElement(S.Route,{path:"/tenant",exact:!0,render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:Ae}))}}),r.a.createElement(S.Route,{path:"/asset/create",exact:!0,render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:kt}))}}),r.a.createElement(S.Route,{path:"/:asset/home",render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:P,middleware:["readAuthentication"]}))}}),r.a.createElement(S.Route,{path:"/:asset/login/home",render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:Mt}))}}),r.a.createElement(S.Route,{path:"/:asset/login/extern",render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:Ut}))}}),r.a.createElement(S.Route,{path:"/:asset/login/oa",render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:Pt}))}}),r.a.createElement(S.Route,{path:"/:asset/login/email",render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:Dt}))}}),r.a.createElement(S.Route,{path:"/:asset/article",exact:!0,render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:Te,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/article/browse",exact:!0,render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:ut,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/article/search",exact:!0,render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:gt,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/article/tag",exact:!0,render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:Nt,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/article/view",exact:!0,render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:Xa,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/article/create",exact:!0,render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:Ha,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/article/edit",exact:!0,render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:at,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/asset/view",exact:!0,render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:St}))}}),r.a.createElement(S.Route,{path:"/:asset/asset/edit",exact:!0,render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:Tt}))}}),r.a.createElement(S.Route,{path:"/:asset/useradministration",exact:!0,render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:$e,middleware:["authenticate","isAdmin"]}))}}),r.a.createElement(S.Route,{path:"/:asset",exact:!0,render:function(a){return r.a.createElement(Ta,Object.assign({},a,e,{component:P,middleware:["readAuthentication"]}))}})))))))}))),qt=function(e){return r.a.createElement(o.a,{store:y},r.a.createElement(Ht,e))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(l.a,null,r.a.createElement(qt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e,a,t){},78:function(e,a,t){},94:function(e,a,t){},96:function(e,a,t){e.exports=t.p+"static/media/mirror_white.b852a14c.svg"},97:function(e,a,t){e.exports=t.p+"static/media/mirror_black.14bccd72.svg"}},[[215,1,2]]]);
//# sourceMappingURL=main.5ba71df3.chunk.js.map