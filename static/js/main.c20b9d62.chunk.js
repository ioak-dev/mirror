(this.webpackJsonpmirror=this.webpackJsonpmirror||[]).push([[0],{101:function(e,t,a){e.exports=a.p+"static/media/mirror_black.14bccd72.svg"},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},134:function(e,t,a){e.exports=a.p+"static/media/mirror_white_small.7aed2e38.svg"},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},149:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},222:function(e,t,a){e.exports=a(505)},227:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},245:function(e,t,a){},247:function(e,t,a){},248:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){},274:function(e,t){},276:function(e,t){},309:function(e,t){},310:function(e,t){},375:function(e,t,a){},376:function(e,t,a){},377:function(e,t,a){},379:function(e,t,a){},479:function(e,t,a){},482:function(e,t,a){},483:function(e,t,a){},484:function(e,t,a){},485:function(e,t,a){},486:function(e,t,a){},487:function(e,t,a){},488:function(e,t,a){},489:function(e,t,a){},490:function(e,t,a){},491:function(e,t,a){},492:function(e,t,a){},493:function(e,t,a){},494:function(e,t,a){},495:function(e,t,a){},496:function(e,t,a){},497:function(e,t,a){},498:function(e,t,a){},499:function(e,t,a){},500:function(e,t,a){},501:function(e,t,a){},502:function(e,t,a){},503:function(e,t,a){},504:function(e,t,a){},505:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(73),i=a.n(c),o=(a(227),a(60)),s=a(3),l=a(1),m=a(14),u=a(45),d=a(213),p={isAuth:!1,firstname:"",lastname:""},f={theme:"theme_dark",textSize:"textsize_medium",themeColor:"themecolor1"},v={users:[]},h={data:[]},g={items:[],logs:[]},E={data:[]},b=Object(u.c)({authorization:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_AUTH":return console.log("GET_AUTH reducer"),Object(s.a)({},e);case"ADD_AUTH":return console.log("ADD_AUTH reducer"),Object(s.a)({},e,{},t.payload);case"REMOVE_AUTH":return console.log("REMOVE_AUTH reducer"),Object(s.a)({},e,{isAuth:!1,firstname:"",lastname:""});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROFILE":return console.log("GET_PROFILE reducer"),Object(s.a)({},e);case"SET_PROFILE":return console.log("SET_PROFILE reducer"),Object(s.a)({},e,{},t.payload);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER":return console.log("GET_USER reducer"),Object(s.a)({},e);case"ADD_USER":return console.log("ADD_USER reducer"),Object(s.a)({},e,{},t.payload);case"FETCH_ALL_USERS":return console.log("FETCH_ALL_USERS reducer"),Object(s.a)({},e,{},t.payload);default:return e}},category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CATEGORY":return console.log("FETCH_CATEGORY reducer"),Object(s.a)({},e,{},t.payload);default:return e}},request:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_REQUEST":return console.log("FETCH_REQUEST reducer"),Object(s.a)({},e,{},t.payload);default:return e}},stage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_STAGE":return console.log("FETCH_STAGE reducer"),Object(s.a)({},e,{},t.payload);default:return e}}}),y=[d.a],j=Object(u.e)(b,{},Object(u.d)(u.a.apply(void 0,y))),N=(a(138),a(232),a(74)),O=a(36),w=a(56),k=a(218),C=a(28),S=a(38),A=a(219),T=a(512),I=a(513),P=(a(233),function(e){return r.a.createElement("div",{className:"home full"},"Home page")}),x=(a(139),a(25)),_=function(e){return Object(n.useEffect)((function(){if(e.location.search){var t=x.parse(e.location.search);e.cookies.set("mirror_".concat(t.asset),"oa ".concat(t.space," ").concat(t.authKey)),e.history.push(t.from?t.from:"/".concat(t.asset,"/article"))}}),[]),r.a.createElement(r.a.Fragment,null)},$=(a(79),a(4)),z=a(8),R=a(10),M=a.n(R);function F(){var e=Object(z.a)(["\n  query Users {\n    users {\n      id\n      firstName\n      lastName\n    }\n  }\n"]);return F=function(){return e},e}function D(){var e=Object(z.a)(["\n  mutation UpdateAsset($payload: AssetPayload!) {\n    updateAsset(payload: $payload) {\n      id\n      name\n      description\n      jwtPassword\n      productionMode\n      assetId\n    }\n  }\n"]);return D=function(){return e},e}function B(){var e=Object(z.a)(["\n  mutation CreateAsset(\n    $payload: AssetPayload!\n    $addition: AssetAdditionPayload!\n  ) {\n    createAsset(payload: $payload, addition: $addition) {\n      id\n      name\n      description\n      jwtPassword\n      productionMode\n      assetId\n    }\n  }\n"]);return B=function(){return e},e}function L(){var e=Object(z.a)(["\n  query Asset($assetId: String!) {\n    asset(assetId: $assetId) {\n      id\n      name\n      description\n      jwtPassword\n      productionMode\n      assetId\n    }\n  }\n"]);return L=function(){return e},e}function H(){var e=Object(z.a)(["\n  query Assets {\n    assets {\n      id\n      name\n      description\n      jwtPassword\n      productionMode\n      assetId\n    }\n  }\n"]);return H=function(){return e},e}function U(){var e=Object(z.a)(["\n  mutation CreateEmailAccount($payload: UserPayload) {\n    createEmailAccount(payload: $payload) {\n      id\n      email\n    }\n  }\n"]);return U=function(){return e},e}function q(){var e=Object(z.a)(["\n  query NewExternSession($token: String!, $asset: String) {\n    newExternSession(token: $token, asset: $asset) {\n      sessionId\n    }\n  }\n"]);return q=function(){return e},e}function G(){var e=Object(z.a)(["\n  query NewEmailSession($email: String!) {\n    newEmailSession(email: $email) {\n      sessionId\n    }\n  }\n"]);return G=function(){return e},e}function Y(){var e=Object(z.a)(["\n  query Session($key: ID!, $asset: String) {\n    session(key: $key, asset: $asset) {\n      id\n      firstName\n      lastName\n      email\n      token\n    }\n  }\n"]);return Y=function(){return e},e}var V=M()(Y()),W=M()(G()),Q=M()(q()),J=M()(U()),K=M()(H()),X=M()(L()),Z=M()(B()),ee=M()(D()),te=M()(F()),ae=(a(245),function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"oak-spinner"},r.a.createElement("div",{className:"spinner-wrapper"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))))}),ne=function(e){return r.a.createElement("div",{className:"asset-list-item",onClick:function(){e.history.push("/".concat(e.asset.assetId,"/login/home"))}},r.a.createElement("div",{className:"asset-list-item--link"},r.a.createElement("div",{className:"typography-6"},e.asset.name)),r.a.createElement("div",{className:"typography-4"},e.asset.description))},re=(a(140),function(e){return r.a.createElement("div",{className:"oak-heading-link",onClick:function(){return e.link.action()}},r.a.createElement("i",{className:"material-icons typography-6"},e.link.icon),r.a.createElement("div",{className:"heading-link-label ".concat("large"===e.size?"typography-5":"typography-4")},e.link.label))}),ce=function(e){var t;return r.a.createElement("div",{className:"oak-heading"},r.a.createElement("div",{className:"heading-title typography-10"},e.title),e.subtitle&&r.a.createElement("div",{className:"heading-subtitle typography-4"},e.subtitle),r.a.createElement("div",{className:"heading-links"},null===(t=e.links)||void 0===t?void 0:t.map((function(t,a){return r.a.createElement(re,{link:t,key:a,size:e.linkSize})}))),e.children&&r.a.createElement("div",{className:"heading-children"},e.children),r.a.createElement("div",{className:"heading-highlight"}))},ie=function(e){var t,a=Object($.c)(K),n=a.loading,c=a.error,i=a.data;return r.a.createElement("div",{className:"list-assets"},r.a.createElement(ce,{title:"Choose an asset to proceed"}),n&&r.a.createElement(ae,null),!n&&!c&&r.a.createElement("div",{className:"list-assets--content"},null===i||void 0===i?void 0:null===(t=i.assets)||void 0===t?void 0:t.map((function(t){return r.a.createElement(ne,{asset:t,history:e.history,key:t.id})}))))},oe=(a(247),a(248),function(e){return r.a.createElement("svg",{version:"1.0",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 57 56",enableBackground:"new 0 0 57 56",style:e.dimension},r.a.createElement("g",{id:"Chat-Fenster"},r.a.createElement("g",{id:"chat_FAQ_Accordion2-Copy-13",transform:"translate(-1364.000000, -1001.000000)"},r.a.createElement("g",{id:"Send-Message",transform:"translate(397.000000, 1008.000000)"},r.a.createElement("g",{id:"Send-Button",transform:"translate(990.000000, 10.000000)"},r.a.createElement("g",{id:"Send_1_"},r.a.createElement("path",{style:e.style,d:"M16,0.5c-0.1-0.1-0.3-0.1-0.4-0.1L-7,10.8c-0.1,0.1-0.2,0.2-0.2,0.3s0.1,0.3,0.2,0.3l6.4,3.1\r c0.1,0.1,0.3,0,0.4,0L6,9.9l-4.9,4.9C1,14.9,1,15,1,15.1l0.5,6.2c0,0.1,0.1,0.3,0.2,0.3h0.1c0.1,0,0.2,0,0.3-0.1l3.4-3.9l4.2,2\r c0.1,0,0.2,0,0.3,0s0.2-0.1,0.2-0.2l5.9-18.6C16.1,0.7,16.1,0.6,16,0.5z"})))))))}),se=function(e){return r.a.createElement("svg",{viewBox:"0 0 73 73",style:e.dimension},r.a.createElement("polygon",{fill:"#27AAE1",points:"38.5,-3.8 37.9,-3.8 37.9,-3.8 38.5,-3.8 "}),r.a.createElement("g",null,r.a.createElement("path",{fill:"#149ED9",d:"M27.6,23c2.6-1.8,5.8-2.9,9.3-2.9c3.4,0,6.6,1.1,9.3,2.9l6.3-7.5c-4.3-3.2-9.7-5.2-15.6-5.2\r c-5.8,0-11.2,1.9-15.6,5.2L27.6,23z",style:e.accent}),r.a.createElement("rect",{x:"32",y:"37.4",width:"9.8",height:"25.6",style:e.style}),r.a.createElement("circle",{fill:"none",stroke:"#000000",strokeWidth:"9.75",strokeMiterlimit:"10",cx:"36.9",cy:"36.5",r:"30.9",style:Object(s.a)({},e.style,{fill:"none"})}),r.a.createElement("polygon",{fill:"#27AAE1",points:"37.2,-3.9 36.6,-3.9 36.6,-3.9 37.2,-3.9 \t"}),r.a.createElement("circle",{cx:"36.9",cy:"32.8",r:"7.8",style:e.style})))},le=function(e){var t=function(e){var t={},a="";switch(e){case"primary":a="var(--color-primary-1)";break;case"secondary":a="var(--color-secondary-1)";break;case"tertiary":a="var(--color-tertiary-1)";break;case"success":a="var(--color-success)";break;case"failure":a="var(--color-failure)";break;case"warning":a="var(--color-warning)";break;default:a=e||"var(--color-foreground-1)"}return t.fill=a,t.color=a,t.stroke=a,t},a=function(){var t={};return t.fontSize=e.size?e.size:"24px",e.svg&&(t.height=e.size?e.size:"24px",t.width="auto"),t};return r.a.createElement("div",{className:"oak-icon"},e.mat&&r.a.createElement("i",{className:"material-icons",style:Object(s.a)({},t(e.color),{},a())},e.mat),e.fa&&r.a.createElement("i",{className:"fontawesome-icons ".concat(e.fa),style:Object(s.a)({},t(e.color),{},a())},e.mat),e.svg&&"send"===e.svg&&r.a.createElement(oe,{style:t(e.color),accent:e.accent&&t(e.accent),dimension:a()}),e.svg&&"ioak"===e.svg&&r.a.createElement(se,{style:t(e.color),accent:e.accent&&t(e.accent),dimension:a()}))},me=function(e){var t=Object(m.d)((function(e){return e.profile}));return r.a.createElement("button",{className:"oak-button ".concat(function(){var a,n=e.theme?e.theme:"";return n+=(null===t||void 0===t?void 0:null===(a=t.theme)||void 0===a?void 0:a.includes("theme_light"))?" light":"",n+=e.variant?" ".concat(e.variant):"",e.children||(n+=" icon"),n+=e.invert?" invert":"",n+=e.small?" small":"",n+=e.align?" align-".concat(e.align):""}()),onClick:e.action},r.a.createElement("div",{className:"button-label-container"},e.icon&&r.a.createElement(le,{mat:e.icon,size:"1.2em"}),e.fa&&r.a.createElement(le,{fa:e.fa,size:"1.2em"}),e.svg&&r.a.createElement(le,{svg:e.svg,size:"1.2em"}),e.children&&e.children))},ue=function(e){return r.a.createElement("div",{className:"getting-started"},r.a.createElement("div",null,r.a.createElement(ce,{title:"Getting Started"}),r.a.createElement("div",{className:"getting-started--steps space-top-2"},r.a.createElement("div",{className:"typography-7"},"Create Asset"),r.a.createElement("div",{className:"typography-4"},"An asset represents an application or product being supported. Create an asset to get started with the process of onboarding your product into Mirror."),r.a.createElement("div",{className:"typography-7"},"Set Mirror URL in your product"),r.a.createElement("div",{className:"typography-4"},"To provide seemless experience to your users, add a link from your product to Mirror. By triggering a button for example from your product, your users will be securely transferred to Mirror with their details."),r.a.createElement("div",{className:"typography-7"},"Securely transmit user information to Mirror"),r.a.createElement("div",{className:"typography-4"},"When you redirect from your product, transmit the user information like email and name securely using JWT tokens. Password for JWT is set by you during the asset creation process."))),r.a.createElement("div",{className:"action-footer position-center"},r.a.createElement(me,{theme:"primary",variant:"disappear",action:function(){e.history.push("/asset/create")}},"Create a new asset")))},de=function(e){return r.a.createElement("div",{className:"landing"},r.a.createElement(ie,{history:e.history}),r.a.createElement("hr",null),r.a.createElement(ue,{history:e.history}))},pe=a(78),fe=a.n(pe),ve="https://mirror-service.herokuapp.com";function he(e,t,a){return fe.a.get((a||ve)+e,t)}function ge(e,t,a,n){return fe.a.post((n||ve)+e,t,a)}var Ee=a(220),be=a(514),ye=new Ee.a;function je(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0;ye.next({name:e,signal:t,data:a})}function Ne(){return ye.asObservable()}var Oe={API_URL_TENANT:"/tenant",API_URL_TENANT_BANNER:"/tenant/banner",API_URL_TENANT_CREATE:"/tenant/create",API_TENANT_URL:"/tenant/sendURL",API_URL_PRESIGNUP:"/auth/keys",API_URL_RESET:"/auth/reset",API_URL_CODE:"/auth/sendResetCode",API_URL_USER_DETAILS:"/user/details",API_URL_STAGE:"/stage",API_URL_PREDICT:"/model/predict",API_URL_CATEGORY:"/category",API_URL_FAQ:"/faq",API_URL_SR:"/servicerequests",API_URL_USER:"/user",API_URL:"/auth/",API_SIGNIN:"/signin",API_SIGNUP:"/signup",API_KEYS:"/keys",API_JWT:"/signin/jwt",API_HEALTHCHECK_HELLO:"/healthcheck/hello"},we=function(){return function(e){e({type:"GET_PROFILE"})}},ke=function(e){return function(t){t({type:"SET_PROFILE",payload:e})}},Ce=a(7),Se=(a(149),function(e){var t;return r.a.createElement("div",{className:"message ".concat(e.notification.type)},"running"===e.notification.type&&r.a.createElement("div",{className:"message-icon ".concat("running"===e.notification.type?"running":"")},r.a.createElement("i",{className:"material-icons"},"rotate_right")),"success"===e.notification.type&&r.a.createElement("div",{className:"message-icon"},r.a.createElement("i",{className:"material-icons"},"check_circle_outline")),"warning"===e.notification.type&&r.a.createElement("div",{className:"message-icon"},r.a.createElement("i",{className:"material-icons"},"warning")),"failure"===e.notification.type&&r.a.createElement("div",{className:"message-icon"},r.a.createElement("i",{className:"material-icons"},"error_outline")),r.a.createElement("div",{className:"message-text"},null===(t=e.notification)||void 0===t?void 0:t.message),r.a.createElement("div",{className:"message-action"},r.a.createElement("i",{className:"material-icons",onClick:e.handleRemove},"clear")))}),Ae=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)([]),o=Object(l.a)(i,2),s=o[0],m=o[1],u=Object(n.useState)({notificationList:[]}),d=Object(l.a)(u,2),p=(d[0],d[1],function(e){m(s.filter((function(t){return t.id!==e.id})))});return Object(n.useEffect)((function(){var e=Ne().subscribe((function(e){"notification"===e.name&&(e.signal?(p(e.data),function(e){var t=Object(Ce.a)(s);t.unshift(e),m(t),e.duration?setTimeout((function(){p(e)}),e.duration):e.id||setTimeout((function(){p(e)}),5e3)}(e.data),c(!1)):p(e.data)),"spinner"===e.name&&c(e.signal)}));return function(){return e.unsubscribe()}}),[]),r.a.createElement(r.a.Fragment,null,s&&s.length>0&&r.a.createElement("div",{className:"notification"},s.slice(0,5).reverse().map((function(e){return r.a.createElement("div",{key:e.id||e.message},r.a.createElement(Se,{notification:e,handleRemove:p}))}))),a&&r.a.createElement(ae,{"data-test":"spinner"}))},Te=(a(80),a(58)),Ie=a.n(Te),Pe=a(101),xe=a.n(Pe),_e=a(49),$e=function(e){return r.a.createElement("div",{className:"links"},e.authorization.isAuth&&r.a.createElement(r.a.Fragment,null,r.a.createElement(_e.a,{to:"/".concat(e.asset,"/home"),className:"navitem",activeClassName:"active"},"Home"),r.a.createElement(_e.a,{to:"/".concat(e.asset,"/article"),className:"navitem",activeClassName:"active"},"Articles"),r.a.createElement(_e.a,{to:"/".concat(e.asset,"/post"),className:"navitem",activeClassName:"active"},"Forum"),r.a.createElement(_e.a,{to:"/".concat(e.asset,"/asset/view"),className:"navitem",activeClassName:"active"},"Asset"),r.a.createElement(_e.a,{to:"/".concat(e.asset,"/mypost/mypost"),className:"navitem",activeClassName:"active"},"My posts")))},ze=(a(266),new(a(511).a)("")),Re=new Ee.a,Me=function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],i=a[1];Object(n.useEffect)((function(){var e=ze.subscribe((function(e){i(e)}));return function(){return e.unsubscribe()}}),[]);return r.a.createElement("form",{method:"GET",onSubmit:function(e){e.preventDefault(),Re.next(c)},noValidate:!0},r.a.createElement("div",{className:"search-bar".concat(e.alt?" alt":"")},r.a.createElement("input",{name:"searchText",spellCheck:!1,autoComplete:"off",autoFocus:!0,placeholder:"Mirror, mirror, on the wall, who's the fairest of them all?",required:!0,value:c,onChange:function(e){ze.next(e.target.value)}}),r.a.createElement("button",{className:"icon"},r.a.createElement("i",null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}))))))},Fe=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],i=a[1],o=Object(m.d)((function(e){return e.authorization}));Object(n.useEffect)((function(){e.getProfile()}),[]),Object(n.useEffect)((function(){Ne().subscribe((function(e){"show-navbar-element"===e.name&&i(e.signal)}))}),[]);var s=function(t){e.login(t)};return r.a.createElement("div",{className:e.transparent?"navbar desktop transparent":"navbar desktop"},r.a.createElement("div",{className:"left"},!e.transparent&&"theme_light"===e.profile.theme&&r.a.createElement("img",{className:"logo",src:xe.a,alt:"Mirror logo"}),(e.transparent||"theme_dark"===e.profile.theme)&&r.a.createElement("img",{className:"logo",src:Ie.a,alt:"Mirror logo"}),r.a.createElement($e,{authorization:o,asset:e.asset}),c&&r.a.createElement(Me,{alt:!0})),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"dark-mode"},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.toggleDarkMode()}},"brightness_6")),r.a.createElement("div",{className:"action"},o.isAuth&&e.asset&&r.a.createElement(me,{theme:"primary",variant:"disappear",action:e.logout},r.a.createElement("i",{className:"material-icons"},"power_settings_new"),"Logout"),!o.isAuth&&e.asset&&r.a.createElement(me,{theme:"primary",variant:"appear",align:"left",small:!0,action:function(){return s("signin")}},r.a.createElement("i",{className:"material-icons"},"person"),"Login"),!o.isAuth&&e.asset&&r.a.createElement(me,{theme:"primary",variant:"appear",align:"right",small:!0,action:function(){return s("signup")}},r.a.createElement("i",{className:"material-icons"},"person_add"),"Signup"))))},De=a(134),Be=a.n(De),Le=function(e){var t=Object(m.d)((function(e){return e.authorization})),a=Object(n.useState)({showSearchBar:!1,menu:!1}),c=Object(l.a)(a,2),i=c[0],o=c[1];Object(n.useEffect)((function(){e.getProfile()}),[]),Object(n.useEffect)((function(){Ne().subscribe((function(e){"show-navbar-element"===e.name&&o(Object(s.a)({},i,{showSearchBar:e.signal}))}))}),[]);var u=function(){o(Object(s.a)({},i,{menu:!i.menu}))},d=function(t){e.login(t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.transparent?"navbar mobile transparent":"navbar mobile"},r.a.createElement("div",{className:"left"},!i.showSearchBar&&!e.transparent&&"theme_light"===e.profile.theme&&r.a.createElement("img",{className:"logo",src:xe.a,alt:"Mirror logo"}),!i.showSearchBar&&(e.transparent||"theme_dark"===e.profile.theme)&&r.a.createElement("img",{className:"logo",src:Ie.a,alt:"Mirror logo"}),i.showSearchBar&&!e.transparent&&"theme_light"===e.profile.theme&&r.a.createElement("img",{className:"logo",src:Be.a,alt:"Mirror logo"}),i.showSearchBar&&(e.transparent||"theme_dark"===e.profile.theme)&&r.a.createElement("img",{className:"logo",src:Be.a,alt:"Mirror logo"}),i.showSearchBar&&r.a.createElement(Me,{alt:!0})),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:i.menu?"menu active":"menu",onClick:u},r.a.createElement("div",null)))),r.a.createElement("div",{className:i.menu?"slider show":"slider hide",onClick:u},r.a.createElement("div",{className:i.menu?"container":"container hidetext",onClick:u},r.a.createElement("div",{className:"action"},r.a.createElement("div",{className:"buttons"},t.isAuth&&r.a.createElement(me,{variant:"appear",small:!0,action:e.logout},r.a.createElement("i",{className:"material-icons"},"power_settings_new"),"Logout"),!t.isAuth&&r.a.createElement(me,{variant:"appear",small:!0,action:function(){return d("signin")}},r.a.createElement("i",{className:"material-icons"},"person"),"Login"),!t.isAuth&&r.a.createElement(me,{variant:"appear",small:!0,action:function(){return d("signup")}},r.a.createElement("i",{className:"material-icons"},"person_add"),"Signup"))),r.a.createElement($e,{authorization:t,asset:e.asset}),r.a.createElement("div",{className:"dark-mode"},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.toggleDarkMode()}},"brightness_6")))))},He=function(e){return function(t){t({type:"ADD_AUTH",payload:e})}},Ue=Object(m.b)((function(e){return{profile:e.profile}}),{getProfile:we,setProfile:ke})(Object(o.b)(Object(S.withRouter)((function(e){var t=Object(n.useState)({visible:!1,mobilemenu:"hide",chooseTheme:!1,showSettings:!1,transparentNavBar:!1,firstLoad:!0}),a=Object(l.a)(t,2),c=a[0],i=a[1],o=Object(m.d)((function(e){return e.authorization})),u=Object(m.c)(),d=Object(n.useState)(""),p=Object(l.a)(d,2),f=p[0],v=p[1];Object(n.useEffect)((function(){Ne().subscribe((function(e){"spaceChange"===e.name&&v(e.data)}))}),[]),Object(n.useEffect)((function(){e.getProfile()}),[]),Object(n.useEffect)((function(){Ne().subscribe((function(e){"navbar-transparency"===e.name&&i(Object(s.a)({},c,{transparentNavBar:e.signal})),"loggedin"===e.name&&i(Object(s.a)({},c,{firstLoad:!1}))}))}),[]),Object(n.useEffect)((function(){c.firstLoad&&o&&o.isAuth&&i(Object(s.a)({},c,{firstLoad:!1}))}),[o.isAuth]);var h=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"You have been logged out";u((function(e){e({type:"REMOVE_AUTH"})})),e.cookies.remove("mirror_".concat(f)),je("notification",!0,{type:a,message:n,duration:3e3})},g=function(){"theme_dark"===e.profile.theme?e.setProfile(Object(s.a)({},e.profile,{theme:"theme_light"})):e.setProfile(Object(s.a)({},e.profile,{theme:"theme_dark"}))},E=function(t){e.history.push("/".concat(f,"/login/home"))},b=function(){i(Object(s.a)({},c,{showSettings:!c.showSettings}))};return r.a.createElement("div",{className:"nav"},r.a.createElement(Fe,Object.assign({},e,{logout:h,login:E,asset:f,toggleSettings:b,transparent:c.transparentNavBar,toggleDarkMode:g})),r.a.createElement(Le,Object.assign({},e,{logout:h,login:E,asset:f,toggleSettings:b,transparent:c.transparentNavBar,toggleDarkMode:g})))})))),qe=a(11),Ge=(a(267),a(268),function(e){return r.a.createElement("div",{className:"oak-text"},!e.multiline&&r.a.createElement("input",{disabled:e.disabled,autoComplete:"off",className:(e.errorFields&&e.errorFields[e.id]?"error":"")+(e.disabled?" disabled":""),type:e.type?e.type:"text",name:e.id,id:e.id,value:e.data[e.id],onChange:e.handleChange,onFocus:function(){e.handleFocus&&e.handleFocus()}}),e.multiline&&r.a.createElement("textarea",{disabled:e.disabled,className:(e.errorFields&&e.errorFields[e.id]?"error":"")+(e.disabled?" disabled":""),id:e.id,name:e.id,value:e.data[e.id],onChange:e.handleChange}),r.a.createElement("label",{htmlFor:e.id,className:e.data[e.id]?"active":""},e.label),e.errorData&&e.errorData[e.id]&&r.a.createElement("div",{className:"text-field-error"},r.a.createElement("i",{className:"material-icons"},"warning"),e.errorData[e.id]))});var Ye=a(135),Ve=a.n(Ye),We=a(136),Qe=a.n(We);function Je(e,t,a){var n={cipher:"aes",iter:"12000",ks:256,salt:Qe.a.enc.Base64.stringify(Qe.a.enc.Utf8.parse(a))};return Ve.a.encrypt(e,t,n)}function Ke(e){return null===e||null!==e.match(/^ *$/)}function Xe(e){return!e||!Object.keys(e).find((function(t){return!!e[t]}))}function Ze(e){return!!e&&(e=e.toString()).replace(/(<([^>]+)>)/gi,"")}var et=function(e){var t=Object(n.useState)({name:"",email:"",password:"",repeatPassword:"",jwtPassword:"",pageNo:1,created:!1}),a=Object(l.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)(null),m=Object(l.a)(o,2),u=m[0],d=m[1],p=Object(n.useState)({name:!1,email:!1,password:!1,repeatPassword:!1,jwtPassword:!1}),f=Object(l.a)(p,2),v=f[0],h=f[1];Object(n.useEffect)((function(){e.getProfile()}),[]);var g=function(e){i(Object(s.a)({},c,Object(qe.a)({},e.currentTarget.name,e.currentTarget.value)))},E=function(e){h(Object(s.a)({},v,Object(qe.a)({},e,!0)))},b=function(e){(function(e){var t=new FormData;return t.append("tenantName",e.tenantName),t.append("email",e.email),t.append("jwtPassword",e.jwtPassword),t.append("problem",Je(e.password,e.solution,e.salt)),t.append("solution",e.solution),e.banner&&t.append("banner",e.banner,"banner.jpg"),ge(Oe.API_URL_TENANT_CREATE,t,{"Content-Type":"multipart/form-data"}).then((function(e){return Promise.resolve(e)}))})({tenantName:c.name,email:c.email,password:c.password,jwtPassword:c.jwtPassword,solution:e.solution,salt:e.salt,banner:u}).then((function(e){200===e.status?(je("notification",!0,{type:"success",message:"Tenant has been created. You can proceed now",duration:3e3}),i(Object(s.a)({},c,{pageNo:c.pageNo+1,created:!0}))):je("notification",!0,{message:"We are facing some problem, please try after sometime",duration:3e3})})).catch((function(e){je("notification",!0,{type:"failure",message:"Unknown error. Please try again or at a later time",duration:3e3})}))};return r.a.createElement("div",{className:"tenant boxed"},!c.created&&r.a.createElement("div",{className:"typography-3 space-bottom-4"},"Tenant creation"),c.created&&r.a.createElement("div",{className:"typography-3 space-bottom-4"},"Tenant [",c.name,"] available now"),1===c.pageNo&&r.a.createElement("div",{className:"form"},r.a.createElement(Ge,{id:"name",data:c,label:"Tenant Name",handleChange:function(e){return g(e)},errorFields:v}),r.a.createElement(Ge,{id:"email",data:c,label:"Administrator Email",handleChange:function(e){return g(e)},errorFields:v}),r.a.createElement(Ge,{id:"password",type:"password",data:c,label:"Administrator Password",handleChange:function(e){return g(e)},errorFields:v}),r.a.createElement(Ge,{id:"repeatPassword",type:"password",data:c,label:"Repeat Password",handleChange:function(e){return g(e)},errorFields:v}),r.a.createElement(Ge,{id:"jwtPassword",type:"password",data:c,label:"JWT Password",handleChange:function(e){return g(e)},errorFields:v}),r.a.createElement("label",{className:"file-upload space-top-1 space-bottom-4"},r.a.createElement("input",{type:"file",accept:"image/png, image/jpeg",onChange:function(e){d(e.target.files[0])},required:!0}),r.a.createElement("i",{className:"material-icons"},"add_photo_alternate"),!u&&"Choose Banner/Cover Image",u&&u.name),r.a.createElement("div",{className:"action"},r.a.createElement(me,{theme:"primary",variant:"appear",action:function(e){e.preventDefault(),je("spinner"),h({name:!1,email:!1,password:!1,repeatPassword:!1,jwtPassword:!1}),(Ke(c.name)?(E("name"),je("notification",!0,{type:"failure",message:"Tenant name cannot be empty",duration:3e3}),0):/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(c.email)?Ke(c.password)?(E("password"),je("notification",!0,{type:"failure",message:"Password cannot be empty",duration:3e3}),0):c.password===c.repeatPassword||(E("repeatPassword"),je("notification",!0,{type:"failure",message:"Password and repeat password should be same",duration:3e3}),0):(E("email"),je("notification",!0,{type:"failure",message:"Email ID is invalid",duration:3e3}),0))&&function(e){return he(Oe.API_URL+e.name+Oe.API_KEYS,null).then((function(e){return Promise.resolve(e)}))}({name:c.name}).then((function(e){200===e.status&&b(e.data)}))}},"Create Tenant"))),c.created&&r.a.createElement(me,{theme:"primary",variant:"disappear",action:function(){e.history.push("/".concat(c.name,"/home"))}},"Take me to my tenant"))},tt=(a(375),a(376),function(e){return r.a.createElement("div",{className:"oak-page"},e.children)}),at=(a(377),function(e){return r.a.createElement("div",{className:"oak-section"},r.a.createElement("div",{className:"app-text"},e.children))}),nt=function(e){return r.a.createElement(tt,null,r.a.createElement(at,null,r.a.createElement(ce,{title:"Article knowledge base",subtitle:"Home of knowledge"}),r.a.createElement("div",{className:"typography-4 space-bottom-4"},"Welcome to the world of knowledge. Here you will find articles that will answer the question on your mind about this application. You can access the articles by different means. Start to explore by picking one of the below choices to navigate and reach your desired article."),r.a.createElement("div",{className:"action-header"},r.a.createElement(me,{theme:"primary",variant:"appear",action:function(t){e.history.push("/".concat(e.asset,"/article/search"))}},"Search article"),r.a.createElement(me,{theme:"primary",variant:"appear",action:function(t){e.history.push("/".concat(e.asset,"/article/browse"))}},"Browse by category"),r.a.createElement(me,{theme:"primary",variant:"appear",action:function(t){e.history.push("/".concat(e.asset,"/article/tag"))}},"View by tags"))))},rt=a(16),ct=a.n(rt),it=a(19),ot=function(e){var t=Object($.a)(),a=Object(m.d)((function(e){return e.authorization})),n=Object(m.d)((function(e){return e.profile})),c=Object(m.c)(),i=function(e){switch(je("spaceChange",!0,""),e){case"readAuthentication":return s();case"authenticate":return o();case"isAdmin":return u();default:return!0}},o=function(){return l("asset")},s=function(){return l("asset",!1)},l=function(){var n=Object(it.a)(ct.a.mark((function n(r){var i,o,s,l,m,u=arguments;return ct.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=!(u.length>1&&void 0!==u[1])||u[1],je("spaceChange",!0,e.match.params.asset),!a.isAuth){n.next=4;break}return n.abrupt("return",!0);case 4:if(o="mirror_".concat(e.match.params.asset),s=e.cookies.get(o),"/auth/".concat(e.match.params.asset),!s){n.next=15;break}return n.next=10,t.query({query:V,variables:{key:s,asset:e.match.params.asset}});case 10:l=n.sent,(null===(m=l.data)||void 0===m?void 0:m.session)?c(He({isAuth:!0,token:m.session.token,secret:"",firstName:m.session.firstName,lastName:m.session.lastName,email:m.session.email,id:m.session.id})):(e.cookies.remove(o),i&&(je("notification",!0,{type:"failure",message:"Invalid session token",duration:3e3}),d(e.match.params.asset))),n.next=20;break;case 15:if(!i){n.next=19;break}d(e.match.params.asset),n.next=20;break;case 19:return n.abrupt("return",!0);case 20:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),u=function(){return p(),!1},d=function(t){e.history.push("/".concat(t,"/login/home?from=").concat(e.history.location.pathname).concat(e.history.location.search))},p=function(){e.history.push("/".concat(n.asset,"/unauthorized"))};return r.a.createElement(r.a.Fragment,null,function(){var t;return null===(t=e.middleware)||void 0===t||t.forEach((function(e){if(!i(e))return!1})),!0}()&&r.a.createElement(e.component,Object.assign({},e,{profile:n,asset:e.match.params.asset})))},st=function(){return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"Unauthorized")},lt=(a(379),a(75)),mt=a(217),ut=a.n(mt),dt=(a(479),a(480),a(481),function(e){var t=Object(n.useState)(!0),a=Object(l.a)(t,2),c=a[0],i=a[1];return r.a.createElement("div",{className:e.bubble?"oak-editor bubble":"oak-editor"},r.a.createElement("label",null,e.label),r.a.createElement(ut.a,{value:e.data[e.id],onChange:function(t,a,n){"api"===n&&c?i(!1):e.handleChange({target:{name:e.id,value:t}})},theme:e.bubble?"bubble":"snow",modules:{toolbar:[["bold","italic","underline","strike",{align:"left"},{align:"center"},{align:"right"},{align:"justify"},{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"},{color:[]},{background:[]},"code-block",{header:[1,2,3,4,5,6,!1]},{font:[]},"image"]]},formats:["header","bold","italic","underline","strike","blockquote","list","bullet","indent","color","font","code-block","link","image","background","align"]}),e.errorData&&e.errorData[e.id]&&r.a.createElement("div",{className:"text-field-error"},r.a.createElement("i",{className:"material-icons"},"warning"),e.errorData[e.id]))});a(129);function pt(){var e=Object(z.a)(["\n  query ArticleTagCloud {\n    articleTagCloud {\n      name\n      count\n    }\n  }\n"]);return pt=function(){return e},e}function ft(){var e=Object(z.a)(["\n  mutation RemoveArticleFeedback($articleId: String!, $type: String!) {\n    removeArticleFeedback(articleId: $articleId, type: $type) {\n      id\n      article {\n        id\n        title\n        description\n        views\n        helpful\n        notHelpful\n        createdAt\n        updatedAt\n        tags {\n          id\n          name\n        }\n        category {\n          id\n        }\n        feedback {\n          type\n        }\n      }\n    }\n  }\n"]);return ft=function(){return e},e}function vt(){var e=Object(z.a)(["\n  mutation AddArticleFeedback($articleId: String!, $type: String!) {\n    addArticleFeedback(articleId: $articleId, type: $type) {\n      id\n      article {\n        id\n        title\n        description\n        views\n        helpful\n        notHelpful\n        createdAt\n        updatedAt\n        tags {\n          id\n          name\n        }\n        category {\n          id\n        }\n        feedback {\n          type\n        }\n      }\n    }\n  }\n"]);return vt=function(){return e},e}function ht(){var e=Object(z.a)(["\n  mutation UpdateArticleCategory($payload: ArticleCategoryPayload!) {\n    addArticleCategory(payload: $payload) {\n      id\n      name\n      parentCategoryId\n      articles\n    }\n  }\n"]);return ht=function(){return e},e}function gt(){var e=Object(z.a)(["\n  query ArticleCategories {\n    articleCategories {\n      id\n      name\n      parentCategoryId\n      articles\n    }\n  }\n"]);return gt=function(){return e},e}function Et(){var e=Object(z.a)(["\n  mutation DeleteArticle($id: ID!) {\n    deleteArticle(id: $id) {\n      id\n    }\n  }\n"]);return Et=function(){return e},e}function bt(){var e=Object(z.a)(["\n  mutation UpdateArticle($payload: ArticlePayload!) {\n    addArticle(payload: $payload) {\n      id\n      title\n      description\n      views\n      helpful\n      notHelpful\n      createdAt\n      updatedAt\n      tags {\n        id\n        name\n      }\n    }\n  }\n"]);return bt=function(){return e},e}function yt(){var e=Object(z.a)(["\n  query ArticlesByTag($tag: String!, $pageNo: Int, $pageSize: Int) {\n    articlesByTag(tag: $tag, pageNo: $pageNo, pageSize: $pageSize) {\n      results {\n        id\n        name\n        article {\n          id\n          title\n          description\n          views\n          helpful\n          notHelpful\n          createdAt\n          updatedAt\n          tags {\n            id\n            name\n          }\n        }\n      }\n      pageNo\n      hasMore\n    }\n  }\n"]);return yt=function(){return e},e}function jt(){var e=Object(z.a)(["\n  query Article($id: ID!) {\n    article(id: $id) {\n      id\n      title\n      description\n      views\n      helpful\n      notHelpful\n      createdAt\n      updatedAt\n      tags {\n        id\n        name\n      }\n      category {\n        id\n      }\n      feedback {\n        type\n      }\n    }\n  }\n"]);return jt=function(){return e},e}function Nt(){var e=Object(z.a)(["\n  query SearchArticles($text: String, $pageNo: Int, $pageSize: Int) {\n    searchArticles(text: $text, pageNo: $pageNo, pageSize: $pageSize) {\n      results {\n        id\n        title\n        description\n        views\n        helpful\n        notHelpful\n        createdAt\n        updatedAt\n        tags {\n          id\n          name\n        }\n      }\n      pageNo\n      hasMore\n      total\n    }\n  }\n"]);return Nt=function(){return e},e}function Ot(){var e=Object(z.a)(["\n  query Articles($categoryId: ID!, $pageNo: Int, $pageSize: Int) {\n    articles(categoryId: $categoryId, pageNo: $pageNo, pageSize: $pageSize) {\n      results {\n        id\n        title\n        description\n        views\n        helpful\n        notHelpful\n        createdAt\n        updatedAt\n        tags {\n          id\n          name\n        }\n      }\n      pageNo\n      hasMore\n    }\n  }\n"]);return Ot=function(){return e},e}var wt=M()(Ot()),kt=M()(Nt()),Ct=M()(jt()),St=M()(yt()),At=M()(bt()),Tt=M()(Et()),It=M()(gt()),Pt=M()(ht()),xt=M()(vt()),_t=M()(ft()),$t=M()(pt()),zt=function(e){return r.a.createElement(r.a.Fragment,null,!e.parentNode&&e.category&&r.a.createElement("div",{className:"category-tree-link-child",onClick:e.handleChange},r.a.createElement("div",{className:"typography-5"},e.category.name)),e.parentNode&&e.category&&r.a.createElement("div",{className:"category-tree-link-parent"},r.a.createElement("div",{className:"typography-5 align-horizontal"},e.category.name,r.a.createElement("div",{className:"typography-4 space-left-2 current-node-label"},"chosen")),r.a.createElement("i",{className:"material-icons",onClick:e.handleChange},"call_made")))},Rt=function(e){var t,a=Object($.c)(It),c=(a.loading,a.error,a.data),i=Object(n.useState)(),o=Object(l.a)(i,2),s=o[0],m=o[1];return Object(n.useEffect)((function(){var t;(null===c||void 0===c?void 0:c.articleCategories)&&(null===(t=e.category)||void 0===t?void 0:t.id)?m(c.articleCategories.filter((function(t){var a;return t.parentCategoryId===(null===(a=e.category)||void 0===a?void 0:a.id)}))):(null===c||void 0===c?void 0:c.articleCategories)&&m(c.articleCategories.filter((function(e){return!e.parentCategoryId})))}),[e.category,c]),r.a.createElement("div",{className:"category-tree-list"},r.a.createElement("div",{className:"category-list"},r.a.createElement(zt,{category:e.category,key:null===(t=e.category)||void 0===t?void 0:t.id,parentNode:!0,handleChange:function(){var t;return e.handleChange(null===(t=e.category)||void 0===t?void 0:t.parentCategoryId)}}),null===s||void 0===s?void 0:s.map((function(t){return r.a.createElement(zt,{category:t,key:t.id,handleChange:function(){return e.handleChange(t.id)}})}))))},Mt=function(e){var t=Object(n.useState)(),a=Object(l.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)(!1),s=Object(l.a)(o,2),m=s[0],u=s[1];Object(n.useEffect)((function(){e.category&&e.categories?i([{name:"all"}].concat(Object(Ce.a)(d(e.category)))):i([{name:"..."}])}),[e.category,e.categories]);var d=function t(a){var n=e.categories.find((function(e){return e.id===a.parentCategoryId}));return n?[].concat(Object(Ce.a)(t(n)),[a]):[a]};return r.a.createElement("div",{className:"category-tree"},r.a.createElement("div",{className:"node-structure"},r.a.createElement("i",{className:"material-icons"},"label_important"),c&&c.map((function(t,a){return r.a.createElement("div",{key:t.id||a,className:"tree-node"},(a===c.length-1||e.choosable&&!m)&&r.a.createElement("div",{className:"category-name typography-5",key:t.id},t.name),a!==c.length-1&&(!e.choosable||m)&&r.a.createElement("div",{className:"category-name typography-5 hyperlink",key:t.id,onClick:function(){return e.handleChange(t.id)}},t.name),a!==c.length-1&&r.a.createElement("div",{className:"category-relation"},r.a.createElement("i",{className:"material-icons"},"keyboard_arrow_right")))})),e.choosable&&!m&&r.a.createElement("div",{className:"hyperlink-container align-horizontal action-link space-left-1"},r.a.createElement("i",{className:"material-icons"},"edit"),r.a.createElement("div",{className:"hyperlink",onClick:function(){return u(!0)}},"Change")),e.choosable&&m&&r.a.createElement("div",{className:"hyperlink-container align-horizontal action-link space-left-1"},r.a.createElement("i",{className:"material-icons"},"close"),r.a.createElement("div",{className:"hyperlink",onClick:function(){return u(!1)}},"Close"))),r.a.createElement("div",{className:"choose-node-container"},m&&r.a.createElement(Rt,{category:e.category,handleChange:e.handleChange})))},Ft=(a(482),function(e){var t,a=Object(n.useState)(Object(be.a)()),c=Object(l.a)(a,2),i=c[0],o=(c[1],Object(n.useState)(!1)),s=Object(l.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)(Object(qe.a)({},i,"")),p=Object(l.a)(d,2),f=p[0],v=p[1],h=Object(n.useState)(void 0),g=Object(l.a)(h,2),E=g[0],b=g[1];Object(n.useEffect)((function(){j(f[i])}),[e.objects]);var y=function(t){u(!1),e.handleAddition(t),v(Object(qe.a)({},i,""))},j=function(t){e.elements?b(e.elements.filter((function(e){return e.toLowerCase().includes(t.toLowerCase())}))):b(e.objects.filter((function(e){var a;return null===(a=e.value)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase())})))};Object(n.useEffect)((function(){window.addEventListener("click",(function(e){var t;(null===(t=document.getElementById(i))||void 0===t?void 0:t.contains(e.target))||u(!1)}))}),[]);return r.a.createElement("div",{className:"oak-chip-group",id:i},r.a.createElement("div",{className:"search-bar ".concat((null===(t=e.data[e.id])||void 0===t?void 0:t.length)>0?"hide-label":"")},r.a.createElement("div",{className:"chip-group"},e.data[e.id].map((function(t){return r.a.createElement("div",{className:"chip",key:t},t,r.a.createElement("i",{className:"material-icons",onClick:function(){return e.handleRemoval(t)}},"close"))}))),r.a.createElement("form",{method:"GET",onSubmit:function(e){return function(e,t){e.preventDefault(),Ke(t)||y(t)}(e,f[i])},noValidate:!0},r.a.createElement(Ge,{id:i,data:f,label:e.label,handleFocus:function(){u(!0)},handleChange:function(e){u(!0),v(Object(qe.a)({},e.target.name,e.target.value)),j(e.target.value)},placeholder:e.placeholder}))),m&&E&&E.length>0&&r.a.createElement("div",{className:"results"},e.elements&&(null===E||void 0===E?void 0:E.map((function(t){return r.a.createElement("div",{className:"element",key:t,onClick:function(){return y(t)}},e.elements?t:t.value)}))),e.objects&&(null===E||void 0===E?void 0:E.map((function(t){return r.a.createElement("div",{className:"element",key:t.key,onClick:function(){return y(t.key)}},e.elements?t:t.value)})))))});function Dt(){var e=Object(z.a)(["\n  mutation AddArticle($payload: ArticlePayload!) {\n    addArticle(payload: $payload) {\n      id\n    }\n  }\n"]);return Dt=function(){return e},e}var Bt=Object(lt.a)(Dt()),Lt=function(e){var t,a=Object($.c)(It),c=(a.loading,a.error,a.data),i=Object($.b)(Bt),o=Object(l.a)(i,2),m=o[0],u=(o[1].data,Object(n.useState)({title:"",description:"",tags:[],categoryId:"",addTags:[],removeTags:[]})),d=Object(l.a)(u,2),p=d[0],f=d[1],v=Object(n.useState)({title:null,description:null}),h=Object(l.a)(v,2),g=h[0],E=h[1],b=Object(n.useState)({tags:[]}),y=Object(l.a)(b,2),j=y[0],N=y[1];Object(n.useEffect)((function(){f({title:"",description:"",tags:[],addTags:[],removeTags:[],categoryId:e.categoryid})}),[]),Object(n.useEffect)((function(){f(Object(s.a)({},p,{categoryId:e.categoryid}))}),[e.categoryid]),Object(n.useEffect)((function(){return N(Object(s.a)({},j,{tags:[].concat(Object(Ce.a)(p.tags),Object(Ce.a)(p.addTags)).filter((function(e){return!p.removeTags.includes(e)}))}))}),[p.addTags,p.tags,p.removeTags]);var O=function(e){f(Object(s.a)({},p,Object(qe.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"page-header"},r.a.createElement(ce,{title:"Create article"}),r.a.createElement("div",{className:"action-header position-right"},r.a.createElement(me,{action:function(){var t={title:null,description:""};if(Ke(p.title)&&(t.title="Title cannot be empty"),Ke(p.description)&&(t.description="Description cannot be empty"),E(t),Xe(t)){var a={title:p.title,categoryId:p.categoryId,description:p.description,addTags:p.addTags,removeTags:p.removeTags};m({variables:{payload:a}}).then((function(t){e.history.length>2?e.history.goBack():e.history.push("/".concat(e.asset,"/article"))}))}},theme:"primary",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Save"),e.history.length>2&&r.a.createElement(me,{action:function(){e.history.goBack()},theme:"default",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"))),r.a.createElement("div",{className:"create-article-item"},r.a.createElement(Mt,{category:null===c||void 0===c?void 0:null===(t=c.articleCategories)||void 0===t?void 0:t.find((function(e){return e.id===p.categoryId})),categories:null===c||void 0===c?void 0:c.articleCategories,handleChange:function(e){f(Object(s.a)({},p,{categoryId:e}))},choosable:!0}),p.categoryId&&r.a.createElement("div",{className:"user-form"},r.a.createElement(Ge,{label:"Title",data:p,errorData:g,id:"title",handleChange:function(e){return O(e)}}),r.a.createElement(dt,{label:"Description",data:p,errorData:g,id:"description",handleChange:function(e){return O(e)}}),r.a.createElement(Ft,{handleAddition:function(e){p.tags.includes(e)?f(Object(s.a)({},p,{removeTags:p.removeTags.filter((function(t){return t!==e}))})):f(Object(s.a)({},p,{addTags:[].concat(Object(Ce.a)(p.addTags),[e]),removeTags:p.removeTags.filter((function(t){return t!==e}))}))},handleRemoval:function(e){p.tags.includes(e)?f(Object(s.a)({},p,{removeTags:[].concat(Object(Ce.a)(p.removeTags),[e]),addTags:p.addTags.filter((function(t){return t!==e}))})):f(Object(s.a)({},p,{addTags:p.addTags.filter((function(t){return t!==e}))}))},elements:["int","lorem","ipsum","dolor","wrsedfdsf","fgfdgyy","ujku","fre546","yudsf","uiasedas","y78sd"],data:j,id:"tags",label:"Tags"})),!p.categoryId&&r.a.createElement("div",{className:"typography-4"},"Choose a category to continue")))},Ht=a(25),Ut=function(e){var t=Object(n.useState)({categoryid:""}),a=Object(l.a)(t,2),c=a[0],i=a[1];return Object(n.useEffect)((function(){i(Ht.parse(e.location.search))}),[]),r.a.createElement(tt,null,r.a.createElement(at,null,r.a.createElement(Lt,{history:e.history,categoryid:c.categoryid,asset:e.asset})))},qt=(a(483),a(484),a(485),function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],i=a[1];Object(n.useEffect)((function(){c!==e.visible&&(e.visible?i(e.visible):setTimeout((function(){return i(e.visible)}),250))}),[e.visible]),Object(n.useEffect)((function(){return document.addEventListener("keydown",o,!1),function(){return document.removeEventListener("keydown",o,!1)}}),[c]);var o=function(t){27===t.keyCode&&c&&e.toggleVisibility()},s=function(){var t="";return t+=e.noheader?" noheader":"",t+=e.fullscreen?" fullscreen":"",t+=e.donotMobilize?"":" mobilize"};return r.a.createElement(r.a.Fragment,null,c&&r.a.createElement("div",{className:e.visible?"modal-root show ".concat(s()):"modal-root hide ".concat(s())},r.a.createElement("div",{className:"backdrop-fade",onClick:e.toggleVisibility}),r.a.createElement("div",{className:"oak-modal"},r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:e.visible?"container":"container hidetext"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"left"},r.a.createElement("div",{className:"icon"},"N"),r.a.createElement("div",{className:"label one-liner"},e.label)),r.a.createElement("div",{className:"right"},r.a.createElement("div",{onClick:e.toggleVisibility},r.a.createElement("i",{className:"material-icons modal-close-icon"},"close")))),e.children)))))}),Gt=function(e){return r.a.createElement(qt,{visible:e.visible,toggleVisibility:e.toggleVisibility,noheader:!0},r.a.createElement("div",{className:"modal-body typography-8 space-top-4 space-bottom-4 confirmation-text"},e.text?e.text:"Are you sure you want to continue?"),r.a.createElement("div",{className:"modal-footer"},e.children&&e.children,!e.children&&r.a.createElement(r.a.Fragment,null,r.a.createElement(me,{"data-test":"action-close",action:e.toggleVisibility,theme:"default",variant:"appear",align:"left",fa:"fas fa-times"},"No"),r.a.createElement(me,{"data-test":"action-proceed",action:function(){console.log("triggered action"),e.toggleVisibility(),console.log("before action"),e.action(),console.log("after action")},theme:"primary",variant:"disappear",align:"right",fa:"fas fa-check"},"Yes"))))},Yt=(a(486),function(e){return r.a.createElement("div",{className:"oak-viewer"},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.children||""}}))}),Vt=function(e){return r.a.createElement("div",{className:"tag-item",onClick:function(t){e.history.push("/".concat(e.asset,"/article/tag?name=").concat(e.name))}},r.a.createElement("div",{className:"tag-content"},r.a.createElement("i",{className:"material-icons"},"local_offer"),e.name))},Wt=function(e){return r.a.createElement("div",{className:"tag-container"},e.tags.map((function(t){return r.a.createElement("div",{key:null===t||void 0===t?void 0:t.id},t&&r.a.createElement(Vt,{name:t.name||"",history:e.history,asset:e.asset}))})))},Qt=function(e){var t=Object($.b)(Tt,{variables:{id:e.article.id}}),a=Object(l.a)(t,1)[0],c=Object(n.useState)(!1),i=Object(l.a)(c,2),o=i[0],s=i[1],m=function(){e.history.goBack()},u=function(){var t=Object(it.a)(ct.a.mark((function t(){return ct.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a().then((function(){e.history.length>2?m():e.history.push("/".concat(e.asset,"/article/search"))}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"view-article-item"},r.a.createElement(ce,{title:e.article.title||"",links:function(){var t=[];return e.history.length>2&&t.push({label:"Go back",icon:"reply",action:function(){return m()}}),t.push({label:"Edit",icon:"edit",action:function(){e.history.push("/".concat(e.asset,"/article/edit?id=").concat(e.id))}}),t.push({label:"Delete",icon:"delete_outline",action:function(){s(!0)}}),t}(),linkSize:"large"}),r.a.createElement(Wt,{tags:e.article.tags||[],history:e.history,asset:e.asset}),r.a.createElement(Yt,null,e.article.description)),r.a.createElement(Gt,{action:function(){return u()},visible:o,toggleVisibility:function(){return s(!o)}}))},Jt=function(e){var t=Object($.b)(xt),a=Object(l.a)(t,2),c=a[0],i=(a[1].data,Object($.b)(_t)),o=Object(l.a)(i,2),s=o[0],m=(o[1].data,Object(n.useState)([])),u=Object(l.a)(m,2),d=u[0],p=u[1],f=function(t){d.includes(t)?s({variables:{articleId:e.article.id,type:t}}).then((function(){je("notification",!0,{type:"success",message:"You have withdrawn your feedback"})})):c({variables:{articleId:e.article.id,type:t}}).then((function(){je("notification",!0,{type:"success",message:"Thank you for sharing your feedback"})}))};return Object(n.useEffect)((function(){var t;(null===(t=e.article)||void 0===t?void 0:t.feedback)?p(e.article.feedback.map((function(e){return e.type}))):p([])}),[e.article.feedback]),r.a.createElement("div",{className:"action-footer position-right space-top-4 post-feedback align-horizontal"},r.a.createElement("div",{className:"align-horizontal"},r.a.createElement("i",{className:"material-icons helpful ".concat(d.includes("helpful")?" active":""),onClick:function(){return f("helpful")}},"thumb_up"),r.a.createElement("div",{className:"typography-5"},e.article.helpful)),r.a.createElement("div",{className:"align-horizontal"},r.a.createElement("i",{className:"material-icons not-helpful ".concat(d.includes("notHelpful")?" active":""),onClick:function(){return f("notHelpful")}},"thumb_down"),r.a.createElement("div",{className:"typography-5"},e.article.notHelpful)))};function Kt(){var e=Object(z.a)(["\n  mutation UnmarkPostCommentAsAnswer($id: ID!) {\n    unmarkPostCommentAsAnswer(id: $id) {\n      id\n      isAnswer\n      post {\n        id\n        isAnswered\n        answeredOn\n      }\n    }\n  }\n"]);return Kt=function(){return e},e}function Xt(){var e=Object(z.a)(["\n  mutation MarkPostCommentAsAnswer($id: ID!) {\n    markPostCommentAsAnswer(id: $id) {\n      id\n      isAnswer\n      post {\n        id\n        isAnswered\n        answeredOn\n      }\n    }\n  }\n"]);return Xt=function(){return e},e}function Zt(){var e=Object(z.a)(["\n  mutation UnfollowPost($postId: String!) {\n    unfollowPost(postId: $postId) {\n      id\n      userId\n      post {\n        id\n        followers\n        followerList {\n          id\n          userId\n        }\n      }\n    }\n  }\n"]);return Zt=function(){return e},e}function ea(){var e=Object(z.a)(["\n  mutation FollowPost($postId: String!) {\n    followPost(postId: $postId) {\n      id\n      post {\n        id\n        followers\n        followerList {\n          id\n          userId\n        }\n      }\n    }\n  }\n"]);return ea=function(){return e},e}function ta(){var e=Object(z.a)(["\n  mutation RemovePostCommentFeedback($commentId: String!, $type: String!) {\n    removePostCommentFeedback(commentId: $commentId, type: $type) {\n      id\n      postComment {\n        id\n        helpful\n        notHelpful\n        feedback {\n          type\n        }\n      }\n    }\n  }\n"]);return ta=function(){return e},e}function aa(){var e=Object(z.a)(["\n  mutation AddPostCommentFeedback($commentId: String!, $type: String!) {\n    addPostCommentFeedback(commentId: $commentId, type: $type) {\n      id\n      postComment {\n        id\n        helpful\n        notHelpful\n        feedback {\n          type\n        }\n      }\n    }\n  }\n"]);return aa=function(){return e},e}function na(){var e=Object(z.a)(["\n  mutation UpdatePostComment($payload: PostCommentPayload!) {\n    updatePostComment(payload: $payload) {\n      id\n      text\n      parentId\n      helpful\n      notHelpful\n      isAnswer\n      createdBy\n      updatedBy\n      createdAt\n      updatedAt\n    }\n  }\n"]);return na=function(){return e},e}function ra(){var e=Object(z.a)(["\n  query PostComment($id: ID!) {\n    postComment(id: $id) {\n      id\n      text\n      parentId\n      helpful\n      notHelpful\n      isAnswer\n      createdBy\n      updatedBy\n      createdAt\n      updatedAt\n      feedback {\n        type\n      }\n    }\n  }\n"]);return ra=function(){return e},e}function ca(){var e=Object(z.a)(["\n  query PostComments($postId: String!, $pageNo: Int, $pageSize: Int) {\n    postComments(postId: $postId, pageNo: $pageNo, pageSize: $pageSize) {\n      results {\n        id\n        text\n        parentId\n        helpful\n        notHelpful\n        isAnswer\n        createdBy\n        updatedBy\n        createdAt\n        updatedAt\n        feedback {\n          type\n        }\n      }\n      pageNo\n      hasMore\n    }\n  }\n"]);return ca=function(){return e},e}function ia(){var e=Object(z.a)(["\n  query PostTagCloud {\n    postTagCloud {\n      name\n      count\n    }\n  }\n"]);return ia=function(){return e},e}function oa(){var e=Object(z.a)(["\n  mutation RemovePostFeedback($postId: String!, $type: String!) {\n    removePostFeedback(postId: $postId, type: $type) {\n      id\n      post {\n        id\n        helpful\n        notHelpful\n        feedback {\n          type\n        }\n      }\n    }\n  }\n"]);return oa=function(){return e},e}function sa(){var e=Object(z.a)(["\n  mutation AddPostFeedback($postId: String!, $type: String!) {\n    addPostFeedback(postId: $postId, type: $type) {\n      id\n      post {\n        id\n        helpful\n        notHelpful\n        feedback {\n          type\n        }\n      }\n    }\n  }\n"]);return sa=function(){return e},e}function la(){var e=Object(z.a)(["\n  mutation DeletePost($id: ID!) {\n    deletePost(id: $id) {\n      id\n    }\n  }\n"]);return la=function(){return e},e}function ma(){var e=Object(z.a)(["\n  mutation UpdatePost($payload: PostPayload!) {\n    addPost(payload: $payload) {\n      id\n      title\n      description\n      views\n      followers\n      comments\n      helpful\n      notHelpful\n      isAnswered\n      answeredOn\n      createdAt\n      updatedAt\n      tags {\n        id\n        name\n      }\n    }\n  }\n"]);return ma=function(){return e},e}function ua(){var e=Object(z.a)(["\n  query PostsByTag($tag: String!, $pageNo: Int, $pageSize: Int) {\n    postsByTag(tag: $tag, pageNo: $pageNo, pageSize: $pageSize) {\n      results {\n        id\n        name\n        post {\n          id\n          title\n          description\n          views\n          followers\n          comments\n          helpful\n          notHelpful\n          isAnswered\n          answeredOn\n          createdAt\n          updatedAt\n          tags {\n            id\n            name\n          }\n        }\n      }\n      pageNo\n      hasMore\n    }\n  }\n"]);return ua=function(){return e},e}function da(){var e=Object(z.a)(["\n  query Post($id: ID!) {\n    post(id: $id) {\n      id\n      title\n      description\n      views\n      followers\n      comments\n      helpful\n      notHelpful\n      isAnswered\n      answeredOn\n      createdAt\n      updatedAt\n      followerList {\n        id\n        userId\n      }\n      tags {\n        id\n        name\n      }\n      feedback {\n        type\n      }\n    }\n  }\n"]);return da=function(){return e},e}function pa(){var e=Object(z.a)(["\n  query MyPosts($pageNo: Int, $pageSize: Int) {\n    myPosts(pageNo: $pageNo, pageSize: $pageSize) {\n      results {\n        id\n        title\n        description\n        views\n        followers\n        comments\n        helpful\n        notHelpful\n        isAnswered\n        answeredOn\n        createdAt\n        updatedAt\n        tags {\n          id\n          name\n        }\n      }\n      pageNo\n      hasMore\n      total\n    }\n  }\n"]);return pa=function(){return e},e}function fa(){var e=Object(z.a)(["\n  query SearchPosts($text: String, $pageNo: Int, $pageSize: Int) {\n    searchPosts(text: $text, pageNo: $pageNo, pageSize: $pageSize) {\n      results {\n        id\n        title\n        description\n        views\n        followers\n        comments\n        helpful\n        notHelpful\n        isAnswered\n        answeredOn\n        createdAt\n        updatedAt\n        tags {\n          id\n          name\n        }\n      }\n      pageNo\n      hasMore\n      total\n    }\n  }\n"]);return fa=function(){return e},e}function va(){var e=Object(z.a)(["\n  query Posts($pageNo: Int, $pageSize: Int) {\n    posts(pageNo: $pageNo, pageSize: $pageSize) {\n      results {\n        id\n        title\n        description\n        views\n        followers\n        comments\n        helpful\n        notHelpful\n        isAnswered\n        answeredOn\n        createdAt\n        updatedAt\n        tags {\n          id\n          name\n        }\n      }\n      pageNo\n      hasMore\n    }\n  }\n"]);return va=function(){return e},e}var ha=M()(va()),ga=M()(fa()),Ea=M()(pa()),ba=M()(da()),ya=M()(ua()),ja=M()(ma()),Na=M()(la()),Oa=M()(sa()),wa=M()(oa()),ka=M()(ia()),Ca=M()(ca()),Sa=M()(ra()),Aa=M()(na()),Ta=M()(aa()),Ia=M()(ta()),Pa=M()(ea()),xa=M()(Zt()),_a=M()(Xt()),$a=M()(Kt()),za=function(e){var t=Object($.b)(Aa),a=Object(l.a)(t,1)[0],c=Object(n.useState)({comment:""}),i=Object(l.a)(c,2),o=i[0],m=i[1],u=Object(n.useState)({comment:""}),d=Object(l.a)(u,2),p=d[0],f=d[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(dt,{data:o,errorData:p,id:"comment",handleChange:function(e){return t=e,void m(Object(s.a)({},o,Object(qe.a)({},t.target.name,t.target.value)));var t}}),r.a.createElement("div",{className:"action-header position-right"},r.a.createElement(me,{action:function(){return e.closeEdit()},theme:"default",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"),r.a.createElement(me,{action:function(){var t={comment:""};if(Ke(o.comment)&&(t.comment="Add comment to reply"),f(t),Xe(t)){var n={parentId:e.parentid,postId:e.postId,text:o.comment};a({variables:{payload:n}}).then((function(t){t.data.updatePostComment.id&&e.closeEdit()}))}},theme:"primary",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Save")))},Ra=(a(487),function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],i=a[1];function o(){var t,a,n;((null===(t=document.querySelector(e.selector||".oak-infinite-scroll"))||void 0===t?void 0:t.clientHeight)||0)+((null===(a=document.querySelector(e.selector||".oak-infinite-scroll"))||void 0===a?void 0:a.scrollTop)||0)>=((null===(n=document.querySelector(e.selector||".oak-infinite-scroll"))||void 0===n?void 0:n.scrollHeight)||0)&&i(!0)}return Object(n.useEffect)((function(){var t;return null===(t=document.querySelector(e.selector||".oak-infinite-scroll"))||void 0===t||t.addEventListener("scroll",o),function(){var t;return null===(t=document.querySelector(e.selector||".oak-infinite-scroll"))||void 0===t?void 0:t.addEventListener("scroll",o)}}),[]),Object(n.useEffect)((function(){c&&(e.handleChange(),i(!1))}),[c]),r.a.createElement("div",{className:e.selector?"oak-infinite-scroll":"oak-infinite-scroll native-scroll"},e.children)}),Ma=a(137),Fa=(new Date).getFullYear(),Da=function(e){if(e){var t=new Date(e);return Object(Ma.a)(t,t.getFullYear()===Fa?"MMM d":"MMM d, yyyy")}return""},Ba=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)(),s=Object(l.a)(o,2),m=s[0],u=s[1];return Object(n.useEffect)((function(){var t;u(null===(t=e.users)||void 0===t?void 0:t.find((function(t){var a;return t.id===(null===(a=e.parentComment)||void 0===a?void 0:a.createdBy)})))}),[e.parentComment]),r.a.createElement("div",{className:"parent-comment-preview"},r.a.createElement("div",{className:"parent-comment-preview-header"},r.a.createElement("div",{className:"hyperlink align-horizontal",onClick:function(){return i(!c)}},"In reply to ","".concat(null===m||void 0===m?void 0:m.firstName," ").concat(null===m||void 0===m?void 0:m.lastName),"'s post on ",Da(e.parentComment.createdAt)),!c&&r.a.createElement("div",{className:"one-liner"},Ze(e.parentComment.text))),c&&r.a.createElement("div",{className:"parent-comment-preview-content"},r.a.createElement(Yt,null,e.parentComment.text)))},La=(a(207),function(e){var t=Object($.b)(Ta),a=Object(l.a)(t,2),c=a[0],i=(a[1].data,Object($.b)(Ia)),o=Object(l.a)(i,2),s=o[0],m=(o[1].data,Object(n.useState)([])),u=Object(l.a)(m,2),d=u[0],p=u[1];Object(n.useEffect)((function(){var t;(null===(t=e.comment)||void 0===t?void 0:t.feedback)?p(e.comment.feedback.map((function(e){return e.type}))):p([])}),[e.comment.feedback]);var f=function(t){d.includes(t)?s({variables:{commentId:e.comment.id,type:t}}).then((function(){je("notification",!0,{type:"success",message:"You have withdrawn your feedback"})})):c({variables:{commentId:e.comment.id,type:t}}).then((function(){je("notification",!0,{type:"success",message:"Thank you for sharing your feedback"})}))};return r.a.createElement("div",{className:"action-footer position-left comment-feedback align-horizontal"},r.a.createElement("div",{className:"align-horizontal"},r.a.createElement("i",{className:"material-icons helpful ".concat(d.includes("helpful")?" active":""),onClick:function(){return f("helpful")}},"thumb_up"),r.a.createElement("div",{className:"typography-5"},e.comment.helpful)),r.a.createElement("div",{className:"align-horizontal"},r.a.createElement("i",{className:"material-icons not-helpful ".concat(d.includes("notHelpful")?" active":""),onClick:function(){return f("notHelpful")}},"thumb_down"),r.a.createElement("div",{className:"typography-5"},e.comment.notHelpful)))}),Ha=function(e){var t=Object($.b)(Aa),a=Object(l.a)(t,1)[0],c=Object(n.useState)({comment:""}),i=Object(l.a)(c,2),o=i[0],m=i[1],u=Object(n.useState)({comment:""}),d=Object(l.a)(u,2),p=d[0],f=d[1];Object(n.useEffect)((function(){var t;m({comment:null===(t=e.comment)||void 0===t?void 0:t.text})}),[e.comment]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(dt,{data:o,errorData:p,id:"comment",handleChange:function(e){return t=e,void m(Object(s.a)({},o,Object(qe.a)({},t.target.name,t.target.value)));var t}}),r.a.createElement("div",{className:"action-footer position-right"},r.a.createElement(me,{action:e.closeEdit,theme:"default",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"),r.a.createElement(me,{action:function(){var t={comment:""};if(Ke(o.comment)&&(t.comment="Add comment to reply"),f(t),Xe(t)){var n={id:e.comment.id,parentId:e.comment.parentId,postId:e.postId,text:o.comment};a({variables:{payload:n}}).then((function(t){t.data.updatePostComment.id&&e.closeEdit()}))}},theme:"primary",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Save")))},Ua=(a(488),function(e){var t,a;return r.a.createElement("div",{className:"oak-avatar"},r.a.createElement("div",{className:"".concat(e.size?e.size:""," avatar-icon typography-6")},"".concat(null===(t=e.firstName)||void 0===t?void 0:t.substring(0,1)).concat(null===(a=e.lastName)||void 0===a?void 0:a.substring(0,1))),e.showName&&r.a.createElement("div",{className:"avatar-name"},e.firstName))}),qa=function(e){var t=Object($.b)(_a),a=Object(l.a)(t,1)[0],c=Object($.b)($a),i=Object(l.a)(c,1)[0],o=Object(n.useState)(!1),s=Object(l.a)(o,2),m=s[0],u=s[1];Object(n.useEffect)((function(){u(!!e.comment.isAnswer)}),[e.comment.isAnswer]);return r.a.createElement("div",{className:"mark-comment",onClick:function(){return m?void i({variables:{id:e.comment.id,isAnswer:m}}).then((function(){je("notification",!0,{type:"success",message:"You removed a comment as answer"})})):void a({variables:{id:e.comment.id,isAnswer:m}}).then((function(){je("notification",!0,{type:"success",message:"You marked a comment as answer"})}))}},r.a.createElement("div",{className:"mark-action ".concat(m?"active":"")},r.a.createElement("div",{className:"followers-count"},r.a.createElement("i",{className:"material-icons-outlined"},"check")),m&&r.a.createElement(r.a.Fragment,null,"Remove Answer"),!m&&r.a.createElement(r.a.Fragment,null,"Mark Answer")))};var Ga=function(e){var t,a,c=Object($.a)(),i=Object(n.useState)("none"),o=Object(l.a)(i,2),s=o[0],m=o[1],u=Object(n.useState)(),d=Object(l.a)(u,2),p=d[0],f=d[1],v=Object(n.useState)(),h=Object(l.a)(v,2),g=h[0],E=h[1];return Object(n.useEffect)((function(){!function(){var t=Object(it.a)(ct.a.mark((function t(){var a,n,r,i,o;return ct.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null===(a=e.comments)||void 0===a?void 0:a.find((function(t){return t.id===e.comment.parentId})),f(r),r){t.next=8;break}return t.next=5,c.query({query:Sa,variables:{id:e.comment.parentId}});case 5:i=t.sent,o=i.data,f(null===o||void 0===o?void 0:o.postComment);case 8:E(null===(n=e.users)||void 0===n?void 0:n.find((function(t){var a;return t.id===(null===(a=e.comment)||void 0===a?void 0:a.createdBy)})));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e.comment]),r.a.createElement("div",{className:"view-comment ".concat(e.comment.isAnswer?"answer":"")},r.a.createElement("div",{className:"view-comment-header"},r.a.createElement("div",{className:"view-comment-meta"},g&&r.a.createElement(Ua,{firstName:g.firstName||"",lastName:g.lastName||"",showName:!0,size:"small"})," ","replied on ",Da(null===(t=e.comment)||void 0===t?void 0:t.createdAt)),r.a.createElement("div",{className:"view-comment-actions"},r.a.createElement(qa,{comment:e.comment}),r.a.createElement("div",{className:"hyperlink-container"},r.a.createElement("i",{className:"material-icons typography-6"},"edit"),r.a.createElement("div",{className:"hyperlink",onClick:function(){return m("editcomment")}},"Edit")),r.a.createElement("div",{className:"hyperlink-container"},r.a.createElement("i",{className:"material-icons typography-6"},"reply"),r.a.createElement("div",{className:"hyperlink",onClick:function(){return m("reply")}},"Reply")))),["none","reply"].includes(s)&&r.a.createElement(r.a.Fragment,null,p&&r.a.createElement(Ba,{parentComment:p,users:e.users}),r.a.createElement(Yt,null,null===(a=e.comment)||void 0===a?void 0:a.text),"none"===s&&r.a.createElement("div",{className:"action-footer position-between space-top-4"},r.a.createElement(La,{comment:e.comment}),e.comment.isAnswer&&r.a.createElement("div",{className:"align-horizontal accepted-answer-container"},r.a.createElement("div",{className:"accepted-answer-label typography-4"},"Accepted answer"),r.a.createElement("i",{className:"answered-answer-icon material-icons-outlined"},"verified")))),"reply"===s&&r.a.createElement(za,{postId:e.postId,closeEdit:function(){return m("none")},parentid:e.comment.id}),"editcomment"===s&&r.a.createElement(Ha,{postId:e.postId,closeEdit:function(){return m("none")},comment:e.comment}))},Ya=function(e){var t,a,n,c,i=Object($.c)(Ca,{variables:{postId:e.postId,pageSize:10,pageNo:0},fetchPolicy:"cache-and-network"}),o=i.loading,l=i.data,m=i.fetchMore,u=Object($.c)(te),d=(u.loading,u.data);return r.a.createElement(Ra,{handleChange:function(){var e,t;(null===l||void 0===l?void 0:null===(e=l.postComments)||void 0===e?void 0:e.hasMore)&&m({variables:{pageNo:null===l||void 0===l?void 0:null===(t=l.postComments)||void 0===t?void 0:t.pageNo},updateQuery:function(e,t){var a=t.fetchMoreResult;return{postComments:Object(s.a)({},e.postComments,{results:[].concat(Object(Ce.a)(e.postComments.results),Object(Ce.a)(a.postComments.results)),pageNo:a.postComments.pageNo,hasMore:a.postComments.hasMore})}}})},selector:".oak-page"},r.a.createElement("div",{className:"comment-list"},null===l||void 0===l?void 0:null===(t=l.postComments)||void 0===t?void 0:null===(a=t.results)||void 0===a?void 0:a.map((function(t){var a;return r.a.createElement(Ga,{postId:e.postId,comment:t,comments:null===(a=l.postComments)||void 0===a?void 0:a.results,users:null===d||void 0===d?void 0:d.users,key:t.id})})),0===(null===l||void 0===l?void 0:null===(n=l.postComments)||void 0===n?void 0:null===(c=n.results)||void 0===c?void 0:c.length)&&r.a.createElement("div",{className:"typography-6"},"No comments")),r.a.createElement("div",null,o?r.a.createElement(ae,null):""))},Va=(a(489),function(e){var t;return r.a.createElement("div",{className:"oak-subheading"},r.a.createElement("div",{className:"heading-title typography-8"},e.title),e.subtitle&&r.a.createElement("div",{className:"heading-subtitle typography-4"},e.subtitle),r.a.createElement("div",{className:"heading-links"},null===(t=e.links)||void 0===t?void 0:t.map((function(t,a){return r.a.createElement(re,{link:t,key:a,size:e.linkSize})}))),e.children&&r.a.createElement("div",{className:"heading-children"},e.children),r.a.createElement("div",{className:"heading-highlight"}))}),Wa=function(e){var t,a,c=Object($.c)(Ca,{variables:{postId:e.postId},fetchPolicy:"network-only"}),i=(c.loading,c.data),o=(c.fetchMore,Object(n.useState)(!1)),s=Object(l.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)(!0),p=Object(l.a)(d,2),f=p[0],v=p[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section-header"},r.a.createElement(Va,{title:"Comments (".concat(null===i||void 0===i?void 0:null===(t=i.postComments)||void 0===t?void 0:null===(a=t.results)||void 0===a?void 0:a.length,")"),links:[{label:"New comment",icon:"add_comment",action:function(){return u(!m)}},{label:f?"Hide":"Show",icon:f?"expand_less":"expand_more",action:function(){return v(!f)}}],linkSize:"large"})),m&&r.a.createElement(za,{postId:e.postId,closeEdit:function(){return u(!1)}}),r.a.createElement("div",{className:f?"comment-list show":"comment-list hide"},r.a.createElement(Ya,{postId:e.postId})))},Qa=a(25),Ja=function(e){var t=Object(n.useState)({id:""}),a=Object(l.a)(t,2),c=a[0],i=a[1],o=Object($.c)(Ct,{variables:{id:c.id},fetchPolicy:"cache-and-network"}),s=o.loading,m=o.error,u=o.data;return Object(n.useEffect)((function(){i(Qa.parse(e.location.search))}),[e.location.search]),r.a.createElement(tt,null,r.a.createElement(at,null,s&&r.a.createElement(ae,null),!s&&!m&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Qt,{history:e.history,id:c.id,asset:e.asset,article:u.article}),r.a.createElement(Jt,{article:u.article})),m&&r.a.createElement("div",{className:"typography-6"},"Article does not exist")),r.a.createElement(at,null,r.a.createElement("div",{className:"comment-section-wrapper"},r.a.createElement(Wa,{postId:c.id}))))},Ka=(a(490),function(e){var t,a=Object($.c)(It).data,c=Object($.b)(At),i=Object(l.a)(c,1)[0],o=Object(n.useState)({id:"",title:"",description:"",tags:[],addTags:[],removeTags:[],categoryId:""}),m=Object(l.a)(o,2),u=m[0],d=m[1],p=Object(n.useState)({tags:[]}),f=Object(l.a)(p,2),v=f[0],h=f[1];Object(n.useEffect)((function(){var t,a,n=[];null===(t=e.article.tags)||void 0===t||t.map((function(e){n.push((null===e||void 0===e?void 0:e.name)||"")})),d({id:e.article.id,title:e.article.title,description:e.article.description,categoryId:null===(a=e.article.category)||void 0===a?void 0:a.id,tags:n,addTags:[],removeTags:[]})}),[]),Object(n.useEffect)((function(){return h(Object(s.a)({},v,{tags:[].concat(Object(Ce.a)(u.tags),Object(Ce.a)(u.addTags)).filter((function(e){return!u.removeTags.includes(e)}))}))}),[u.addTags,u.tags,u.removeTags]);var g=function(e){d(Object(s.a)({},u,Object(qe.a)({},e.target.name,e.target.value)))},E=function(e,t){return!Ke(e)||(je("notification",!0,{type:"failure",message:t,duration:5e3}),!1)},b=function(){var t=Object(it.a)(ct.a.mark((function t(){var a;return ct.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:E(u.title,"Title is not provided")&&E(u.description,"Provide details for the mentioned title")&&(a={id:e.article.id,title:u.title,description:u.description,addTags:u.addTags,removeTags:u.removeTags,categoryId:u.categoryId},i({variables:{payload:a}}).then((function(t){e.history.length>2&&e.history.goBack()})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"page-header"},r.a.createElement(ce,{title:"Edit article"}),r.a.createElement("div",{className:"action-header position-right"},r.a.createElement(me,{action:b,theme:"primary",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Save"),e.history.length>2&&r.a.createElement(me,{action:function(){e.history.goBack()},theme:"default",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"))),r.a.createElement("div",{className:"create-article-item"},r.a.createElement(Mt,{category:null===a||void 0===a?void 0:null===(t=a.articleCategories)||void 0===t?void 0:t.find((function(e){return e.id===u.categoryId})),categories:null===a||void 0===a?void 0:a.articleCategories,handleChange:function(e){d(Object(s.a)({},u,{categoryId:e}))},choosable:!0}),r.a.createElement("div",{className:"user-form"},r.a.createElement(Ge,{label:"Title",data:u,id:"title",handleChange:function(e){return g(e)}}),r.a.createElement(dt,{label:"Description",data:u,id:"description",handleChange:g}),r.a.createElement(Ft,{handleAddition:function(e){u.tags.includes(e)?d(Object(s.a)({},u,{removeTags:u.removeTags.filter((function(t){return t!==e}))})):d(Object(s.a)({},u,{addTags:[].concat(Object(Ce.a)(u.addTags),[e]),removeTags:u.removeTags.filter((function(t){return t!==e}))}))},handleRemoval:function(e){u.tags.includes(e)?d(Object(s.a)({},u,{removeTags:[].concat(Object(Ce.a)(u.removeTags),[e]),addTags:u.addTags.filter((function(t){return t!==e}))})):d(Object(s.a)({},u,{addTags:u.addTags.filter((function(t){return t!==e}))}))},elements:["int","lorem","ipsum","dolor","wrsedfdsf","fgfdgyy","ujku","fre546","yudsf","uiasedas","y78sd"],data:v,id:"tags",label:"Tags"}))))}),Xa=a(25),Za=function(e){var t=Object(n.useState)({id:"",categoryId:""}),a=Object(l.a)(t,2),c=a[0],i=a[1],o=Object($.c)(Ct,{variables:{id:c.id}}),s=o.loading,m=o.error,u=o.data;return Object(n.useEffect)((function(){i(Xa.parse(e.location.search))}),[e.location.search]),r.a.createElement(tt,null,r.a.createElement(at,null,!s&&!m&&r.a.createElement(Ka,{history:e.history,id:c.id,asset:e.asset,article:u.article}),s&&r.a.createElement(ae,null)))},en=(a(55),a(491),function(e){var t,a,n,c,i,o,s,l,m,u;return r.a.createElement("div",{className:"article-link"},r.a.createElement("div",{className:"article-title typography-7"},r.a.createElement("div",{className:"link hyperlink-drama",onClick:function(){e.history.push("/".concat(e.asset,"/article/view?id=").concat(e.article.id))}},null===(t=e.article)||void 0===t?void 0:t.title)),r.a.createElement("div",{className:"article-meta"},(null===(a=e.article)||void 0===a?void 0:a.createdAt)&&r.a.createElement("div",{className:"article-date"},"Published on ",Da(null===(n=e.article)||void 0===n?void 0:n.createdAt)),(null===(c=e.article)||void 0===c?void 0:c.views)>0&&r.a.createElement("div",{className:"article-statistic-chip"},"".concat(null===(i=e.article)||void 0===i?void 0:i.views," ").concat(1===(null===(o=e.article)||void 0===o?void 0:o.views)?"view":"views")),(null===(s=e.article)||void 0===s?void 0:s.helpful)>0&&r.a.createElement("div",{className:"article-statistic-chip helpful"},null===(l=e.article)||void 0===l?void 0:l.helpful,r.a.createElement("i",{className:"material-icons"},"thumb_up")),(null===(m=e.article)||void 0===m?void 0:m.notHelpful)>0&&r.a.createElement("div",{className:"article-statistic-chip not-helpful"},null===(u=e.article)||void 0===u?void 0:u.notHelpful,r.a.createElement("i",{className:"material-icons"},"thumb_down"))),r.a.createElement("div",{className:"article-description typography-4 three-liner"},Ze(e.article.description)))}),tn=function(e){var t,a,n,c,i=Object($.c)(wt,{variables:{categoryId:e.categoryId,pageSize:10,pageNo:0},fetchPolicy:"cache-and-network"}),o=i.loading,l=i.data,m=i.fetchMore;return r.a.createElement(r.a.Fragment,null,e.categoryId&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section-header"},r.a.createElement(Va,{title:"Articles"}),r.a.createElement("div",null,r.a.createElement(me,{theme:"primary",variant:"regular",action:function(t){e.history.push("/".concat(e.asset,"/article/create?categoryid=").concat(e.categoryId))}},"New article"))),r.a.createElement(Ra,{handleChange:function(){var e,t;(null===l||void 0===l?void 0:null===(e=l.articles)||void 0===e?void 0:e.hasMore)&&m({variables:{pageNo:null===l||void 0===l?void 0:null===(t=l.articles)||void 0===t?void 0:t.pageNo},updateQuery:function(e,t){var a=t.fetchMoreResult;return{articles:Object(s.a)({},e.articles,{results:[].concat(Object(Ce.a)(e.articles.results),Object(Ce.a)(a.articles.results)),pageNo:a.articles.pageNo,hasMore:a.articles.hasMore})}}})},selector:".oak-page"},r.a.createElement("div",{className:"article-section"},r.a.createElement("div",{className:"article-list-container"},null===l||void 0===l?void 0:null===(t=l.articles)||void 0===t?void 0:null===(a=t.results)||void 0===a?void 0:a.map((function(t){return r.a.createElement(en,{key:t.id,article:t,asset:e.asset,history:e.history})})),0===(null===l||void 0===l?void 0:null===(n=l.articles)||void 0===n?void 0:null===(c=n.results)||void 0===c?void 0:c.length)&&r.a.createElement("div",{className:"typography-6"},"No articles")),r.a.createElement("div",null,o?r.a.createElement(ae,null):"")))))},an=function(e){var t=Object(n.useState)(0),a=Object(l.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)(0),s=Object(l.a)(o,2),m=s[0],u=s[1],d=function t(a,n){var r=a;r+=n.articles;var c=e.categories.filter((function(e){return e.parentCategoryId===n.id}));return 0===c.length?r:(c.forEach((function(e){r+=t(a,e)})),r)};return Object(n.useEffect)((function(){e.category&&e.categories&&(i(d(0,e.category)),u(e.categories.filter((function(t){return t.parentCategoryId===e.category.id})).length))}),[e.categories,e.category]),r.a.createElement("div",{className:"category-view",onClick:e.handleClick},r.a.createElement("div",{className:"typography-8"},e.category.name),c>0&&r.a.createElement("div",{className:"typography-4"},"".concat(c," articles")),0===c&&r.a.createElement("div",{className:"typography-4"},"No articles"),m>0&&r.a.createElement("div",{className:"typography-4"},"".concat(m," sub categories")))},nn=function(e){var t=Object($.b)(Pt),a=Object(l.a)(t,1)[0],c=Object(n.useState)({name:""}),i=Object(l.a)(c,2),o=i[0],m=i[1],u=function(t){t.preventDefault();var n={name:o.name,parentCategoryId:e.parentCategoryId};a({variables:{payload:n},update:function(e,t){var a=t.data.addArticleCategory,n=e.readQuery({query:It});e.writeQuery({query:It,data:{articleCategories:[].concat(Object(Ce.a)(n.articleCategories),[a])}})}}),e.handleClose()};return r.a.createElement("div",{className:"create-category"},r.a.createElement("form",{method:"GET",onSubmit:u,noValidate:!0},r.a.createElement(Ge,{data:o,id:"name",handleChange:function(e){m(Object(s.a)({},o,Object(qe.a)({},e.target.name,e.target.value)))},label:"Category name"})),r.a.createElement("div",{className:"action-footer"},o.name&&r.a.createElement(me,{theme:"primary",variant:"appear",action:u},"Save"),r.a.createElement(me,{theme:"default",variant:"appear",action:e.handleClose},"Cancel")))},rn=function(e){return r.a.createElement("div",{className:"create-category-link",onClick:e.action},r.a.createElement("i",{className:"material-icons"},"add_circle"),r.a.createElement("div",null,"Category"))},cn=function(e){var t,a=Object($.c)(It),c=a.loading,i=(a.error,a.data),o=Object(n.useState)(),s=Object(l.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(l.a)(d,2),f=p[0],v=p[1];return Object(n.useEffect)((function(){(null===i||void 0===i?void 0:i.articleCategories)&&e.categoryId?u(i.articleCategories.filter((function(t){return t.parentCategoryId===e.categoryId}))):(null===i||void 0===i?void 0:i.articleCategories)&&u(i.articleCategories.filter((function(e){return!e.parentCategoryId})))}),[e.categoryId,i]),r.a.createElement("div",{className:"category-section"},r.a.createElement("div",{className:"category-section-header"},r.a.createElement(Va,{title:"Category"},r.a.createElement(Mt,{category:null===i||void 0===i?void 0:null===(t=i.articleCategories)||void 0===t?void 0:t.find((function(t){return t.id===e.categoryId})),categories:null===i||void 0===i?void 0:i.articleCategories,handleChange:e.handleChange}))),m&&m.length>0&&r.a.createElement("div",{className:"typography-4"},"Choose a category to explore"),r.a.createElement("div",{className:"category-list"},null===m||void 0===m?void 0:m.map((function(t){return r.a.createElement(an,{category:t,categories:null===i||void 0===i?void 0:i.articleCategories,key:t.id,handleClick:function(){return e.handleChange(t.id)}})})),!f&&r.a.createElement(rn,{action:function(){return v(!0)}}),f&&r.a.createElement(nn,{parentCategoryId:e.categoryId,handleClose:function(){return v(!1)}})),e.categoryId&&r.a.createElement("div",{className:"section-close"}),r.a.createElement("div",null,c?r.a.createElement(ae,null):""))},on=a(25),sn=function(e){var t=Object(n.useState)({categoryid:""}),a=Object(l.a)(t,2),c=a[0],i=a[1];Object(n.useEffect)((function(){i(on.parse(e.location.search))}),[e.location.search]);return r.a.createElement(tt,null,r.a.createElement(at,null,r.a.createElement("div",{className:"browse-article"},r.a.createElement(ce,{title:"Browse articles by category",links:[{label:"Or Search instead",action:function(){e.history.push("/".concat(e.asset,"/article/search"))}}]}),r.a.createElement("div",{className:"typography-4"},"Articles are grouped based on a logical hierarchy for easier navigation. Here you can explore the articles by narrowing down your search context in the predefined category structure"),r.a.createElement("div",{className:"section-close"}),r.a.createElement(cn,{categoryId:c.categoryid,handleChange:function(t){e.history.push({pathname:e.location.pathname,search:t?"?categoryid=".concat(t):""})},history:e.history,asset:e.asset}),r.a.createElement(tn,{categoryId:c.categoryid,history:e.history,asset:e.asset}))))},ln=(a(130),function(e){var t=function(t){e.history.push("/".concat(e.asset,"/post"))};return r.a.createElement("div",{className:"search-alternate-section"},r.a.createElement("div",{className:"typography-4 no-article-match-message"},"No articles found matching your search criteria"),r.a.createElement(Va,{title:"Here is what you can do next",subtitle:"Other ways of getting answer"}),r.a.createElement("div",{className:"no-article-match-action"},r.a.createElement("div",{className:"hyperlink",onClick:function(t){e.history.push("/".concat(e.asset,"/article/browse"))}},"Browse articles by category"),r.a.createElement("div",{className:"hyperlink",onClick:t},"Search posts from other users"),r.a.createElement("div",{className:"hyperlink",onClick:t},"Submit your question")))}),mn=function(e){var t,a,c,i,o,m,u=Object(n.useState)({text:""}),d=Object(l.a)(u,2),p=d[0],f=d[1],v=Object($.c)(kt,{variables:{text:e.text,pageSize:10,pageNo:0}}),h=v.loading,g=(v.error,v.data),E=v.fetchMore,b=v.refetch;Object(n.useEffect)((function(){f({text:e.text||""}),b()}),[e.text]);return r.a.createElement("div",{className:"search-section"},r.a.createElement("form",{method:"GET",onSubmit:function(t){t.preventDefault(),p.text&&e.handleSearchTextChange(p.text)},noValidate:!0},r.a.createElement(Ge,{data:p,id:"text",handleChange:function(e){f(Object(s.a)({},p,Object(qe.a)({},e.target.name,e.target.value)))},label:"Type your question"})),r.a.createElement(Ra,{handleChange:function(){var e,t;(null===g||void 0===g?void 0:null===(e=g.searchArticles)||void 0===e?void 0:e.hasMore)&&E({variables:{pageNo:null===g||void 0===g?void 0:null===(t=g.searchArticles)||void 0===t?void 0:t.pageNo},updateQuery:function(e,t){var a=t.fetchMoreResult;return{searchArticles:Object(s.a)({},e.searchArticles,{results:[].concat(Object(Ce.a)(e.searchArticles.results),Object(Ce.a)(a.searchArticles.results)),pageNo:a.searchArticles.pageNo,hasMore:a.searchArticles.hasMore})}}})},selector:".oak-page"},r.a.createElement("div",{className:"search-results-section"},r.a.createElement("div",{className:"search-results-container"},(null===g||void 0===g?void 0:null===(t=g.searchArticles)||void 0===t?void 0:null===(a=t.results)||void 0===a?void 0:a.length)>0&&r.a.createElement(Va,{title:"Search results",subtitle:'Showing results for "'.concat(e.text,'"')}),null===g||void 0===g?void 0:null===(c=g.searchArticles)||void 0===c?void 0:null===(i=c.results)||void 0===i?void 0:i.map((function(t){return r.a.createElement(en,{key:t.id,article:t,asset:e.asset,history:e.history})})),0===(null===g||void 0===g?void 0:null===(o=g.searchArticles)||void 0===o?void 0:null===(m=o.results)||void 0===m?void 0:m.length)&&e.text&&!h&&r.a.createElement(ln,{history:e.history,asset:e.asset})),r.a.createElement("div",null,h?r.a.createElement(ae,null):""))))},un=a(25),dn=function(e){var t=Object(n.useState)({text:""}),a=Object(l.a)(t,2),c=a[0],i=a[1];Object(n.useEffect)((function(){i(un.parse(e.location.search))}),[e.location.search]);return r.a.createElement(tt,null,r.a.createElement(at,null,r.a.createElement("div",{className:"browse-article"},r.a.createElement(ce,{title:"Search articles",links:[{label:"Or Browse by category instead",action:function(){e.history.push("/".concat(e.asset,"/article/browse"))}}]}),r.a.createElement(mn,{asset:e.asset,history:e.history,text:c.text,handleSearchTextChange:function(t){e.history.push("/".concat(e.asset,"/article/search?text=").concat(t))}}))))},pn=(a(96),function(e){return r.a.createElement("div",{className:"tag-link"},r.a.createElement("div",{className:"hyperlink-drama",onClick:e.handleClick},e.tag.name," "),r.a.createElement("div",null,"\xa0(".concat(e.tag.count,")")))}),fn=function(e){var t,a=Object($.c)($t,{fetchPolicy:"cache-and-network"}).data;return r.a.createElement(at,null,r.a.createElement(ce,{title:"Articles by tag",links:[{label:"Or Search instead",action:function(){e.history.push("/".concat(e.asset,"/article/search"))}}]}),r.a.createElement("div",{className:"tag-section"},null===a||void 0===a?void 0:null===(t=a.articleTagCloud)||void 0===t?void 0:t.map((function(t){return r.a.createElement(pn,{key:t.name,tag:t,handleClick:function(){return e.handleChange(t.name)}})}))))},vn=function(e){var t,a,n=Object($.c)(St,{variables:{tag:e.tag,pageSize:10,pageNo:0},fetchPolicy:"cache-and-network"}),c=n.loading,i=(n.error,n.data),o=n.fetchMore;n.refetch;return r.a.createElement(at,null,r.a.createElement(ce,{title:"Articles by tag",subtitle:'Showing articles for tag "'.concat(e.tag,'"'),links:[{label:"Go back",icon:"reply",action:function(){e.history.goBack()}},{label:"See other tags",icon:"local_offer",action:function(){e.history.push("/".concat(e.asset,"/article/tag"))}}]}),r.a.createElement("div",{className:"tag-article-section"},r.a.createElement(Ra,{handleChange:function(){var e,t;(null===i||void 0===i?void 0:null===(e=i.articlesByTag)||void 0===e?void 0:e.hasMore)&&o({variables:{pageNo:null===i||void 0===i?void 0:null===(t=i.articlesByTag)||void 0===t?void 0:t.pageNo},updateQuery:function(e,t){var a=t.fetchMoreResult;return{articlesByTag:Object(s.a)({},e.articlesByTag,{results:[].concat(Object(Ce.a)(e.articlesByTag.results),Object(Ce.a)(a.articlesByTag.results)),pageNo:a.articlesByTag.pageNo,hasMore:a.articlesByTag.hasMore})}}})},selector:".oak-page"},r.a.createElement("div",{className:"search-results-section"},r.a.createElement("div",{className:"search-results-container"},null===i||void 0===i?void 0:null===(t=i.articlesByTag)||void 0===t?void 0:null===(a=t.results)||void 0===a?void 0:a.map((function(t,a){var n;return r.a.createElement("div",{key:(null===t||void 0===t?void 0:null===(n=t.article)||void 0===n?void 0:n.id)||a},(null===t||void 0===t?void 0:t.article)&&r.a.createElement(en,{article:t.article,asset:e.asset,history:e.history}))}))),r.a.createElement("div",null,c?r.a.createElement(ae,null):"")))))},hn=a(25),gn=function(e){var t=Object(n.useState)({name:""}),a=Object(l.a)(t,2),c=a[0],i=a[1];Object(n.useEffect)((function(){i(hn.parse(e.location.search))}),[e.location.search]);return r.a.createElement(tt,null,!c.name&&r.a.createElement(fn,{handleChange:function(t){e.history.push("/".concat(e.asset,"/article/tag?name=").concat(t))},asset:e.asset,history:e.history}),c.name&&r.a.createElement(vn,{tag:c.name,asset:e.asset,history:e.history}))},En=function(e){var t=Object($.b)(Z),a=Object(l.a)(t,2),c=a[0],i=(a[1].data,Object(n.useState)({name:"",description:"",email:"",jwtPassword:""})),o=Object(l.a)(i,2),m=o[0],u=o[1],d=Object(n.useState)({name:"",description:"",email:"",jwtPassword:""}),p=Object(l.a)(d,2),f=p[0],v=p[1],h=function(e){u(Object(s.a)({},m,Object(qe.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"page-header"},r.a.createElement(ce,{title:"Create asset"}),r.a.createElement("div",{className:"action-header position-right"},r.a.createElement(me,{action:function(t){var a={name:"",description:"",email:"",jwtPassword:""};if(Ke(m.name)&&(a.name="Name cannot be empty"),Ke(m.description)&&(a.description="Description cannot be empty"),Ke(m.email)&&(a.email="Email cannot be empty"),Ke(m.jwtPassword)&&(a.jwtPassword="JWT Password cannot be empty"),/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(m.email.trim().toLowerCase())||(a.email="Invalid email"),v(a),Xe(a)){var n={name:m.name,description:m.description,jwtPassword:m.jwtPassword},r={email:m.email.trim().toLowerCase()};c({variables:{payload:n,addition:r}}).then((function(t){console.log(t),t.data.createAsset.id?e.history.push("/asset/summary?id=".concat(t.data.createAsset.assetId)):je("notification",!0,{type:"failure",message:"Unknown error"})})).finally((function(){v(a),je("spinner",!1)}))}else v(a),je("spinner",!1)},theme:"primary",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Save"),e.history.length>2&&r.a.createElement(me,{action:function(){e.history.goBack()},theme:"default",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"))),r.a.createElement("div",{className:"create-article-item"},r.a.createElement("div",{className:"user-form"},r.a.createElement(Ge,{label:"Asset Name",data:m,errorData:f,id:"name",handleChange:function(e){return h(e)}}),r.a.createElement(Ge,{label:"Description",data:m,errorData:f,id:"description",multiline:!0,handleChange:function(e){return h(e)}}),r.a.createElement(Ge,{label:"Email",data:m,errorData:f,id:"email",handleChange:function(e){return h(e)}}),r.a.createElement("div",{className:"typography-3"},"This email is used for sending first time login information with Administrative rights to this asset. You will be sent with a login token that you can use to setup the asset. You can add more administrator accounts once you login with the provided link."),r.a.createElement(Ge,{label:"JWT Password",data:m,errorData:f,id:"jwtPassword",handleChange:function(e){return h(e)}}),r.a.createElement("div",{className:"typography-3"},"Make a note of this password. You need this password to setup redirection from your host application. This is the password that is used to securely transmit or redirect user information from host application to mirror. Use this password in your host application while creating a JWT token to transmit information to mirror."))))},bn=function(e){return r.a.createElement(tt,null,r.a.createElement(at,null,r.a.createElement(En,{history:e.history})))},yn=(a(492),function(e){return r.a.createElement(r.a.Fragment,null,e.asset&&r.a.createElement("div",{className:"view-asset-item"},r.a.createElement(ce,{title:"Asset detail",links:[{label:"Edit",icon:"edit",action:function(){e.history.push("/".concat(e.asset.assetId,"/asset/edit"))}},{label:"Delete",icon:"delete_outline",action:function(){console.log("To Be implemented")}}],linkSize:"large"}),r.a.createElement("div",{className:"typography-8"},e.asset.name),r.a.createElement(Yt,null,e.asset.description)),!e.asset&&r.a.createElement("div",{className:"typography-6"},"Asset does not exist"))}),jn=function(e){var t=Object($.c)(X,{variables:{assetId:e.asset}}),a=t.loading,n=t.error,c=t.data;return r.a.createElement(tt,null,r.a.createElement(at,null,a&&r.a.createElement(ae,null),!a&&!n&&r.a.createElement(yn,{history:e.history,asset:c.asset}),n&&r.a.createElement("div",{className:"typography-6"},"Asset does not exist")))},Nn=(a(493),function(e){var t=Object($.b)(ee),a=Object(l.a)(t,1)[0],c=Object(n.useState)({id:"",name:"",description:"",jwtPassword:"",productionMode:""}),i=Object(l.a)(c,2),o=i[0],m=i[1],u=Object(n.useState)({id:"",name:"",description:"",jwtPassword:""}),d=Object(l.a)(u,2),p=d[0],f=d[1];Object(n.useEffect)((function(){e.asset&&m({id:e.id,name:e.assetData.name,description:e.assetData.description,productionMode:e.assetData.productionMode,jwtPassword:e.assetData.jwtPassword})}),[]);var v=function(e){m(Object(s.a)({},o,Object(qe.a)({},e.target.name,e.target.value)))},h=function(){var t=Object(it.a)(ct.a.mark((function t(){var n,r;return ct.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={name:"",description:"",email:"",jwtPassword:""},Ke(o.name)&&(n.name="Name cannot be empty"),Ke(o.description)&&(n.description="Description cannot be empty"),Ke(o.jwtPassword)&&(n.jwtPassword="JWT Password cannot be empty"),f(n),Xe(n)&&(r={id:e.assetData.id,name:o.name,description:o.description,jwtPassword:o.jwtPassword,productionMode:o.productionMode},a({variables:{payload:r}}).then((function(t){e.history.length>2&&e.history.goBack()})));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t={id:e.assetData.id,productionMode:!o.productionMode};a({variables:{payload:t}}).then((function(t){t.data.updateAsset.id&&e.history.goBack()}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"page-header"},e.asset&&r.a.createElement(ce,{title:r.a.createElement("div",{className:"align-horizontal"},"Edit asset",r.a.createElement("div",{className:"asset-status-container space-left-1 typography-4"},!o.productionMode&&r.a.createElement("div",{className:"asset-status down"},"down"),o.productionMode&&r.a.createElement("div",{className:"asset-status live"},"live")))},!o.productionMode&&r.a.createElement("div",{className:"align-horizontal"},"To activate asset, \xa0",r.a.createElement("div",{className:"hyperlink",onClick:g},"turn on production mode")),o.productionMode&&r.a.createElement("div",{className:"align-horizontal"},"To activate asset, \xa0",r.a.createElement("div",{className:"hyperlink",onClick:g},"turn off production mode"))),e.assetData&&r.a.createElement("div",{className:"action-header position-right"},r.a.createElement(me,{action:h,theme:"primary",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Save"),e.history.length>2&&r.a.createElement(me,{action:function(){e.history.goBack()},theme:"default",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"))),e.asset&&r.a.createElement("div",{className:"create-article-item"},r.a.createElement("div",{className:"user-form"},r.a.createElement(Ge,{label:"Asset Name",data:o,errorData:p,id:"name",handleChange:function(e){return v(e)}}),r.a.createElement(Ge,{label:"Description",data:o,errorData:p,id:"description",multiline:!0,handleChange:v}),r.a.createElement(Ge,{label:"JWTPassword",data:o,errorData:p,id:"jwtPassword",type:"password",handleChange:function(e){return v(e)}}))),!e.assetData&&r.a.createElement("div",{className:"typography-6"},"Asset does not exist"))}),On=function(e){var t=Object($.c)(X,{variables:{assetId:e.match.params.asset}}),a=t.loading,n=t.error,c=t.data;return r.a.createElement(tt,null,r.a.createElement(at,null,!a&&!n&&r.a.createElement(Nn,{asset:e.asset,history:e.history,id:e.match.params.asset,assetData:c.asset}),n&&r.a.createElement("div",{className:"typography-6"},"Asset does not exist")))},wn=(a(208),function(e){return r.a.createElement("div",{className:"space-list-item align-horizontal",onClick:function(){window.location.href="".concat("https://oneauth-app.ioak.io","/#/space/").concat(e.space.spaceId,"/login?type=signin&appId=").concat("77c6669d55b862038fc06d72","&asset=").concat(e.asset).concat(e.from?"&from=".concat(e.from):"")}},r.a.createElement("div",{className:"space-list-item--link"},r.a.createElement("div",{className:"typography-6 space-horizontal-1"},e.space.name)),"( ",r.a.createElement("div",{className:"typography-4"},e.space.spaceId)," )")}),kn=a(25),Cn=function(e){var t=Object(m.d)((function(e){return e.authorization})),a=Object(n.useState)(void 0),c=Object(l.a)(a,2),i=c[0],o=c[1],u=Object(n.useState)({text:""}),d=Object(l.a)(u,2),p=d[0],f=d[1],v=Object(n.useState)(!1),h=Object(l.a)(v,2),g=h[0],E=h[1],b=Object(n.useState)(),y=Object(l.a)(b,2),j=y[0],N=y[1];Object(n.useEffect)((function(){var t=kn.parse(e.location.search);t.space&&(window.location.href="".concat("https://oneauth-app.ioak.io","/#/space/").concat(t.space,"/login?type=signin&appId=").concat("77c6669d55b862038fc06d72","&asset=").concat(e.asset,"&from=").concat(t.from)),N(t)}),[]),Object(n.useEffect)((function(){E(!0),he("/space/introspect",null,"https://api.ioak.io:8010").then((function(e){return Promise.resolve(e.data)})).then((function(e){o(O(e.data,p.text)),E(!1)}))}),[p]);var O=function(e,t){return Ke(t)?e:e.filter((function(e){return-1!==e.name.toLowerCase().indexOf(t.toLowerCase())}))};Object(n.useEffect)((function(){t.isAuth&&e.history.push("/".concat(e.asset,"/article"))}),[t]);return r.a.createElement(tt,null,r.a.createElement(at,null,r.a.createElement("div",{className:"view-asset-item"},r.a.createElement("div",{className:"page-header"},r.a.createElement(ce,{title:"Login via Oneauth",subtitle:"You will be redirected to oneauth for signing in to your space",links:function(){var t=[];return e.history.length>2&&t.push({label:"Go back",icon:"reply",action:function(){e.history.goBack()}}),t}(),linkSize:"large"})),g&&r.a.createElement(ae,null),!g&&i&&i.length>0&&r.a.createElement(Ge,{label:"Type company name to filter",handleChange:function(e){f(Object(s.a)({},p,Object(qe.a)({},e.target.name,e.target.value)))},id:"text",data:p}),!g&&i&&0===i.length&&"No space found. Check with Oneauth administrator.",r.a.createElement("div",{className:"list-spaces"},r.a.createElement("div",{className:"list-spaces--content"},null===i||void 0===i?void 0:i.map((function(t){return r.a.createElement(wn,{history:e.history,space:t,key:t._id,asset:e.asset,from:j&&j.from?j.from:null})})))))))},Sn=(a(494),function(e){var t=Object($.a)(),a=Object(n.useState)({email:""}),c=Object(l.a)(a,2),i=c[0],o=c[1],m=Object(n.useState)({email:""}),u=Object(l.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)(!1),v=Object(l.a)(f,2),h=v[0],g=v[1],E=Object(n.useState)(""),b=Object(l.a)(E,2),y=b[0],j=b[1],N=function(){var a=Object(it.a)(ct.a.mark((function a(n){var r,c,o;return ct.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),r={email:""},Ke(i.email)&&(r.email="Email cannot be empty"),/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(i.email.trim().toLowerCase())||(r.email="Invalid email"),p(r),!Xe(r)){a.next=11;break}return a.next=8,t.query({query:W,variables:{email:i.email}});case 8:c=a.sent,(null===(o=c.data)||void 0===o?void 0:o.newEmailSession)?(j(null===o||void 0===o?void 0:o.newEmailSession.sessionId),g(!0)):e.newAccount();case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,h&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"page-header"},r.a.createElement(ce,{title:"Email authentication",subtitle:"You will receive an authentication token to your email"})),r.a.createElement("div",{className:"typhography-4 hyperlink-inline"},"Authentication token is generated and sent to your email. You can click on the login link from your email instruction or copy paste"," ",y," the token id\xa0",r.a.createElement("div",{className:"hyperlink",onClick:function(){return e.tokenLogin()}},"here"))),!h&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"page-header"},r.a.createElement(ce,{title:"Email authentication",subtitle:"You will receive an authentication token to your email"}),r.a.createElement("div",{className:"action-header position-right"},r.a.createElement(me,{action:N,theme:"primary",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Submit"),e.history.length>2&&r.a.createElement(me,{action:function(){e.history.goBack()},theme:"default",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"))),r.a.createElement("form",{method:"GET",onSubmit:N,noValidate:!0},r.a.createElement(Ge,{label:"Email",data:i,errorData:d,id:"email",handleChange:function(e){return t=e,void o(Object(s.a)({},i,Object(qe.a)({},t.target.name,t.target.value)));var t}})),r.a.createElement("div",{className:"email-login-footer"},r.a.createElement("div",null,"or"),r.a.createElement("div",{className:"hyperlink",onClick:function(){return e.tokenLogin()}},"Enter authentication token, if you already have one"))))}),An=function(e){var t=Object($.b)(J),a=Object(l.a)(t,1)[0],c=Object(n.useState)({email:"",firstName:"",lastName:""}),i=Object(l.a)(c,2),o=i[0],m=i[1],u=Object(n.useState)({email:"",firstName:"",lastName:""}),d=Object(l.a)(u,2),p=d[0],f=d[1],v=Object(n.useState)(!1),h=Object(l.a)(v,2),g=h[0],E=h[1],b=function(e){m(Object(s.a)({},o,Object(qe.a)({},e.target.name,e.target.value)))},y=function(e){console.log("*********"),e.preventDefault();var t={email:"",firstName:"",lastName:""};if(Ke(o.firstName)&&(t.firstName="First name cannot be empty"),Ke(o.lastName)&&(t.lastName="Last name cannot be empty"),Ke(o.email)&&(t.email="Email cannot be empty"),/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(o.email.trim().toLowerCase())||(t.email="Invalid email"),f(t),Xe(t)){var n={firstName:o.firstName,lastName:o.lastName,email:o.email};a({variables:{payload:n}}).then((function(){E(!g)}))}};return r.a.createElement(r.a.Fragment,null,g&&r.a.createElement("div",{className:"typhography-4"},"Thank you for creating account. You are ready to go! follow the instruction provided in the email or click on",r.a.createElement("div",{className:"hyperlink",onClick:function(){return e.emailLogin()}},"Login with email")),!g&&r.a.createElement("form",{method:"GET",onSubmit:y,noValidate:!0},r.a.createElement("div",{className:"page-header"},r.a.createElement(ce,{title:"Email authentication",subtitle:"You don't have an user account yet. Signup now"}),r.a.createElement("div",{className:"action-header position-right"},r.a.createElement(me,{action:y,theme:"primary",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Save"),e.history.length>2&&r.a.createElement(me,{action:function(){e.history.goBack()},theme:"default",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"))),r.a.createElement("div",{className:"user-form"},r.a.createElement(Ge,{label:"First Name",data:o,errorData:p,id:"firstName",handleChange:function(e){return b(e)}}),r.a.createElement(Ge,{label:"Last name",data:o,errorData:p,id:"lastName",handleChange:function(e){return b(e)}}),r.a.createElement(Ge,{label:"Email",data:o,errorData:p,id:"email",handleChange:function(e){return b(e)}}))))},Tn=function(e){var t=Object(n.useState)({token:""}),a=Object(l.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)({token:""}),m=Object(l.a)(o,2),u=m[0],d=m[1];Object(n.useEffect)((function(){e.queryParam.auth_token&&(console.log(e.queryParam.auth_token),e.cookies.set("mirror_".concat(e.asset),"email ".concat(e.queryParam.auth_token)),e.history.push("/".concat(e.asset,"/article")))}),[e.queryParam]);var p=function(t){t.preventDefault();var a={token:""};Ke(c.token)&&(a.token="Token cannot be empty"),d(a),Xe(a)&&e.history.push("/".concat(e.asset,"/login/email?type=token&auth_token=").concat(c.token))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"page-header"},r.a.createElement(ce,{title:"Email authentication",subtitle:"You would have received an authentication token in your email"}),r.a.createElement("div",{className:"action-header position-right"},r.a.createElement(me,{action:p,theme:"primary",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Submit"),e.history.length>2&&r.a.createElement(me,{action:function(){e.history.goBack()},theme:"default",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"))),r.a.createElement("form",{method:"GET",onSubmit:p,noValidate:!0},r.a.createElement(Ge,{label:"Token",data:c,errorData:u,id:"token",handleChange:function(e){return t=e,void i(Object(s.a)({},c,Object(qe.a)({},t.target.name,t.target.value)));var t}})),r.a.createElement("div",{className:"email-login-footer"},r.a.createElement("div",null,"or"),r.a.createElement("div",{className:"hyperlink",onClick:function(){return e.emailLogin()}},"Get a token to your email, if you did not receive one")))},In=a(25),Pn=function(e){var t=Object(m.d)((function(e){return e.authorization})),a=Object(n.useState)({type:"email"}),c=Object(l.a)(a,2),i=c[0],o=c[1],s=Object(n.useState)({}),u=Object(l.a)(s,2),d=u[0],p=u[1];Object(n.useEffect)((function(){var t=In.parse(e.location.search);t.type?o({type:t.type}):o({type:"email"}),p(t)}),[e.location.search]);var f=function(){e.history.push("/".concat(e.asset,"/login/email?type=email&from=").concat(d.from))};return Object(n.useEffect)((function(){t.isAuth&&e.history.push(d.from||"/".concat(e.asset,"/article"))}),[t]),r.a.createElement(tt,null,r.a.createElement(at,null,r.a.createElement("div",{className:"view-asset-item"},"email"===i.type&&r.a.createElement(Sn,{history:e.history,tokenLogin:function(){e.history.push("/".concat(e.asset,"/login/email?type=token&from=").concat(d.from))},newAccount:function(){e.history.push("/".concat(e.asset,"/login/email?type=new&from=").concat(d.from))}}),"token"===i.type&&r.a.createElement(Tn,{history:e.history,emailLogin:f,asset:e.asset,queryParam:d,cookies:e.cookies}),"new"===i.type&&r.a.createElement(An,{history:e.history,emailLogin:f}))))},xn=(a(209),function(e){return r.a.createElement("div",{className:"login-method",onClick:function(){return e.action()}},e.icon&&r.a.createElement("i",{className:"material-icons"},e.icon),e.svgIcon&&r.a.createElement("img",{className:"login-method--icon",src:e.svgIcon,alt:"Login via ".concat(e.label)}),r.a.createElement("div",{className:"typography-7"},e.label))}),_n=a(25),$n=function(e){var t=Object(m.d)((function(e){return e.authorization})),a=(Object(m.d)((function(e){return e.profile})),Object(n.useState)()),c=Object(l.a)(a,2),i=c[0],o=c[1];return Object(n.useEffect)((function(){t.isAuth&&e.history.push("/".concat(e.asset,"/article"))}),[t]),Object(n.useEffect)((function(){var t=_n.parse(e.location.search);t.from?o(t.from):o(void 0)}),[e.location.search]),r.a.createElement(tt,null,r.a.createElement(at,null,r.a.createElement(ce,{title:"Sign in",subtitle:"Choose the preferred authentication method to continue"}),r.a.createElement("div",{className:"view-asset-item"},r.a.createElement("div",{className:"space-top-3 mirror-signin"},r.a.createElement("div",{className:"login-home"},r.a.createElement(xn,{action:function(){e.history.push("/".concat(e.asset,"/login/oa").concat(i?"?from=".concat(i):""))},icon:"corporate_fare",label:"Enterprise Login"}),r.a.createElement(xn,{action:function(){console.log("not yet implemented")},icon:"people",label:"Individual Login"}),r.a.createElement(xn,{action:function(){e.history.push("/".concat(e.asset,"/login/email").concat(i?"?from=".concat(i):""))},icon:"email",label:"OTP via Email"}))))))},zn=a(25),Rn=function(e){var t=Object($.a)(),a=Object(n.useState)(!1),c=Object(l.a)(a,2),i=c[0],o=c[1];Object(n.useEffect)((function(){if(e.location.search){var t=zn.parse(e.location.search);s(t.token)}}),[]);var s=function(){var a=Object(it.a)(ct.a.mark((function a(n){var r,c,i,s;return ct.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.query({query:Q,variables:{token:n,asset:e.asset}});case 2:c=a.sent,(null===(i=c.data)||void 0===i?void 0:null===(r=i.newExternSession)||void 0===r?void 0:r.sessionId)?(e.cookies.set("mirror_".concat(e.asset),"extern ".concat(null===i||void 0===i?void 0:null===(s=i.newExternSession)||void 0===s?void 0:s.sessionId)),e.history.push("/".concat(e.asset,"/article"))):o(!0);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,i&&r.a.createElement(tt,null,r.a.createElement(at,null,r.a.createElement("div",{className:"extern-login"},"Invalid token"))))},Mn=(a(495),function(e){var t=Object($.b)(ja),a=Object(l.a)(t,1)[0],c=Object(n.useState)({id:"",title:"",description:"",tags:[],addTags:[],removeTags:[]}),i=Object(l.a)(c,2),o=i[0],m=i[1],u=Object(n.useState)({tags:[]}),d=Object(l.a)(u,2),p=d[0],f=d[1];Object(n.useEffect)((function(){var t,a=[];null===(t=e.post.tags)||void 0===t||t.map((function(e){a.push((null===e||void 0===e?void 0:e.name)||"")})),m({id:e.post.id,title:e.post.title,description:e.post.description,tags:a,addTags:[],removeTags:[]})}),[]),Object(n.useEffect)((function(){return f(Object(s.a)({},p,{tags:[].concat(Object(Ce.a)(o.tags),Object(Ce.a)(o.addTags)).filter((function(e){return!o.removeTags.includes(e)}))}))}),[o.addTags,o.tags,o.removeTags]);var v=function(e){m(Object(s.a)({},o,Object(qe.a)({},e.target.name,e.target.value)))},h=function(e,t){return!Ke(e)||(je("notification",!0,{type:"failure",message:t,duration:5e3}),!1)},g=function(){var t=Object(it.a)(ct.a.mark((function t(){var n;return ct.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h(o.title,"Title is not provided")&&h(o.description,"Provide details for the mentioned title")&&(n={id:e.post.id,title:o.title,description:o.description,addTags:o.addTags,removeTags:o.removeTags},a({variables:{payload:n}}).then((function(t){e.history.length>2&&e.history.goBack()})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"page-header"},r.a.createElement(ce,{title:"Edit post"}),r.a.createElement("div",{className:"action-header position-right"},r.a.createElement(me,{action:g,theme:"primary",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Save"),e.history.length>2&&r.a.createElement(me,{action:function(){e.history.goBack()},theme:"default",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"))),r.a.createElement("div",{className:"create-post-item"},r.a.createElement("div",{className:"user-form"},r.a.createElement(Ge,{label:"Title",data:o,id:"title",handleChange:function(e){return v(e)}}),r.a.createElement(dt,{label:"Description",data:o,id:"description",handleChange:v}),r.a.createElement(Ft,{handleAddition:function(e){o.tags.includes(e)?m(Object(s.a)({},o,{removeTags:o.removeTags.filter((function(t){return t!==e}))})):m(Object(s.a)({},o,{addTags:[].concat(Object(Ce.a)(o.addTags),[e]),removeTags:o.removeTags.filter((function(t){return t!==e}))}))},handleRemoval:function(e){o.tags.includes(e)?m(Object(s.a)({},o,{removeTags:[].concat(Object(Ce.a)(o.removeTags),[e]),addTags:o.addTags.filter((function(t){return t!==e}))})):m(Object(s.a)({},o,{addTags:o.addTags.filter((function(t){return t!==e}))}))},elements:["int","lorem","ipsum","dolor","wrsedfdsf","fgfdgyy","ujku","fre546","yudsf","uiasedas","y78sd"],data:p,id:"tags",label:"Tags"}))))}),Fn=a(25),Dn=function(e){var t=Object(n.useState)({id:""}),a=Object(l.a)(t,2),c=a[0],i=a[1],o=Object($.c)(ba,{variables:{id:c.id}}),s=o.loading,m=o.error,u=o.data;return Object(n.useEffect)((function(){i(Fn.parse(e.location.search))}),[e.location.search]),r.a.createElement(tt,null,r.a.createElement(at,null,!s&&!m&&r.a.createElement(Mn,{history:e.history,id:c.id,asset:e.asset,post:u.post}),s&&r.a.createElement(ae,null)))};a(496);function Bn(){var e=Object(z.a)(["\n  mutation AddPost($payload: PostPayload!) {\n    addPost(payload: $payload) {\n      id\n    }\n  }\n"]);return Bn=function(){return e},e}var Ln=Object(lt.a)(Bn()),Hn=function(e){var t=Object($.b)(Ln),a=Object(l.a)(t,2),c=a[0],i=(a[1].data,Object(n.useState)({title:"",description:"",tags:[],addTags:[],removeTags:[]})),o=Object(l.a)(i,2),m=o[0],u=o[1],d=Object(n.useState)({title:null,description:null}),p=Object(l.a)(d,2),f=p[0],v=p[1],h=Object(n.useState)({tags:[]}),g=Object(l.a)(h,2),E=g[0],b=g[1];Object(n.useEffect)((function(){u({title:"",description:"",tags:[],addTags:[],removeTags:[]})}),[]),Object(n.useEffect)((function(){return b(Object(s.a)({},E,{tags:[].concat(Object(Ce.a)(m.tags),Object(Ce.a)(m.addTags)).filter((function(e){return!m.removeTags.includes(e)}))}))}),[m.addTags,m.tags,m.removeTags]);var y=function(e){u(Object(s.a)({},m,Object(qe.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"page-header"},r.a.createElement(ce,{title:"Create post",subtitle:"Submit your question, and you will receive an answer shortly"}),r.a.createElement("div",{className:"action-header position-right"},r.a.createElement(me,{action:function(){var t={title:null,description:""};if(Ke(m.title)&&(t.title="Title cannot be empty"),Ke(m.description)&&(t.description="Description cannot be empty"),v(t),Xe(t)){var a={title:m.title,description:m.description,addTags:m.addTags,removeTags:m.removeTags};c({variables:{payload:a}}).then((function(t){e.history.length>2?e.history.goBack():e.history.push("/".concat(e.asset,"/post"))}))}},theme:"primary",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Save"),e.history.length>2&&r.a.createElement(me,{action:function(){e.history.goBack()},theme:"default",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"))),r.a.createElement("div",{className:"create-post-item"},r.a.createElement("div",{className:"user-form"},r.a.createElement(Ge,{label:"Title",data:m,errorData:f,id:"title",handleChange:function(e){return y(e)}}),r.a.createElement(dt,{label:"Description",data:m,errorData:f,id:"description",handleChange:function(e){return y(e)}}),r.a.createElement(Ft,{handleAddition:function(e){m.tags.includes(e)?u(Object(s.a)({},m,{removeTags:m.removeTags.filter((function(t){return t!==e}))})):u(Object(s.a)({},m,{addTags:[].concat(Object(Ce.a)(m.addTags),[e]),removeTags:m.removeTags.filter((function(t){return t!==e}))}))},handleRemoval:function(e){m.tags.includes(e)?u(Object(s.a)({},m,{removeTags:[].concat(Object(Ce.a)(m.removeTags),[e]),addTags:m.addTags.filter((function(t){return t!==e}))})):u(Object(s.a)({},m,{addTags:m.addTags.filter((function(t){return t!==e}))}))},elements:["int","lorem","ipsum","dolor","wrsedfdsf","fgfdgyy","ujku","fre546","yudsf","uiasedas","y78sd"],data:E,id:"tags",label:"Tags"}))))},Un=function(e){return r.a.createElement(tt,null,r.a.createElement(at,null,r.a.createElement(Hn,{history:e.history,asset:e.asset})))},qn=(a(497),function(e){return r.a.createElement("div",{className:"tag-item",onClick:function(t){e.history.push("/".concat(e.asset,"/post/tag?name=").concat(e.name))}},r.a.createElement("div",{className:"tag-content"},r.a.createElement("i",{className:"material-icons"},"local_offer"),e.name))}),Gn=function(e){return r.a.createElement("div",{className:"tag-container"},e.tags.map((function(t){return r.a.createElement("div",{key:null===t||void 0===t?void 0:t.id},t&&r.a.createElement(qn,{name:t.name||"",history:e.history,asset:e.asset}))})))},Yn=function(e){var t=Object($.b)(Na,{variables:{id:e.post.id}}),a=Object(l.a)(t,1)[0],c=Object(n.useState)(!1),i=Object(l.a)(c,2),o=i[0],s=i[1],m=function(){e.history.goBack()},u=function(){var t=Object(it.a)(ct.a.mark((function t(){return ct.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a().then((function(){e.history.length>2?m():e.history.push("/".concat(e.asset,"/post/search"))}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"view-post-item"},r.a.createElement(ce,{title:e.post.title||"",links:function(){var t=[];return e.history.length>2&&t.push({label:"Go back",icon:"reply",action:function(){return m()}}),t.push({label:"Edit",icon:"edit",action:function(){e.history.push("/".concat(e.asset,"/post/edit?id=").concat(e.id))}}),t.push({label:"Delete",icon:"delete_outline",action:function(){s(!0)}}),t}(),linkSize:"large"}),r.a.createElement(Gn,{tags:e.post.tags||[],history:e.history,asset:e.asset}),r.a.createElement(Yt,null,e.post.description)),r.a.createElement(Gt,{action:function(){return u()},visible:o,toggleVisibility:function(){return s(!o)}}))},Vn=function(e){var t=Object($.b)(Oa),a=Object(l.a)(t,2),c=a[0],i=(a[1].data,Object($.b)(wa)),o=Object(l.a)(i,2),s=o[0],m=(o[1].data,Object(n.useState)([])),u=Object(l.a)(m,2),d=u[0],p=u[1],f=function(t){d.includes(t)?s({variables:{postId:e.post.id,type:t}}).then((function(){je("notification",!0,{type:"success",message:"You have withdrawn your feedback"})})):c({variables:{postId:e.post.id,type:t}}).then((function(){je("notification",!0,{type:"success",message:"Thank you for sharing your feedback"})}))};return Object(n.useEffect)((function(){var t;(null===(t=e.post)||void 0===t?void 0:t.feedback)?p(e.post.feedback.map((function(e){return e.type}))):p([])}),[e.post.feedback]),r.a.createElement("div",{className:"action-footer position-right space-top-4 post-feedback align-horizontal"},r.a.createElement("div",{className:"align-horizontal"},r.a.createElement("i",{className:"material-icons helpful ".concat(d.includes("helpful")?" active":""),onClick:function(){return f("helpful")}},"thumb_up"),r.a.createElement("div",{className:"typography-5"},e.post.helpful)),r.a.createElement("div",{className:"align-horizontal"},r.a.createElement("i",{className:"material-icons not-helpful ".concat(d.includes("notHelpful")?" active":""),onClick:function(){return f("notHelpful")}},"thumb_down"),r.a.createElement("div",{className:"typography-5"},e.post.notHelpful)))},Wn=function(e){var t=Object($.b)(Aa),a=Object(l.a)(t,1)[0],c=Object(n.useState)({comment:""}),i=Object(l.a)(c,2),o=i[0],m=i[1],u=Object(n.useState)({comment:""}),d=Object(l.a)(u,2),p=d[0],f=d[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(dt,{data:o,errorData:p,id:"comment",handleChange:function(e){return t=e,void m(Object(s.a)({},o,Object(qe.a)({},t.target.name,t.target.value)));var t}}),r.a.createElement("div",{className:"action-header position-right"},r.a.createElement(me,{action:function(){return e.closeEdit()},theme:"default",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"),r.a.createElement(me,{action:function(){var t={comment:""};if(Ke(o.comment)&&(t.comment="Add comment to reply"),f(t),Xe(t)){var n={parentId:e.parentid,postId:e.postId,text:o.comment};a({variables:{payload:n}}).then((function(t){t.data.updatePostComment.id&&e.closeEdit()}))}},theme:"primary",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Save")))},Qn=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)(),s=Object(l.a)(o,2),m=s[0],u=s[1];return Object(n.useEffect)((function(){var t;u(null===(t=e.users)||void 0===t?void 0:t.find((function(t){var a;return t.id===(null===(a=e.parentComment)||void 0===a?void 0:a.createdBy)})))}),[e.parentComment]),r.a.createElement("div",{className:"parent-comment-preview"},r.a.createElement("div",{className:"parent-comment-preview-header"},r.a.createElement("div",{className:"hyperlink align-horizontal",onClick:function(){return i(!c)}},"In reply to ","".concat(null===m||void 0===m?void 0:m.firstName," ").concat(null===m||void 0===m?void 0:m.lastName),"'s post on ",Da(e.parentComment.createdAt)),!c&&r.a.createElement("div",{className:"one-liner"},Ze(e.parentComment.text))),c&&r.a.createElement("div",{className:"parent-comment-preview-content"},r.a.createElement(Yt,null,e.parentComment.text)))},Jn=(a(210),function(e){var t=Object($.b)(Ta),a=Object(l.a)(t,2),c=a[0],i=(a[1].data,Object($.b)(Ia)),o=Object(l.a)(i,2),s=o[0],m=(o[1].data,Object(n.useState)([])),u=Object(l.a)(m,2),d=u[0],p=u[1];Object(n.useEffect)((function(){var t;(null===(t=e.comment)||void 0===t?void 0:t.feedback)?p(e.comment.feedback.map((function(e){return e.type}))):p([])}),[e.comment.feedback]);var f=function(t){d.includes(t)?s({variables:{commentId:e.comment.id,type:t}}).then((function(){je("notification",!0,{type:"success",message:"You have withdrawn your feedback"})})):c({variables:{commentId:e.comment.id,type:t}}).then((function(){je("notification",!0,{type:"success",message:"Thank you for sharing your feedback"})}))};return r.a.createElement("div",{className:"action-footer position-left comment-feedback align-horizontal"},r.a.createElement("div",{className:"align-horizontal"},r.a.createElement("i",{className:"material-icons helpful ".concat(d.includes("helpful")?" active":""),onClick:function(){return f("helpful")}},"thumb_up"),r.a.createElement("div",{className:"typography-5"},e.comment.helpful)),r.a.createElement("div",{className:"align-horizontal"},r.a.createElement("i",{className:"material-icons not-helpful ".concat(d.includes("notHelpful")?" active":""),onClick:function(){return f("notHelpful")}},"thumb_down"),r.a.createElement("div",{className:"typography-5"},e.comment.notHelpful)))}),Kn=function(e){var t=Object($.b)(Aa),a=Object(l.a)(t,1)[0],c=Object(n.useState)({comment:""}),i=Object(l.a)(c,2),o=i[0],m=i[1],u=Object(n.useState)({comment:""}),d=Object(l.a)(u,2),p=d[0],f=d[1];Object(n.useEffect)((function(){var t;m({comment:null===(t=e.comment)||void 0===t?void 0:t.text})}),[e.comment]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(dt,{data:o,errorData:p,id:"comment",handleChange:function(e){return t=e,void m(Object(s.a)({},o,Object(qe.a)({},t.target.name,t.target.value)));var t}}),r.a.createElement("div",{className:"action-footer position-right"},r.a.createElement(me,{action:e.closeEdit,theme:"default",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"),r.a.createElement(me,{action:function(){var t={comment:""};if(Ke(o.comment)&&(t.comment="Add comment to reply"),f(t),Xe(t)){var n={id:e.comment.id,parentId:e.comment.parentId,postId:e.postId,text:o.comment};a({variables:{payload:n}}).then((function(t){t.data.updatePostComment.id&&e.closeEdit()}))}},theme:"primary",variant:"appear"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Save")))},Xn=function(e){var t=Object($.b)(_a),a=Object(l.a)(t,1)[0],c=Object($.b)($a),i=Object(l.a)(c,1)[0],o=Object(n.useState)(!1),s=Object(l.a)(o,2),m=s[0],u=s[1];Object(n.useEffect)((function(){u(!!e.comment.isAnswer)}),[e.comment.isAnswer]);return r.a.createElement("div",{className:"mark-comment",onClick:function(){return m?void i({variables:{id:e.comment.id,isAnswer:m}}).then((function(){je("notification",!0,{type:"success",message:"You removed a comment as answer"})})):void a({variables:{id:e.comment.id,isAnswer:m}}).then((function(){je("notification",!0,{type:"success",message:"You marked a comment as answer"})}))}},r.a.createElement("div",{className:"mark-action ".concat(m?"active":"")},r.a.createElement("div",{className:"followers-count"},r.a.createElement("i",{className:"material-icons-outlined"},"check")),m&&r.a.createElement(r.a.Fragment,null,"Remove Answer"),!m&&r.a.createElement(r.a.Fragment,null,"Mark Answer")))};var Zn=function(e){var t,a,c=Object($.a)(),i=Object(n.useState)("none"),o=Object(l.a)(i,2),s=o[0],m=o[1],u=Object(n.useState)(),d=Object(l.a)(u,2),p=d[0],f=d[1],v=Object(n.useState)(),h=Object(l.a)(v,2),g=h[0],E=h[1];return Object(n.useEffect)((function(){!function(){var t=Object(it.a)(ct.a.mark((function t(){var a,n,r,i,o;return ct.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null===(a=e.comments)||void 0===a?void 0:a.find((function(t){return t.id===e.comment.parentId})),f(r),r){t.next=8;break}return t.next=5,c.query({query:Sa,variables:{id:e.comment.parentId}});case 5:i=t.sent,o=i.data,f(null===o||void 0===o?void 0:o.postComment);case 8:E(null===(n=e.users)||void 0===n?void 0:n.find((function(t){var a;return t.id===(null===(a=e.comment)||void 0===a?void 0:a.createdBy)})));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e.comment]),r.a.createElement("div",{className:"view-comment ".concat(e.comment.isAnswer?"answer":"")},r.a.createElement("div",{className:"view-comment-header"},r.a.createElement("div",{className:"view-comment-meta"},g&&r.a.createElement(Ua,{firstName:g.firstName||"",lastName:g.lastName||"",showName:!0,size:"small"})," ","replied on ",Da(null===(t=e.comment)||void 0===t?void 0:t.createdAt)),r.a.createElement("div",{className:"view-comment-actions"},r.a.createElement(Xn,{comment:e.comment}),r.a.createElement("div",{className:"hyperlink-container"},r.a.createElement("i",{className:"material-icons typography-6"},"edit"),r.a.createElement("div",{className:"hyperlink",onClick:function(){return m("editcomment")}},"Edit")),r.a.createElement("div",{className:"hyperlink-container"},r.a.createElement("i",{className:"material-icons typography-6"},"reply"),r.a.createElement("div",{className:"hyperlink",onClick:function(){return m("reply")}},"Reply")))),["none","reply"].includes(s)&&r.a.createElement(r.a.Fragment,null,p&&r.a.createElement(Qn,{parentComment:p,users:e.users}),r.a.createElement(Yt,null,null===(a=e.comment)||void 0===a?void 0:a.text),"none"===s&&r.a.createElement("div",{className:"action-footer position-between space-top-4"},r.a.createElement(Jn,{comment:e.comment}),e.comment.isAnswer&&r.a.createElement("div",{className:"align-horizontal accepted-answer-container"},r.a.createElement("div",{className:"accepted-answer-label typography-4"},"Accepted answer"),r.a.createElement("i",{className:"answered-answer-icon material-icons-outlined"},"verified")))),"reply"===s&&r.a.createElement(Wn,{postId:e.postId,closeEdit:function(){return m("none")},parentid:e.comment.id}),"editcomment"===s&&r.a.createElement(Kn,{postId:e.postId,closeEdit:function(){return m("none")},comment:e.comment}))},er=function(e){var t,a,n,c,i=Object($.c)(Ca,{variables:{postId:e.postId,pageSize:10,pageNo:0},fetchPolicy:"cache-and-network"}),o=i.loading,l=i.data,m=i.fetchMore,u=Object($.c)(te),d=(u.loading,u.data);return r.a.createElement(Ra,{handleChange:function(){var e,t;(null===l||void 0===l?void 0:null===(e=l.postComments)||void 0===e?void 0:e.hasMore)&&m({variables:{pageNo:null===l||void 0===l?void 0:null===(t=l.postComments)||void 0===t?void 0:t.pageNo},updateQuery:function(e,t){var a=t.fetchMoreResult;return{postComments:Object(s.a)({},e.postComments,{results:[].concat(Object(Ce.a)(e.postComments.results),Object(Ce.a)(a.postComments.results)),pageNo:a.postComments.pageNo,hasMore:a.postComments.hasMore})}}})},selector:".oak-page"},r.a.createElement("div",{className:"comment-list"},null===l||void 0===l?void 0:null===(t=l.postComments)||void 0===t?void 0:null===(a=t.results)||void 0===a?void 0:a.map((function(t){var a;return r.a.createElement(Zn,{postId:e.postId,comment:t,comments:null===(a=l.postComments)||void 0===a?void 0:a.results,users:null===d||void 0===d?void 0:d.users,key:t.id})})),0===(null===l||void 0===l?void 0:null===(n=l.postComments)||void 0===n?void 0:null===(c=n.results)||void 0===c?void 0:c.length)&&r.a.createElement("div",{className:"typography-6"},"No comments")),r.a.createElement("div",null,o?r.a.createElement(ae,null):""))},tr=function(e){var t,a,c=Object($.c)(Ca,{variables:{postId:e.postId},fetchPolicy:"network-only"}),i=(c.loading,c.data),o=(c.fetchMore,Object(n.useState)(!1)),s=Object(l.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)(!0),p=Object(l.a)(d,2),f=p[0],v=p[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section-header"},r.a.createElement(Va,{title:"Comments (".concat(null===i||void 0===i?void 0:null===(t=i.postComments)||void 0===t?void 0:null===(a=t.results)||void 0===a?void 0:a.length,")"),links:[{label:"New comment",icon:"add_comment",action:function(){return u(!m)}},{label:f?"Hide":"Show",icon:f?"expand_less":"expand_more",action:function(){return v(!f)}}],linkSize:"large"})),m&&r.a.createElement(Wn,{postId:e.postId,closeEdit:function(){return u(!1)}}),r.a.createElement("div",{className:f?"comment-list show":"comment-list hide"},r.a.createElement(er,{postId:e.postId})))},ar=function(e){var t=Object(m.d)((function(e){return e.authorization})),a=Object($.b)(Pa),c=Object(l.a)(a,1)[0],i=Object($.b)(xa),o=Object(l.a)(i,1)[0],s=Object(n.useState)(!1),u=Object(l.a)(s,2),d=u[0],p=u[1];Object(n.useEffect)((function(){var a;p(!!(null===(a=e.post.followerList)||void 0===a?void 0:a.find((function(e){return(null===e||void 0===e?void 0:e.userId)===t.id}))))}),[e.post.followerList]);return r.a.createElement("div",{className:"follower-view",onClick:function(){return d?void o({variables:{postId:e.post.id}}).then((function(){je("notification",!0,{type:"success",message:"You are no more following the post"})})):void c({variables:{postId:e.post.id}}).then((function(){je("notification",!0,{type:"success",message:"You are now following the post"})}))}},r.a.createElement("div",{className:"follow-action ".concat(d?"active":"")},r.a.createElement("div",{className:"followers-count"},r.a.createElement("i",{className:"material-icons-outlined"},"rss_feed")),d&&r.a.createElement(r.a.Fragment,null,"Stop following"),!d&&r.a.createElement(r.a.Fragment,null,"Follow")))},nr=(a(498),function(e){return r.a.createElement("div",{className:"status-chip-container"},r.a.createElement("div",{className:"status-chip ".concat(e.color)},r.a.createElement("i",{className:"material-icons"},e.icon),e.label))}),rr=function(e){return r.a.createElement("div",{className:"post-status-view"},e.post.isAnswered&&r.a.createElement("div",{className:"post-status"},r.a.createElement(nr,{label:"Closed",color:"success",icon:"check_circle"}),r.a.createElement("div",{className:"typography-4 post-status-label desktop-only"},"Answered on ".concat(Da(e.post.answeredOn)))),!e.post.isAnswered&&r.a.createElement("div",{className:"post-status"},r.a.createElement(nr,{label:"Open",color:"failure",icon:"help"}),r.a.createElement("div",{className:"typography-4 post-status-label desktop-only"},"Asked ".concat(Math.round(Math.abs((t=e.post.createdAt)?(new Date(t).getTime()-(new Date).getTime())/864e5:0))," days ago"))));var t},cr=a(25),ir=function(e){Object(m.d)((function(e){return e.authorization}));var t=Object(n.useState)({id:""}),a=Object(l.a)(t,2),c=a[0],i=a[1],o=Object($.c)(ba,{variables:{id:c.id},fetchPolicy:"cache-and-network"}),s=o.loading,u=o.error,d=o.data;return Object(n.useEffect)((function(){i(cr.parse(e.location.search))}),[e.location.search]),r.a.createElement(tt,null,r.a.createElement(at,null,s&&r.a.createElement(ae,null),!s&&!u&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"post-status-header"},r.a.createElement(rr,{post:d.post}),r.a.createElement(ar,{post:d.post})),r.a.createElement(Yn,{history:e.history,id:c.id,asset:e.asset,post:d.post}),r.a.createElement(Vn,{post:d.post})),u&&r.a.createElement("div",{className:"typography-6"},"Post does not exist")),r.a.createElement(at,null,r.a.createElement("div",{className:"comment-section-wrapper"},r.a.createElement(tr,{postId:c.id}))))},or=(a(97),function(e){return r.a.createElement("div",{className:"tag-link"},r.a.createElement("div",{className:"hyperlink-drama",onClick:e.handleClick},e.tag.name," "),r.a.createElement("div",null,"\xa0(".concat(e.tag.count,")")))}),sr=function(e){var t,a=Object($.c)(ka,{fetchPolicy:"cache-and-network"}).data;return r.a.createElement(at,null,r.a.createElement(ce,{title:"Posts by tag",links:[{label:"Or Search instead",action:function(){e.history.push("/".concat(e.asset,"/post/search"))}}]}),r.a.createElement("div",{className:"tag-section"},null===a||void 0===a?void 0:null===(t=a.postTagCloud)||void 0===t?void 0:t.map((function(t){return r.a.createElement(or,{key:t.name,tag:t,handleClick:function(){return e.handleChange(t.name)}})}))))},lr=(a(499),function(e){var t,a,n,c,i,o,s,l,m,u,d,p,f,v,h;return r.a.createElement("div",{className:"post-link"},r.a.createElement("div",{className:"post-title typography-7"},r.a.createElement("div",{className:"link hyperlink-drama",onClick:function(){e.history.push("/".concat(e.asset,"/post/view?id=").concat(e.post.id))}},null===(t=e.post)||void 0===t?void 0:t.title)),r.a.createElement("div",{className:"post-meta"},(null===(a=e.post)||void 0===a?void 0:a.isAnswered)&&r.a.createElement("div",{className:"answered-post"},r.a.createElement("i",{className:"material-icons-outlined"},"verified")),(null===(n=e.post)||void 0===n?void 0:n.createdAt)&&r.a.createElement("div",{className:"post-date"},"Published on ",Da(null===(c=e.post)||void 0===c?void 0:c.createdAt)),(null===(i=e.post)||void 0===i?void 0:i.views)>0&&r.a.createElement("div",{className:"post-statistic-chip"},"".concat(null===(o=e.post)||void 0===o?void 0:o.views," ").concat(1===(null===(s=e.post)||void 0===s?void 0:s.views)?"view":"views")),(null===(l=e.post)||void 0===l?void 0:l.comments)>0&&r.a.createElement("div",{className:"post-statistic-chip comments"},null===(m=e.post)||void 0===m?void 0:m.comments,r.a.createElement("i",{className:"material-icons"},"forum")),(null===(u=e.post)||void 0===u?void 0:u.helpful)>0&&r.a.createElement("div",{className:"post-statistic-chip helpful"},null===(d=e.post)||void 0===d?void 0:d.helpful,r.a.createElement("i",{className:"material-icons"},"thumb_up")),(null===(p=e.post)||void 0===p?void 0:p.notHelpful)>0&&r.a.createElement("div",{className:"post-statistic-chip not-helpful"},null===(f=e.post)||void 0===f?void 0:f.notHelpful,r.a.createElement("i",{className:"material-icons"},"thumb_down")),(null===(v=e.post)||void 0===v?void 0:v.followers)>0&&r.a.createElement("div",{className:"post-statistic-chip follower"},null===(h=e.post)||void 0===h?void 0:h.followers,r.a.createElement("i",{className:"material-icons"},"rss_feed"))),r.a.createElement("div",{className:"post-description typography-4 three-liner"},Ze(e.post.description)))}),mr=function(e){var t,a,n=Object($.c)(ya,{variables:{tag:e.tag,pageSize:10,pageNo:0},fetchPolicy:"cache-and-network"}),c=n.loading,i=(n.error,n.data),o=n.fetchMore;n.refetch;return r.a.createElement(at,null,r.a.createElement(ce,{title:"Posts by tag",subtitle:'Showing posts for tag "'.concat(e.tag,'"'),links:[{label:"Go back",icon:"reply",action:function(){e.history.goBack()}},{label:"See other tags",icon:"local_offer",action:function(){e.history.push("/".concat(e.asset,"/post/tag"))}}]}),r.a.createElement("div",{className:"tag-post-section"},r.a.createElement(Ra,{handleChange:function(){var e,t;(null===i||void 0===i?void 0:null===(e=i.postsByTag)||void 0===e?void 0:e.hasMore)&&o({variables:{pageNo:null===i||void 0===i?void 0:null===(t=i.postsByTag)||void 0===t?void 0:t.pageNo},updateQuery:function(e,t){var a=t.fetchMoreResult;return{postsByTag:Object(s.a)({},e.postsByTag,{results:[].concat(Object(Ce.a)(e.postsByTag.results),Object(Ce.a)(a.postsByTag.results)),pageNo:a.postsByTag.pageNo,hasMore:a.postsByTag.hasMore})}}})},selector:".oak-page"},r.a.createElement("div",{className:"search-results-section"},r.a.createElement("div",{className:"search-results-container"},null===i||void 0===i?void 0:null===(t=i.postsByTag)||void 0===t?void 0:null===(a=t.results)||void 0===a?void 0:a.map((function(t,a){var n;return r.a.createElement("div",{key:(null===t||void 0===t?void 0:null===(n=t.post)||void 0===n?void 0:n.id)||a},(null===t||void 0===t?void 0:t.post)&&r.a.createElement(lr,{post:t.post,asset:e.asset,history:e.history}))}))),r.a.createElement("div",null,c?r.a.createElement(ae,null):"")))))},ur=a(25),dr=function(e){var t=Object(n.useState)({name:""}),a=Object(l.a)(t,2),c=a[0],i=a[1];Object(n.useEffect)((function(){i(ur.parse(e.location.search))}),[e.location.search]);return r.a.createElement(tt,null,!c.name&&r.a.createElement(sr,{handleChange:function(t){e.history.push("/".concat(e.asset,"/post/tag?name=").concat(t))},asset:e.asset,history:e.history}),c.name&&r.a.createElement(mr,{tag:c.name,asset:e.asset,history:e.history}))},pr=(a(131),function(e){var t=function(){e.history.push("/".concat(e.asset,"/post/browse"))};return r.a.createElement("div",{className:"search-alternate-section"},r.a.createElement("div",{className:"typography-4 no-post-match-message"},"No posts found matching your search criteria"),r.a.createElement(Va,{title:"Here is what you can do next",subtitle:"Other ways of getting answer"}),r.a.createElement("div",{className:"no-post-match-action"},r.a.createElement("div",{className:"hyperlink",onClick:t},"Browse posts by timeline"),r.a.createElement("div",{className:"hyperlink",onClick:t},"Submit your question")))}),fr=function(e){var t,a,c,i,o,m,u=Object(n.useState)({text:""}),d=Object(l.a)(u,2),p=d[0],f=d[1],v=Object($.c)(ga,{variables:{text:e.text,pageSize:10,pageNo:0}}),h=v.loading,g=(v.error,v.data),E=v.fetchMore,b=v.refetch;Object(n.useEffect)((function(){f({text:e.text||""}),b()}),[e.text]);return r.a.createElement("div",{className:"search-section"},r.a.createElement("form",{method:"GET",onSubmit:function(t){t.preventDefault(),p.text&&e.handleSearchTextChange(p.text)},noValidate:!0},r.a.createElement(Ge,{data:p,id:"text",handleChange:function(e){f(Object(s.a)({},p,Object(qe.a)({},e.target.name,e.target.value)))},label:"Type your question"})),r.a.createElement(Ra,{handleChange:function(){var e,t;(null===g||void 0===g?void 0:null===(e=g.searchPosts)||void 0===e?void 0:e.hasMore)&&E({variables:{pageNo:null===g||void 0===g?void 0:null===(t=g.searchPosts)||void 0===t?void 0:t.pageNo},updateQuery:function(e,t){var a=t.fetchMoreResult;return{searchPosts:Object(s.a)({},e.searchPosts,{results:[].concat(Object(Ce.a)(e.searchPosts.results),Object(Ce.a)(a.searchPosts.results)),pageNo:a.searchPosts.pageNo,hasMore:a.searchPosts.hasMore})}}})},selector:".oak-page"},r.a.createElement("div",{className:"search-results-section"},r.a.createElement("div",{className:"search-results-container"},(null===g||void 0===g?void 0:null===(t=g.searchPosts)||void 0===t?void 0:null===(a=t.results)||void 0===a?void 0:a.length)>0&&r.a.createElement(Va,{title:"Search results",subtitle:'Showing results for "'.concat(e.text,'"')}),null===g||void 0===g?void 0:null===(c=g.searchPosts)||void 0===c?void 0:null===(i=c.results)||void 0===i?void 0:i.map((function(t){return r.a.createElement(lr,{key:t.id,post:t,asset:e.asset,history:e.history})})),0===(null===g||void 0===g?void 0:null===(o=g.searchPosts)||void 0===o?void 0:null===(m=o.results)||void 0===m?void 0:m.length)&&e.text&&!h&&r.a.createElement(pr,{history:e.history,asset:e.asset})),r.a.createElement("div",null,h?r.a.createElement(ae,null):""))))},vr=a(25),hr=function(e){var t=Object(n.useState)({text:""}),a=Object(l.a)(t,2),c=a[0],i=a[1];Object(n.useEffect)((function(){i(vr.parse(e.location.search))}),[e.location.search]);return r.a.createElement(tt,null,r.a.createElement(at,null,r.a.createElement("div",{className:"browse-post"},r.a.createElement(ce,{title:"Search posts",links:[{label:"Or Browse by timeline instead",action:function(){e.history.push("/".concat(e.asset,"/post/browse"))}}]}),r.a.createElement(fr,{asset:e.asset,history:e.history,text:c.text,handleSearchTextChange:function(t){e.history.push("/".concat(e.asset,"/post/search?text=").concat(t))}}))))},gr=(a(211),function(e){var t,a,n,c,i=Object($.c)(ha,{variables:{pageSize:10,pageNo:0},fetchPolicy:"cache-and-network"}),o=i.loading,l=i.data,m=i.fetchMore;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section-header"},r.a.createElement(Va,{title:"Posts"}),r.a.createElement("div",null,r.a.createElement(me,{theme:"primary",variant:"regular",action:function(t){e.history.push("/".concat(e.asset,"/post/create"))}},"New post"))),r.a.createElement(Ra,{handleChange:function(){var e,t;(null===l||void 0===l?void 0:null===(e=l.posts)||void 0===e?void 0:e.hasMore)&&m({variables:{pageNo:null===l||void 0===l?void 0:null===(t=l.posts)||void 0===t?void 0:t.pageNo},updateQuery:function(e,t){var a=t.fetchMoreResult;return{posts:Object(s.a)({},e.posts,{results:[].concat(Object(Ce.a)(e.posts.results),Object(Ce.a)(a.posts.results)),pageNo:a.posts.pageNo,hasMore:a.posts.hasMore})}}})},selector:".oak-page"},r.a.createElement("div",{className:"post-section"},r.a.createElement("div",{className:"post-list-container"},null===l||void 0===l?void 0:null===(t=l.posts)||void 0===t?void 0:null===(a=t.results)||void 0===a?void 0:a.map((function(t){return r.a.createElement(lr,{key:t.id,post:t,asset:e.asset,history:e.history})})),0===(null===l||void 0===l?void 0:null===(n=l.posts)||void 0===n?void 0:null===(c=n.results)||void 0===c?void 0:c.length)&&r.a.createElement("div",{className:"typography-6"},"No posts")),r.a.createElement("div",null,o?r.a.createElement(ae,null):""))))}),Er=function(e){return r.a.createElement(tt,null,r.a.createElement(at,null,r.a.createElement("div",{className:"browse-post"},r.a.createElement(ce,{title:"Browse posts by timeline",links:[{label:"Or search instead",action:function(){e.history.push("/".concat(e.asset,"/post/search"))}}]}),r.a.createElement("div",{className:"typography-4"},"Here you can explore the posts in forum, by publication month of the post"),r.a.createElement("div",{className:"section-close"}),r.a.createElement(gr,{history:e.history,asset:e.asset}))))},br=(a(500),function(e){return r.a.createElement(tt,null,r.a.createElement(at,null,r.a.createElement(ce,{title:"Customer support forum",subtitle:"Connecting seekers, contributors and customer support"}),r.a.createElement("div",{className:"typography-4 space-bottom-4"},r.a.createElement("ol",null,r.a.createElement("div",{className:"typography-6"},"Report a problem and wait for a solution"),r.a.createElement("li",null,"Post your problem"),r.a.createElement("li",null,"A customer support should respond to you with a solution"),r.a.createElement("li",null,"A community member like you would provide a solution, if they know the answer"),r.a.createElement("li",null,"Either case, you should receive an email notification once someone responds to your post")),r.a.createElement("ol",null,r.a.createElement("div",{className:"typography-6 space-top-2"},"Search for already answered posts or similar posts"),r.a.createElement("li",null,"Search posts that are similar to your problem"),r.a.createElement("li",null,"Find an instant answer based on the already answered problem"))),r.a.createElement("div",{className:"action-header"},r.a.createElement(me,{theme:"primary",variant:"appear",action:function(t){e.history.push("/".concat(e.asset,"/post/search"))}},"Search forum"),r.a.createElement(me,{theme:"primary",variant:"appear",action:function(t){e.history.push("/".concat(e.asset,"/post/browse"))}},"Browse by timeline"),r.a.createElement(me,{theme:"primary",variant:"appear",action:function(t){e.history.push("/".concat(e.asset,"/post/tag"))}},"View by tags")),r.a.createElement("div",{className:"space-top-2 space-bottom-2 action-header"},"or"),r.a.createElement("div",{className:"action-header"},r.a.createElement(me,{theme:"secondary",variant:"drama",action:function(t){e.history.push("/".concat(e.asset,"/post/create"))}},"Post your problem"))))}),yr=a(25),jr=function(e){var t=Object($.c)(X,{variables:{assetId:yr.parse(e.location.search).id}}),a=t.loading,n=t.error,c=t.data;return r.a.createElement(tt,null,r.a.createElement(at,null,r.a.createElement("div",{className:"view-asset-item"},r.a.createElement(ce,{title:"Asset details"}),!a&&!n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"typography-5 align-horizontal"},"Asset Id:",r.a.createElement(Yt,null,c.asset.assetId)),r.a.createElement("div",{className:"typography-5 align-horizontal"},"Asset Name:",r.a.createElement(Yt,null,c.asset.name)),r.a.createElement("div",{className:"typography-5 "},"Asset Description:",r.a.createElement(Yt,null,c.asset.description)),r.a.createElement("div",{className:"typography-5 align-horizontal"},"JWT Password:",r.a.createElement(Yt,null,c.asset.jwtPassword))))))},Nr=(a(501),function(e){var t=Object($.c)(Ea,{variables:{pageSize:10,pageNo:0},fetchPolicy:"cache-and-network"}),a=t.loading,n=t.error,c=t.data;return r.a.createElement(tt,null,r.a.createElement(at,null,r.a.createElement(ce,{title:"My posts",subtitle:"Posts submitted by me. Posts that I am following"}),a&&r.a.createElement(ae,null),!a&&!n&&r.a.createElement("div",{className:"my-posts"},c.myPosts.results.map((function(t){return r.a.createElement(lr,{post:t,asset:e.asset,history:e.history,key:t.id})}))),n&&r.a.createElement("div",{className:"typography-6"},"Post does not exist")))}),Or={themecolor1:wr("#69A7BF"),themecolor2:wr("#99587B"),themecolor3:wr("#A66C26"),themecolor4:wr("#37AE82")};function wr(e){return Object(T.a)({palette:{primary:{main:e},secondary:{main:e}}})}var kr=Object(m.b)((function(e){return{user:e.user,profile:e.profile}}),{getProfile:we,setProfile:ke,getUser:function(){return function(e){e({type:"GET_USER"})}},addUser:function(e){return function(t){t({type:"ADD_USER",payload:e})}}})(Object(o.b)((function(e){var t=Object(m.d)((function(e){return e.authorization})),a=Object(n.useState)(""),c=Object(l.a)(a,2),i=c[0],o=c[1];Object(n.useEffect)((function(){Ne().subscribe((function(e){"spaceChange"===e.name&&o(e.data)}))}),[]);var u=Object(w.b)({uri:"https://api.ioak.io:8030/graphql"}),d=Object(k.a)((function(e,a){var n=a.headers;return{headers:Object(s.a)({},n,{authorization:"".concat(i," ").concat(null===t||void 0===t?void 0:t.token)||""})}})),p=new O.c({link:d.concat(u),cache:new N.a});return Object(n.useEffect)((function(){e.getProfile()}),[]),r.a.createElement(C.a,{client:p},r.a.createElement("div",{className:"App ".concat(e.profile.theme," ").concat(e.profile.textSize," ").concat(e.profile.themeColor)},r.a.createElement(A.HashRouter,null,r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"body-content"},r.a.createElement(Ae,null),r.a.createElement(I.a,{theme:Or.themecolor1},r.a.createElement(Ue,e),r.a.createElement(S.Route,{path:"/login",render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:_}))}}),r.a.createElement(S.Route,{path:"/:asset/unauthorized",render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:st,middleware:["isAuthenticated"]}))}}),r.a.createElement(S.Route,{path:"/",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:de}))}}),r.a.createElement(S.Route,{path:"/home",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:de}))}}),r.a.createElement(S.Route,{path:"/tenant",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:et}))}}),r.a.createElement(S.Route,{path:"/asset/create",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:bn}))}}),r.a.createElement(S.Route,{path:"/asset/summary",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:jr}))}}),r.a.createElement(S.Route,{path:"/:asset/home",render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:P,middleware:["readAuthentication"]}))}}),r.a.createElement(S.Route,{path:"/:asset/login/home",render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:$n,middleware:["readAuthentication"]}))}}),r.a.createElement(S.Route,{path:"/:asset/login/extern",render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:Rn,middleware:["readAuthentication"]}))}}),r.a.createElement(S.Route,{path:"/:asset/login/oa",render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:Cn,middleware:["readAuthentication"]}))}}),r.a.createElement(S.Route,{path:"/:asset/login/email",render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:Pn,middleware:["readAuthentication"]}))}}),r.a.createElement(S.Route,{path:"/:asset/article",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:nt,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/article/browse",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:sn,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/article/search",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:dn,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/article/tag",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:gn,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/article/view",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:Ja,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/article/create",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:Ut,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/article/edit",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:Za,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/post",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:br,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/post/browse",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:Er,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/post/search",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:hr,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/post/tag",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:dr,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/post/view",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:ir,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/post/create",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:Un,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/post/edit",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:Dn,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/mypost/mypost",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:Nr,middleware:["authenticate"]}))}}),r.a.createElement(S.Route,{path:"/:asset/asset/view",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:jn,middleware:["readAuthentication"]}))}}),r.a.createElement(S.Route,{path:"/:asset/asset/edit",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:On,middleware:["readAuthentication"]}))}}),r.a.createElement(S.Route,{path:"/:asset",exact:!0,render:function(t){return r.a.createElement(ot,Object.assign({},t,e,{component:P,middleware:["readAuthentication"]}))}})))))))}))),Cr=(a(502),function(){Object(m.d)((function(e){return e.authorization})),Object(m.d)((function(e){return e.profile})),Object(m.c)();return r.a.createElement("div",{className:"logo"},r.a.createElement("img",{className:"logo--image",src:Ie.a,alt:"Oneauth logo"}))}),Sr=(a(503),function(){return r.a.createElement("div",{className:"health-check-failed"},r.a.createElement("div",{className:"health-check-failed--logo"},r.a.createElement(Cr,null)),r.a.createElement("div",{className:"health-check-failed--message"},"We are working on improving your experience. We will be back soon. Check back in few hours."))}),Ar=(a(504),function(){return r.a.createElement("div",{className:"health-check-progress"},r.a.createElement(ae,null))}),Tr=function(e){var t=Object(n.useState)({isVerified:!1,allowAccess:!1}),a=Object(l.a)(t,2),c=a[0],i=a[1];return Object(n.useEffect)((function(){he(Oe.API_HEALTHCHECK_HELLO,null,"https://api.ioak.io:8010").then((function(e){200===e.status?i(Object(s.a)({},c,{isVerified:!0,allowAccess:!0})):i(Object(s.a)({},c,{isVerified:!0,allowAccess:!1}))})).catch((function(e){i(Object(s.a)({},c,{isVerified:!0,allowAccess:!1}))}))}),[]),r.a.createElement(m.a,{store:j},c.isVerified&&c.allowAccess&&r.a.createElement(kr,e),c.isVerified&&!c.allowAccess&&r.a.createElement(Sr,null),!c.isVerified&&r.a.createElement(Ar,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(o.a,null,r.a.createElement(Tr,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e,t,a){},58:function(e,t,a){e.exports=a.p+"static/media/mirror_white.ff53f974.svg"},79:function(e,t,a){},80:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){}},[[222,1,2]]]);
//# sourceMappingURL=main.c20b9d62.chunk.js.map